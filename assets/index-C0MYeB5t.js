(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Zi(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const ae={},En=[],Tt=()=>{},Eu=()=>!1,yo=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),es=n=>n.startsWith("onUpdate:"),He=Object.assign,ts=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},wu=Object.prototype.hasOwnProperty,X=(n,e)=>wu.call(n,e),$=Array.isArray,wn=n=>Co(n)==="[object Map]",Kc=n=>Co(n)==="[object Set]",j=n=>typeof n=="function",Te=n=>typeof n=="string",zt=n=>typeof n=="symbol",fe=n=>n!==null&&typeof n=="object",qc=n=>(fe(n)||j(n))&&j(n.then)&&j(n.catch),$c=Object.prototype.toString,Co=n=>$c.call(n),_u=n=>Co(n).slice(8,-1),Gc=n=>Co(n)==="[object Object]",ns=n=>Te(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Wn=Zi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),To=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Su=/-(\w)/g,$t=To(n=>n.replace(Su,(e,t)=>t?t.toUpperCase():"")),Iu=/\B([A-Z])/g,gn=To(n=>n.replace(Iu,"-$1").toLowerCase()),zc=To(n=>n.charAt(0).toUpperCase()+n.slice(1)),ei=To(n=>n?`on${zc(n)}`:""),Bt=(n,e)=>!Object.is(n,e),ti=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},jc=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},vu=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let _a;const Ao=()=>_a||(_a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rs(n){if($(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=Te(r)?Ou(r):rs(r);if(o)for(const i in o)e[i]=o[i]}return e}else if(Te(n)||fe(n))return n}const bu=/;(?![^(]*\))/g,Ru=/:([^]+)/,ku=/\/\*[^]*?\*\//g;function Ou(n){const e={};return n.replace(ku,"").split(bu).forEach(t=>{if(t){const r=t.split(Ru);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Eo(n){let e="";if(Te(n))e=n;else if($(n))for(let t=0;t<n.length;t++){const r=Eo(n[t]);r&&(e+=r+" ")}else if(fe(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Pu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nu=Zi(Pu);function Vc(n){return!!n||n===""}const Wc=n=>!!(n&&n.__v_isRef===!0),we=n=>Te(n)?n:n==null?"":$(n)||fe(n)&&(n.toString===$c||!j(n.toString))?Wc(n)?we(n.value):JSON.stringify(n,Yc,2):String(n),Yc=(n,e)=>Wc(e)?Yc(n,e.value):wn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,o],i)=>(t[ni(r,i)+" =>"]=o,t),{})}:Kc(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ni(t))}:zt(e)?ni(e):fe(e)&&!$(e)&&!Gc(e)?String(e):e,ni=(n,e="")=>{var t;return zt(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class Mu{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=je;try{return je=this,e()}finally{je=t}}}on(){je=this}off(){je=this.parent}stop(e){if(this._active){this._active=!1;let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function xu(){return je}let se;const ri=new WeakSet;class Qc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ri.has(this)&&(ri.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Sa(this),Zc(this);const e=se,t=et;se=this,et=!0;try{return this.fn()}finally{el(this),se=e,et=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ss(e);this.deps=this.depsTail=void 0,Sa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ri.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ti(this)&&this.run()}get dirty(){return Ti(this)}}let Jc=0,Yn,Qn;function Xc(n,e=!1){if(n.flags|=8,e){n.next=Qn,Qn=n;return}n.next=Yn,Yn=n}function os(){Jc++}function is(){if(--Jc>0)return;if(Qn){let e=Qn;for(Qn=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Yn;){let e=Yn;for(Yn=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function Zc(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function el(n){let e,t=n.depsTail,r=t;for(;r;){const o=r.prevDep;r.version===-1?(r===t&&(t=o),ss(r),Du(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}n.deps=e,n.depsTail=t}function Ti(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(tl(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function tl(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===ir))return;n.globalVersion=ir;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!Ti(n)){n.flags&=-3;return}const t=se,r=et;se=n,et=!0;try{Zc(n);const o=n.fn(n._value);(e.version===0||Bt(o,n._value))&&(n._value=o,e.version++)}catch(o){throw e.version++,o}finally{se=t,et=r,el(n),n.flags&=-3}}function ss(n,e=!1){const{dep:t,prevSub:r,nextSub:o}=n;if(r&&(r.nextSub=o,n.prevSub=void 0),o&&(o.prevSub=r,n.nextSub=void 0),t.subs===n&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)ss(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Du(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let et=!0;const nl=[];function jt(){nl.push(et),et=!1}function Vt(){const n=nl.pop();et=n===void 0?!0:n}function Sa(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=se;se=void 0;try{e()}finally{se=t}}}let ir=0;class Lu{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class as{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!se||!et||se===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==se)t=this.activeLink=new Lu(se,this),se.deps?(t.prevDep=se.depsTail,se.depsTail.nextDep=t,se.depsTail=t):se.deps=se.depsTail=t,rl(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=se.depsTail,t.nextDep=void 0,se.depsTail.nextDep=t,se.depsTail=t,se.deps===t&&(se.deps=r)}return t}trigger(e){this.version++,ir++,this.notify(e)}notify(e){os();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{is()}}}function rl(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)rl(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Ai=new WeakMap,rn=Symbol(""),Ei=Symbol(""),sr=Symbol("");function Ie(n,e,t){if(et&&se){let r=Ai.get(n);r||Ai.set(n,r=new Map);let o=r.get(t);o||(r.set(t,o=new as),o.map=r,o.key=t),o.track()}}function kt(n,e,t,r,o,i){const s=Ai.get(n);if(!s){ir++;return}const a=c=>{c&&c.trigger()};if(os(),e==="clear")s.forEach(a);else{const c=$(n),d=c&&ns(t);if(c&&t==="length"){const l=Number(r);s.forEach((h,f)=>{(f==="length"||f===sr||!zt(f)&&f>=l)&&a(h)})}else switch((t!==void 0||s.has(void 0))&&a(s.get(t)),d&&a(s.get(sr)),e){case"add":c?d&&a(s.get("length")):(a(s.get(rn)),wn(n)&&a(s.get(Ei)));break;case"delete":c||(a(s.get(rn)),wn(n)&&a(s.get(Ei)));break;case"set":wn(n)&&a(s.get(rn));break}}is()}function pn(n){const e=J(n);return e===n?e:(Ie(e,"iterate",sr),Je(n)?e:e.map(ve))}function wo(n){return Ie(n=J(n),"iterate",sr),n}const Uu={__proto__:null,[Symbol.iterator](){return oi(this,Symbol.iterator,ve)},concat(...n){return pn(this).concat(...n.map(e=>$(e)?pn(e):e))},entries(){return oi(this,"entries",n=>(n[1]=ve(n[1]),n))},every(n,e){return It(this,"every",n,e,void 0,arguments)},filter(n,e){return It(this,"filter",n,e,t=>t.map(ve),arguments)},find(n,e){return It(this,"find",n,e,ve,arguments)},findIndex(n,e){return It(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return It(this,"findLast",n,e,ve,arguments)},findLastIndex(n,e){return It(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return It(this,"forEach",n,e,void 0,arguments)},includes(...n){return ii(this,"includes",n)},indexOf(...n){return ii(this,"indexOf",n)},join(n){return pn(this).join(n)},lastIndexOf(...n){return ii(this,"lastIndexOf",n)},map(n,e){return It(this,"map",n,e,void 0,arguments)},pop(){return $n(this,"pop")},push(...n){return $n(this,"push",n)},reduce(n,...e){return Ia(this,"reduce",n,e)},reduceRight(n,...e){return Ia(this,"reduceRight",n,e)},shift(){return $n(this,"shift")},some(n,e){return It(this,"some",n,e,void 0,arguments)},splice(...n){return $n(this,"splice",n)},toReversed(){return pn(this).toReversed()},toSorted(n){return pn(this).toSorted(n)},toSpliced(...n){return pn(this).toSpliced(...n)},unshift(...n){return $n(this,"unshift",n)},values(){return oi(this,"values",ve)}};function oi(n,e,t){const r=wo(n),o=r[e]();return r!==n&&!Je(n)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=t(i.value)),i}),o}const Hu=Array.prototype;function It(n,e,t,r,o,i){const s=wo(n),a=s!==n&&!Je(n),c=s[e];if(c!==Hu[e]){const h=c.apply(n,i);return a?ve(h):h}let d=t;s!==n&&(a?d=function(h,f){return t.call(this,ve(h),f,n)}:t.length>2&&(d=function(h,f){return t.call(this,h,f,n)}));const l=c.call(s,d,r);return a&&o?o(l):l}function Ia(n,e,t,r){const o=wo(n);let i=t;return o!==n&&(Je(n)?t.length>3&&(i=function(s,a,c){return t.call(this,s,a,c,n)}):i=function(s,a,c){return t.call(this,s,ve(a),c,n)}),o[e](i,...r)}function ii(n,e,t){const r=J(n);Ie(r,"iterate",sr);const o=r[e](...t);return(o===-1||o===!1)&&hs(t[0])?(t[0]=J(t[0]),r[e](...t)):o}function $n(n,e,t=[]){jt(),os();const r=J(n)[e].apply(n,t);return is(),Vt(),r}const Fu=Zi("__proto__,__v_isRef,__isVue"),ol=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(zt));function Bu(n){zt(n)||(n=String(n));const e=J(this);return Ie(e,"has",n),e.hasOwnProperty(n)}class il{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){if(t==="__v_skip")return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return i;if(t==="__v_raw")return r===(o?i?Qu:ll:i?cl:al).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=$(e);if(!o){let c;if(s&&(c=Uu[t]))return c;if(t==="hasOwnProperty")return Bu}const a=Reflect.get(e,t,ke(e)?e:r);return(zt(t)?ol.has(t):Fu(t))||(o||Ie(e,"get",t),i)?a:ke(a)?s&&ns(t)?a:a.value:fe(a)?o?dl(a):ls(a):a}}class sl extends il{constructor(e=!1){super(!1,e)}set(e,t,r,o){let i=e[t];if(!this._isShallow){const c=sn(i);if(!Je(r)&&!sn(r)&&(i=J(i),r=J(r)),!$(e)&&ke(i)&&!ke(r))return c?!1:(i.value=r,!0)}const s=$(e)&&ns(t)?Number(t)<e.length:X(e,t),a=Reflect.set(e,t,r,ke(e)?e:o);return e===J(o)&&(s?Bt(r,i)&&kt(e,"set",t,r):kt(e,"add",t,r)),a}deleteProperty(e,t){const r=X(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&r&&kt(e,"delete",t,void 0),o}has(e,t){const r=Reflect.has(e,t);return(!zt(t)||!ol.has(t))&&Ie(e,"has",t),r}ownKeys(e){return Ie(e,"iterate",$(e)?"length":rn),Reflect.ownKeys(e)}}class Ku extends il{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const qu=new sl,$u=new Ku,Gu=new sl(!0);const wi=n=>n,Rr=n=>Reflect.getPrototypeOf(n);function zu(n,e,t){return function(...r){const o=this.__v_raw,i=J(o),s=wn(i),a=n==="entries"||n===Symbol.iterator&&s,c=n==="keys"&&s,d=o[n](...r),l=t?wi:e?_i:ve;return!e&&Ie(i,"iterate",c?Ei:rn),{next(){const{value:h,done:f}=d.next();return f?{value:h,done:f}:{value:a?[l(h[0]),l(h[1])]:l(h),done:f}},[Symbol.iterator](){return this}}}}function kr(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function ju(n,e){const t={get(o){const i=this.__v_raw,s=J(i),a=J(o);n||(Bt(o,a)&&Ie(s,"get",o),Ie(s,"get",a));const{has:c}=Rr(s),d=e?wi:n?_i:ve;if(c.call(s,o))return d(i.get(o));if(c.call(s,a))return d(i.get(a));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!n&&Ie(J(o),"iterate",rn),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,s=J(i),a=J(o);return n||(Bt(o,a)&&Ie(s,"has",o),Ie(s,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const s=this,a=s.__v_raw,c=J(a),d=e?wi:n?_i:ve;return!n&&Ie(c,"iterate",rn),a.forEach((l,h)=>o.call(i,d(l),d(h),s))}};return He(t,n?{add:kr("add"),set:kr("set"),delete:kr("delete"),clear:kr("clear")}:{add(o){!e&&!Je(o)&&!sn(o)&&(o=J(o));const i=J(this);return Rr(i).has.call(i,o)||(i.add(o),kt(i,"add",o,o)),this},set(o,i){!e&&!Je(i)&&!sn(i)&&(i=J(i));const s=J(this),{has:a,get:c}=Rr(s);let d=a.call(s,o);d||(o=J(o),d=a.call(s,o));const l=c.call(s,o);return s.set(o,i),d?Bt(i,l)&&kt(s,"set",o,i):kt(s,"add",o,i),this},delete(o){const i=J(this),{has:s,get:a}=Rr(i);let c=s.call(i,o);c||(o=J(o),c=s.call(i,o)),a&&a.call(i,o);const d=i.delete(o);return c&&kt(i,"delete",o,void 0),d},clear(){const o=J(this),i=o.size!==0,s=o.clear();return i&&kt(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=zu(o,n,e)}),t}function cs(n,e){const t=ju(n,e);return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(X(t,o)&&o in r?t:r,o,i)}const Vu={get:cs(!1,!1)},Wu={get:cs(!1,!0)},Yu={get:cs(!0,!1)};const al=new WeakMap,cl=new WeakMap,ll=new WeakMap,Qu=new WeakMap;function Ju(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xu(n){return n.__v_skip||!Object.isExtensible(n)?0:Ju(_u(n))}function ls(n){return sn(n)?n:ds(n,!1,qu,Vu,al)}function Zu(n){return ds(n,!1,Gu,Wu,cl)}function dl(n){return ds(n,!0,$u,Yu,ll)}function ds(n,e,t,r,o){if(!fe(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=o.get(n);if(i)return i;const s=Xu(n);if(s===0)return n;const a=new Proxy(n,s===2?r:t);return o.set(n,a),a}function _n(n){return sn(n)?_n(n.__v_raw):!!(n&&n.__v_isReactive)}function sn(n){return!!(n&&n.__v_isReadonly)}function Je(n){return!!(n&&n.__v_isShallow)}function hs(n){return n?!!n.__v_raw:!1}function J(n){const e=n&&n.__v_raw;return e?J(e):n}function ef(n){return!X(n,"__v_skip")&&Object.isExtensible(n)&&jc(n,"__v_skip",!0),n}const ve=n=>fe(n)?ls(n):n,_i=n=>fe(n)?dl(n):n;function ke(n){return n?n.__v_isRef===!0:!1}function Ot(n){return tf(n,!1)}function tf(n,e){return ke(n)?n:new nf(n,e)}class nf{constructor(e,t){this.dep=new as,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:J(e),this._value=t?e:ve(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||Je(e)||sn(e);e=r?e:J(e),Bt(e,t)&&(this._rawValue=e,this._value=r?e:ve(e),this.dep.trigger())}}function rf(n){return ke(n)?n.value:n}const of={get:(n,e,t)=>e==="__v_raw"?n:rf(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return ke(o)&&!ke(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function hl(n){return _n(n)?n:new Proxy(n,of)}class sf{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new as(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ir-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return Xc(this,!0),!0}get value(){const e=this.dep.track();return tl(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function af(n,e,t=!1){let r,o;return j(n)?r=n:(r=n.get,o=n.set),new sf(r,o,t)}const Or={},Vr=new WeakMap;let Zt;function cf(n,e=!1,t=Zt){if(t){let r=Vr.get(t);r||Vr.set(t,r=[]),r.push(n)}}function lf(n,e,t=ae){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:a,call:c}=t,d=D=>o?D:Je(D)||o===!1||o===0?Ht(D,1):Ht(D);let l,h,f,m,y=!1,T=!1;if(ke(n)?(h=()=>n.value,y=Je(n)):_n(n)?(h=()=>d(n),y=!0):$(n)?(T=!0,y=n.some(D=>_n(D)||Je(D)),h=()=>n.map(D=>{if(ke(D))return D.value;if(_n(D))return d(D);if(j(D))return c?c(D,2):D()})):j(n)?e?h=c?()=>c(n,2):n:h=()=>{if(f){jt();try{f()}finally{Vt()}}const D=Zt;Zt=l;try{return c?c(n,3,[m]):n(m)}finally{Zt=D}}:h=Tt,e&&o){const D=h,V=o===!0?1/0:o;h=()=>Ht(D(),V)}const I=xu(),M=()=>{l.stop(),I&&I.active&&ts(I.effects,l)};if(i&&e){const D=e;e=(...V)=>{D(...V),M()}}let L=T?new Array(n.length).fill(Or):Or;const H=D=>{if(!(!(l.flags&1)||!l.dirty&&!D))if(e){const V=l.run();if(o||y||(T?V.some((Ce,pe)=>Bt(Ce,L[pe])):Bt(V,L))){f&&f();const Ce=Zt;Zt=l;try{const pe=[V,L===Or?void 0:T&&L[0]===Or?[]:L,m];c?c(e,3,pe):e(...pe),L=V}finally{Zt=Ce}}}else l.run()};return a&&a(H),l=new Qc(h),l.scheduler=s?()=>s(H,!1):H,m=D=>cf(D,!1,l),f=l.onStop=()=>{const D=Vr.get(l);if(D){if(c)c(D,4);else for(const V of D)V();Vr.delete(l)}},e?r?H(!0):L=l.run():s?s(H.bind(null,!0),!0):l.run(),M.pause=l.pause.bind(l),M.resume=l.resume.bind(l),M.stop=M,M}function Ht(n,e=1/0,t){if(e<=0||!fe(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,ke(n))Ht(n.value,e,t);else if($(n))for(let r=0;r<n.length;r++)Ht(n[r],e,t);else if(Kc(n)||wn(n))n.forEach(r=>{Ht(r,e,t)});else if(Gc(n)){for(const r in n)Ht(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Ht(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gr(n,e,t,r){try{return r?n(...r):n()}catch(o){_o(o,e,t)}}function _t(n,e,t,r){if(j(n)){const o=gr(n,e,t,r);return o&&qc(o)&&o.catch(i=>{_o(i,e,t)}),o}if($(n)){const o=[];for(let i=0;i<n.length;i++)o.push(_t(n[i],e,t,r));return o}}function _o(n,e,t,r=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||ae;if(e){let a=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const l=a.ec;if(l){for(let h=0;h<l.length;h++)if(l[h](n,c,d)===!1)return}a=a.parent}if(i){jt(),gr(i,null,10,[n,c,d]),Vt();return}}df(n,t,o,r,s)}function df(n,e,t,r=!0,o=!1){if(o)throw n;console.error(n)}const De=[];let ft=-1;const Sn=[];let Lt=null,yn=0;const ul=Promise.resolve();let Wr=null;function hf(n){const e=Wr||ul;return n?e.then(this?n.bind(this):n):e}function uf(n){let e=ft+1,t=De.length;for(;e<t;){const r=e+t>>>1,o=De[r],i=ar(o);i<n||i===n&&o.flags&2?e=r+1:t=r}return e}function us(n){if(!(n.flags&1)){const e=ar(n),t=De[De.length-1];!t||!(n.flags&2)&&e>=ar(t)?De.push(n):De.splice(uf(e),0,n),n.flags|=1,fl()}}function fl(){Wr||(Wr=ul.then(pl))}function ff(n){$(n)?Sn.push(...n):Lt&&n.id===-1?Lt.splice(yn+1,0,n):n.flags&1||(Sn.push(n),n.flags|=1),fl()}function va(n,e,t=ft+1){for(;t<De.length;t++){const r=De[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;De.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function gl(n){if(Sn.length){const e=[...new Set(Sn)].sort((t,r)=>ar(t)-ar(r));if(Sn.length=0,Lt){Lt.push(...e);return}for(Lt=e,yn=0;yn<Lt.length;yn++){const t=Lt[yn];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Lt=null,yn=0}}const ar=n=>n.id==null?n.flags&2?-1:1/0:n.id;function pl(n){try{for(ft=0;ft<De.length;ft++){const e=De[ft];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ft<De.length;ft++){const e=De[ft];e&&(e.flags&=-2)}ft=-1,De.length=0,gl(),Wr=null,(De.length||Sn.length)&&pl()}}let yt=null,ml=null;function Yr(n){const e=yt;return yt=n,ml=n&&n.type.__scopeId||null,e}function gf(n,e=yt,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&Da(-1);const i=Yr(e);let s;try{s=n(...o)}finally{Yr(i),r._d&&Da(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Jt(n,e,t,r){const o=n.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let c=a.dir[r];c&&(jt(),_t(c,t,8,[n.el,a,n,e]),Vt())}}const pf=Symbol("_vte"),mf=n=>n.__isTeleport;function fs(n,e){n.shapeFlag&6&&n.component?(n.transition=e,fs(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function yl(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Qr(n,e,t,r,o=!1){if($(n)){n.forEach((y,T)=>Qr(y,e&&($(e)?e[T]:e),t,r,o));return}if(Jn(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Qr(n,e,t,r.component.subTree);return}const i=r.shapeFlag&4?ys(r.component):r.el,s=o?null:i,{i:a,r:c}=n,d=e&&e.r,l=a.refs===ae?a.refs={}:a.refs,h=a.setupState,f=J(h),m=h===ae?()=>!1:y=>X(f,y);if(d!=null&&d!==c&&(Te(d)?(l[d]=null,m(d)&&(h[d]=null)):ke(d)&&(d.value=null)),j(c))gr(c,a,12,[s,l]);else{const y=Te(c),T=ke(c);if(y||T){const I=()=>{if(n.f){const M=y?m(c)?h[c]:l[c]:c.value;o?$(M)&&ts(M,i):$(M)?M.includes(i)||M.push(i):y?(l[c]=[i],m(c)&&(h[c]=l[c])):(c.value=[i],n.k&&(l[n.k]=c.value))}else y?(l[c]=s,m(c)&&(h[c]=s)):T&&(c.value=s,n.k&&(l[n.k]=s))};s?(I.id=-1,Ge(I,t)):I()}}}Ao().requestIdleCallback;Ao().cancelIdleCallback;const Jn=n=>!!n.type.__asyncLoader,Cl=n=>n.type.__isKeepAlive;function yf(n,e){Tl(n,"a",e)}function Cf(n,e){Tl(n,"da",e)}function Tl(n,e,t=Le){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(So(e,r,t),t){let o=t.parent;for(;o&&o.parent;)Cl(o.parent.vnode)&&Tf(r,e,t,o),o=o.parent}}function Tf(n,e,t,r){const o=So(e,n,r,!0);pr(()=>{ts(r[e],o)},t)}function So(n,e,t=Le,r=!1){if(t){const o=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...s)=>{jt();const a=mr(t),c=_t(e,t,n,s);return a(),Vt(),c});return r?o.unshift(i):o.push(i),i}}const Dt=n=>(e,t=Le)=>{(!lr||n==="sp")&&So(n,(...r)=>e(...r),t)},Af=Dt("bm"),gs=Dt("m"),Ef=Dt("bu"),wf=Dt("u"),_f=Dt("bum"),pr=Dt("um"),Sf=Dt("sp"),If=Dt("rtg"),vf=Dt("rtc");function bf(n,e=Le){So("ec",n,e)}const Rf=Symbol.for("v-ndc");function Jr(n,e,t,r){let o;const i=t,s=$(n);if(s||Te(n)){const a=s&&_n(n);let c=!1;a&&(c=!Je(n),n=wo(n)),o=new Array(n.length);for(let d=0,l=n.length;d<l;d++)o[d]=e(c?ve(n[d]):n[d],d,void 0,i)}else if(typeof n=="number"){o=new Array(n);for(let a=0;a<n;a++)o[a]=e(a+1,a,void 0,i)}else if(fe(n))if(n[Symbol.iterator])o=Array.from(n,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(n);o=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const l=a[c];o[c]=e(n[l],l,c,i)}}else o=[];return o}const Si=n=>n?Kl(n)?ys(n):Si(n.parent):null,Xn=He(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Si(n.parent),$root:n=>Si(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>El(n),$forceUpdate:n=>n.f||(n.f=()=>{us(n.update)}),$nextTick:n=>n.n||(n.n=hf.bind(n.proxy)),$watch:n=>Qf.bind(n)}),si=(n,e)=>n!==ae&&!n.__isScriptSetup&&X(n,e),kf={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:c}=n;let d;if(e[0]!=="$"){const m=s[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(si(r,e))return s[e]=1,r[e];if(o!==ae&&X(o,e))return s[e]=2,o[e];if((d=n.propsOptions[0])&&X(d,e))return s[e]=3,i[e];if(t!==ae&&X(t,e))return s[e]=4,t[e];Ii&&(s[e]=0)}}const l=Xn[e];let h,f;if(l)return e==="$attrs"&&Ie(n.attrs,"get",""),l(n);if((h=a.__cssModules)&&(h=h[e]))return h;if(t!==ae&&X(t,e))return s[e]=4,t[e];if(f=c.config.globalProperties,X(f,e))return f[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:i}=n;return si(o,e)?(o[e]=t,!0):r!==ae&&X(r,e)?(r[e]=t,!0):X(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!t[s]||n!==ae&&X(n,s)||si(e,s)||(a=i[0])&&X(a,s)||X(r,s)||X(Xn,s)||X(o.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:X(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function ba(n){return $(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Ii=!0;function Of(n){const e=El(n),t=n.proxy,r=n.ctx;Ii=!1,e.beforeCreate&&Ra(e.beforeCreate,n,"bc");const{data:o,computed:i,methods:s,watch:a,provide:c,inject:d,created:l,beforeMount:h,mounted:f,beforeUpdate:m,updated:y,activated:T,deactivated:I,beforeDestroy:M,beforeUnmount:L,destroyed:H,unmounted:D,render:V,renderTracked:Ce,renderTriggered:pe,errorCaptured:Oe,serverPrefetch:St,expose:it,inheritAttrs:Fn,components:Sr,directives:Ir,filters:Xo}=e;if(d&&Pf(d,r,null),s)for(const ue in s){const oe=s[ue];j(oe)&&(r[ue]=oe.bind(t))}if(o){const ue=o.call(t,t);fe(ue)&&(n.data=ls(ue))}if(Ii=!0,i)for(const ue in i){const oe=i[ue],Yt=j(oe)?oe.bind(t,t):j(oe.get)?oe.get.bind(t,t):Tt,vr=!j(oe)&&j(oe.set)?oe.set.bind(t):Tt,Qt=dr({get:Yt,set:vr});Object.defineProperty(r,ue,{enumerable:!0,configurable:!0,get:()=>Qt.value,set:st=>Qt.value=st})}if(a)for(const ue in a)Al(a[ue],r,t,ue);if(c){const ue=j(c)?c.call(t):c;Reflect.ownKeys(ue).forEach(oe=>{Uf(oe,ue[oe])})}l&&Ra(l,n,"c");function Pe(ue,oe){$(oe)?oe.forEach(Yt=>ue(Yt.bind(t))):oe&&ue(oe.bind(t))}if(Pe(Af,h),Pe(gs,f),Pe(Ef,m),Pe(wf,y),Pe(yf,T),Pe(Cf,I),Pe(bf,Oe),Pe(vf,Ce),Pe(If,pe),Pe(_f,L),Pe(pr,D),Pe(Sf,St),$(it))if(it.length){const ue=n.exposed||(n.exposed={});it.forEach(oe=>{Object.defineProperty(ue,oe,{get:()=>t[oe],set:Yt=>t[oe]=Yt})})}else n.exposed||(n.exposed={});V&&n.render===Tt&&(n.render=V),Fn!=null&&(n.inheritAttrs=Fn),Sr&&(n.components=Sr),Ir&&(n.directives=Ir),St&&yl(n)}function Pf(n,e,t=Tt){$(n)&&(n=vi(n));for(const r in n){const o=n[r];let i;fe(o)?"default"in o?i=Br(o.from||r,o.default,!0):i=Br(o.from||r):i=Br(o),ke(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[r]=i}}function Ra(n,e,t){_t($(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function Al(n,e,t,r){let o=r.includes(".")?Dl(t,r):()=>t[r];if(Te(n)){const i=e[n];j(i)&&Zn(o,i)}else if(j(n))Zn(o,n.bind(t));else if(fe(n))if($(n))n.forEach(i=>Al(i,e,t,r));else{const i=j(n.handler)?n.handler.bind(t):e[n.handler];j(i)&&Zn(o,i,n)}}function El(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=n.appContext,a=i.get(e);let c;return a?c=a:!o.length&&!t&&!r?c=e:(c={},o.length&&o.forEach(d=>Xr(c,d,s,!0)),Xr(c,e,s)),fe(e)&&i.set(e,c),c}function Xr(n,e,t,r=!1){const{mixins:o,extends:i}=e;i&&Xr(n,i,t,!0),o&&o.forEach(s=>Xr(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const a=Nf[s]||t&&t[s];n[s]=a?a(n[s],e[s]):e[s]}return n}const Nf={data:ka,props:Oa,emits:Oa,methods:jn,computed:jn,beforeCreate:Ne,created:Ne,beforeMount:Ne,mounted:Ne,beforeUpdate:Ne,updated:Ne,beforeDestroy:Ne,beforeUnmount:Ne,destroyed:Ne,unmounted:Ne,activated:Ne,deactivated:Ne,errorCaptured:Ne,serverPrefetch:Ne,components:jn,directives:jn,watch:xf,provide:ka,inject:Mf};function ka(n,e){return e?n?function(){return He(j(n)?n.call(this,this):n,j(e)?e.call(this,this):e)}:e:n}function Mf(n,e){return jn(vi(n),vi(e))}function vi(n){if($(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Ne(n,e){return n?[...new Set([].concat(n,e))]:e}function jn(n,e){return n?He(Object.create(null),n,e):e}function Oa(n,e){return n?$(n)&&$(e)?[...new Set([...n,...e])]:He(Object.create(null),ba(n),ba(e??{})):e}function xf(n,e){if(!n)return e;if(!e)return n;const t=He(Object.create(null),n);for(const r in e)t[r]=Ne(n[r],e[r]);return t}function wl(){return{app:null,config:{isNativeTag:Eu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Df=0;function Lf(n,e){return function(r,o=null){j(r)||(r=He({},r)),o!=null&&!fe(o)&&(o=null);const i=wl(),s=new WeakSet,a=[];let c=!1;const d=i.app={_uid:Df++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:yg,get config(){return i.config},set config(l){},use(l,...h){return s.has(l)||(l&&j(l.install)?(s.add(l),l.install(d,...h)):j(l)&&(s.add(l),l(d,...h))),d},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),d},component(l,h){return h?(i.components[l]=h,d):i.components[l]},directive(l,h){return h?(i.directives[l]=h,d):i.directives[l]},mount(l,h,f){if(!c){const m=d._ceVNode||At(r,o);return m.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),n(m,l,f),c=!0,d._container=l,l.__vue_app__=d,ys(m.component)}},onUnmount(l){a.push(l)},unmount(){c&&(_t(a,d._instance,16),n(null,d._container),delete d._container.__vue_app__)},provide(l,h){return i.provides[l]=h,d},runWithContext(l){const h=In;In=d;try{return l()}finally{In=h}}};return d}}let In=null;function Uf(n,e){if(Le){let t=Le.provides;const r=Le.parent&&Le.parent.provides;r===t&&(t=Le.provides=Object.create(r)),t[n]=e}}function Br(n,e,t=!1){const r=Le||yt;if(r||In){const o=In?In._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&n in o)return o[n];if(arguments.length>1)return t&&j(e)?e.call(r&&r.proxy):e}}const _l={},Sl=()=>Object.create(_l),Il=n=>Object.getPrototypeOf(n)===_l;function Hf(n,e,t,r=!1){const o={},i=Sl();n.propsDefaults=Object.create(null),vl(n,e,o,i);for(const s in n.propsOptions[0])s in o||(o[s]=void 0);t?n.props=r?o:Zu(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function Ff(n,e,t,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=n,a=J(o),[c]=n.propsOptions;let d=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=n.vnode.dynamicProps;for(let h=0;h<l.length;h++){let f=l[h];if(Io(n.emitsOptions,f))continue;const m=e[f];if(c)if(X(i,f))m!==i[f]&&(i[f]=m,d=!0);else{const y=$t(f);o[y]=bi(c,a,y,m,n,!1)}else m!==i[f]&&(i[f]=m,d=!0)}}}else{vl(n,e,o,i)&&(d=!0);let l;for(const h in a)(!e||!X(e,h)&&((l=gn(h))===h||!X(e,l)))&&(c?t&&(t[h]!==void 0||t[l]!==void 0)&&(o[h]=bi(c,a,h,void 0,n,!0)):delete o[h]);if(i!==a)for(const h in i)(!e||!X(e,h))&&(delete i[h],d=!0)}d&&kt(n.attrs,"set","")}function vl(n,e,t,r){const[o,i]=n.propsOptions;let s=!1,a;if(e)for(let c in e){if(Wn(c))continue;const d=e[c];let l;o&&X(o,l=$t(c))?!i||!i.includes(l)?t[l]=d:(a||(a={}))[l]=d:Io(n.emitsOptions,c)||(!(c in r)||d!==r[c])&&(r[c]=d,s=!0)}if(i){const c=J(t),d=a||ae;for(let l=0;l<i.length;l++){const h=i[l];t[h]=bi(o,c,h,d[h],n,!X(d,h))}}return s}function bi(n,e,t,r,o,i){const s=n[t];if(s!=null){const a=X(s,"default");if(a&&r===void 0){const c=s.default;if(s.type!==Function&&!s.skipFactory&&j(c)){const{propsDefaults:d}=o;if(t in d)r=d[t];else{const l=mr(o);r=d[t]=c.call(null,e),l()}}else r=c;o.ce&&o.ce._setProp(t,r)}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===gn(t))&&(r=!0))}return r}const Bf=new WeakMap;function bl(n,e,t=!1){const r=t?Bf:e.propsCache,o=r.get(n);if(o)return o;const i=n.props,s={},a=[];let c=!1;if(!j(n)){const l=h=>{c=!0;const[f,m]=bl(h,e,!0);He(s,f),m&&a.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}if(!i&&!c)return fe(n)&&r.set(n,En),En;if($(i))for(let l=0;l<i.length;l++){const h=$t(i[l]);Pa(h)&&(s[h]=ae)}else if(i)for(const l in i){const h=$t(l);if(Pa(h)){const f=i[l],m=s[h]=$(f)||j(f)?{type:f}:He({},f),y=m.type;let T=!1,I=!0;if($(y))for(let M=0;M<y.length;++M){const L=y[M],H=j(L)&&L.name;if(H==="Boolean"){T=!0;break}else H==="String"&&(I=!1)}else T=j(y)&&y.name==="Boolean";m[0]=T,m[1]=I,(T||X(m,"default"))&&a.push(h)}}const d=[s,a];return fe(n)&&r.set(n,d),d}function Pa(n){return n[0]!=="$"&&!Wn(n)}const Rl=n=>n[0]==="_"||n==="$stable",ps=n=>$(n)?n.map(gt):[gt(n)],Kf=(n,e,t)=>{if(e._n)return e;const r=gf((...o)=>ps(e(...o)),t);return r._c=!1,r},kl=(n,e,t)=>{const r=n._ctx;for(const o in n){if(Rl(o))continue;const i=n[o];if(j(i))e[o]=Kf(o,i,r);else if(i!=null){const s=ps(i);e[o]=()=>s}}},Ol=(n,e)=>{const t=ps(e);n.slots.default=()=>t},Pl=(n,e,t)=>{for(const r in e)(t||r!=="_")&&(n[r]=e[r])},qf=(n,e,t)=>{const r=n.slots=Sl();if(n.vnode.shapeFlag&32){const o=e._;o?(Pl(r,e,t),t&&jc(r,"_",o,!0)):kl(e,r)}else e&&Ol(n,e)},$f=(n,e,t)=>{const{vnode:r,slots:o}=n;let i=!0,s=ae;if(r.shapeFlag&32){const a=e._;a?t&&a===1?i=!1:Pl(o,e,t):(i=!e.$stable,kl(e,o)),s=e}else e&&(Ol(n,e),s={default:1});if(i)for(const a in o)!Rl(a)&&s[a]==null&&delete o[a]},Ge=rg;function Gf(n){return zf(n)}function zf(n,e){const t=Ao();t.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:c,setText:d,setElementText:l,parentNode:h,nextSibling:f,setScopeId:m=Tt,insertStaticContent:y}=n,T=(u,g,A,b=null,w=null,v=null,P=void 0,O=null,k=!!g.dynamicChildren)=>{if(u===g)return;u&&!Gn(u,g)&&(b=br(u),st(u,w,v,!0),u=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:R,ref:K,shapeFlag:N}=g;switch(R){case vo:I(u,g,A,b);break;case an:M(u,g,A,b);break;case ci:u==null&&L(g,A,b,P);break;case Ve:Sr(u,g,A,b,w,v,P,O,k);break;default:N&1?V(u,g,A,b,w,v,P,O,k):N&6?Ir(u,g,A,b,w,v,P,O,k):(N&64||N&128)&&R.process(u,g,A,b,w,v,P,O,k,Kn)}K!=null&&w&&Qr(K,u&&u.ref,v,g||u,!g)},I=(u,g,A,b)=>{if(u==null)r(g.el=a(g.children),A,b);else{const w=g.el=u.el;g.children!==u.children&&d(w,g.children)}},M=(u,g,A,b)=>{u==null?r(g.el=c(g.children||""),A,b):g.el=u.el},L=(u,g,A,b)=>{[u.el,u.anchor]=y(u.children,g,A,b,u.el,u.anchor)},H=({el:u,anchor:g},A,b)=>{let w;for(;u&&u!==g;)w=f(u),r(u,A,b),u=w;r(g,A,b)},D=({el:u,anchor:g})=>{let A;for(;u&&u!==g;)A=f(u),o(u),u=A;o(g)},V=(u,g,A,b,w,v,P,O,k)=>{g.type==="svg"?P="svg":g.type==="math"&&(P="mathml"),u==null?Ce(g,A,b,w,v,P,O,k):St(u,g,w,v,P,O,k)},Ce=(u,g,A,b,w,v,P,O)=>{let k,R;const{props:K,shapeFlag:N,transition:F,dirs:q}=u;if(k=u.el=s(u.type,v,K&&K.is,K),N&8?l(k,u.children):N&16&&Oe(u.children,k,null,b,w,ai(u,v),P,O),q&&Jt(u,null,b,"created"),pe(k,u,u.scopeId,P,b),K){for(const ie in K)ie!=="value"&&!Wn(ie)&&i(k,ie,null,K[ie],v,b);"value"in K&&i(k,"value",null,K.value,v),(R=K.onVnodeBeforeMount)&&dt(R,b,u)}q&&Jt(u,null,b,"beforeMount");const Y=jf(w,F);Y&&F.beforeEnter(k),r(k,g,A),((R=K&&K.onVnodeMounted)||Y||q)&&Ge(()=>{R&&dt(R,b,u),Y&&F.enter(k),q&&Jt(u,null,b,"mounted")},w)},pe=(u,g,A,b,w)=>{if(A&&m(u,A),b)for(let v=0;v<b.length;v++)m(u,b[v]);if(w){let v=w.subTree;if(g===v||Ul(v.type)&&(v.ssContent===g||v.ssFallback===g)){const P=w.vnode;pe(u,P,P.scopeId,P.slotScopeIds,w.parent)}}},Oe=(u,g,A,b,w,v,P,O,k=0)=>{for(let R=k;R<u.length;R++){const K=u[R]=O?Ut(u[R]):gt(u[R]);T(null,K,g,A,b,w,v,P,O)}},St=(u,g,A,b,w,v,P)=>{const O=g.el=u.el;let{patchFlag:k,dynamicChildren:R,dirs:K}=g;k|=u.patchFlag&16;const N=u.props||ae,F=g.props||ae;let q;if(A&&Xt(A,!1),(q=F.onVnodeBeforeUpdate)&&dt(q,A,g,u),K&&Jt(g,u,A,"beforeUpdate"),A&&Xt(A,!0),(N.innerHTML&&F.innerHTML==null||N.textContent&&F.textContent==null)&&l(O,""),R?it(u.dynamicChildren,R,O,A,b,ai(g,w),v):P||oe(u,g,O,null,A,b,ai(g,w),v,!1),k>0){if(k&16)Fn(O,N,F,A,w);else if(k&2&&N.class!==F.class&&i(O,"class",null,F.class,w),k&4&&i(O,"style",N.style,F.style,w),k&8){const Y=g.dynamicProps;for(let ie=0;ie<Y.length;ie++){const Z=Y[ie],qe=N[Z],Fe=F[Z];(Fe!==qe||Z==="value")&&i(O,Z,qe,Fe,w,A)}}k&1&&u.children!==g.children&&l(O,g.children)}else!P&&R==null&&Fn(O,N,F,A,w);((q=F.onVnodeUpdated)||K)&&Ge(()=>{q&&dt(q,A,g,u),K&&Jt(g,u,A,"updated")},b)},it=(u,g,A,b,w,v,P)=>{for(let O=0;O<g.length;O++){const k=u[O],R=g[O],K=k.el&&(k.type===Ve||!Gn(k,R)||k.shapeFlag&70)?h(k.el):A;T(k,R,K,null,b,w,v,P,!0)}},Fn=(u,g,A,b,w)=>{if(g!==A){if(g!==ae)for(const v in g)!Wn(v)&&!(v in A)&&i(u,v,g[v],null,w,b);for(const v in A){if(Wn(v))continue;const P=A[v],O=g[v];P!==O&&v!=="value"&&i(u,v,O,P,w,b)}"value"in A&&i(u,"value",g.value,A.value,w)}},Sr=(u,g,A,b,w,v,P,O,k)=>{const R=g.el=u?u.el:a(""),K=g.anchor=u?u.anchor:a("");let{patchFlag:N,dynamicChildren:F,slotScopeIds:q}=g;q&&(O=O?O.concat(q):q),u==null?(r(R,A,b),r(K,A,b),Oe(g.children||[],A,K,w,v,P,O,k)):N>0&&N&64&&F&&u.dynamicChildren?(it(u.dynamicChildren,F,A,w,v,P,O),(g.key!=null||w&&g===w.subTree)&&Nl(u,g,!0)):oe(u,g,A,K,w,v,P,O,k)},Ir=(u,g,A,b,w,v,P,O,k)=>{g.slotScopeIds=O,u==null?g.shapeFlag&512?w.ctx.activate(g,A,b,P,k):Xo(g,A,b,w,v,P,k):Ca(u,g,k)},Xo=(u,g,A,b,w,v,P)=>{const O=u.component=hg(u,b,w);if(Cl(u)&&(O.ctx.renderer=Kn),ug(O,!1,P),O.asyncDep){if(w&&w.registerDep(O,Pe,P),!u.el){const k=O.subTree=At(an);M(null,k,g,A)}}else Pe(O,u,g,A,w,v,P)},Ca=(u,g,A)=>{const b=g.component=u.component;if(tg(u,g,A))if(b.asyncDep&&!b.asyncResolved){ue(b,g,A);return}else b.next=g,b.update();else g.el=u.el,b.vnode=g},Pe=(u,g,A,b,w,v,P)=>{const O=()=>{if(u.isMounted){let{next:N,bu:F,u:q,parent:Y,vnode:ie}=u;{const ct=Ml(u);if(ct){N&&(N.el=ie.el,ue(u,N,P)),ct.asyncDep.then(()=>{u.isUnmounted||O()});return}}let Z=N,qe;Xt(u,!1),N?(N.el=ie.el,ue(u,N,P)):N=ie,F&&ti(F),(qe=N.props&&N.props.onVnodeBeforeUpdate)&&dt(qe,Y,N,ie),Xt(u,!0);const Fe=Ma(u),at=u.subTree;u.subTree=Fe,T(at,Fe,h(at.el),br(at),u,w,v),N.el=Fe.el,Z===null&&ng(u,Fe.el),q&&Ge(q,w),(qe=N.props&&N.props.onVnodeUpdated)&&Ge(()=>dt(qe,Y,N,ie),w)}else{let N;const{el:F,props:q}=g,{bm:Y,m:ie,parent:Z,root:qe,type:Fe}=u,at=Jn(g);Xt(u,!1),Y&&ti(Y),!at&&(N=q&&q.onVnodeBeforeMount)&&dt(N,Z,g),Xt(u,!0);{qe.ce&&qe.ce._injectChildStyle(Fe);const ct=u.subTree=Ma(u);T(null,ct,A,b,u,w,v),g.el=ct.el}if(ie&&Ge(ie,w),!at&&(N=q&&q.onVnodeMounted)){const ct=g;Ge(()=>dt(N,Z,ct),w)}(g.shapeFlag&256||Z&&Jn(Z.vnode)&&Z.vnode.shapeFlag&256)&&u.a&&Ge(u.a,w),u.isMounted=!0,g=A=b=null}};u.scope.on();const k=u.effect=new Qc(O);u.scope.off();const R=u.update=k.run.bind(k),K=u.job=k.runIfDirty.bind(k);K.i=u,K.id=u.uid,k.scheduler=()=>us(K),Xt(u,!0),R()},ue=(u,g,A)=>{g.component=u;const b=u.vnode.props;u.vnode=g,u.next=null,Ff(u,g.props,b,A),$f(u,g.children,A),jt(),va(u),Vt()},oe=(u,g,A,b,w,v,P,O,k=!1)=>{const R=u&&u.children,K=u?u.shapeFlag:0,N=g.children,{patchFlag:F,shapeFlag:q}=g;if(F>0){if(F&128){vr(R,N,A,b,w,v,P,O,k);return}else if(F&256){Yt(R,N,A,b,w,v,P,O,k);return}}q&8?(K&16&&Bn(R,w,v),N!==R&&l(A,N)):K&16?q&16?vr(R,N,A,b,w,v,P,O,k):Bn(R,w,v,!0):(K&8&&l(A,""),q&16&&Oe(N,A,b,w,v,P,O,k))},Yt=(u,g,A,b,w,v,P,O,k)=>{u=u||En,g=g||En;const R=u.length,K=g.length,N=Math.min(R,K);let F;for(F=0;F<N;F++){const q=g[F]=k?Ut(g[F]):gt(g[F]);T(u[F],q,A,null,w,v,P,O,k)}R>K?Bn(u,w,v,!0,!1,N):Oe(g,A,b,w,v,P,O,k,N)},vr=(u,g,A,b,w,v,P,O,k)=>{let R=0;const K=g.length;let N=u.length-1,F=K-1;for(;R<=N&&R<=F;){const q=u[R],Y=g[R]=k?Ut(g[R]):gt(g[R]);if(Gn(q,Y))T(q,Y,A,null,w,v,P,O,k);else break;R++}for(;R<=N&&R<=F;){const q=u[N],Y=g[F]=k?Ut(g[F]):gt(g[F]);if(Gn(q,Y))T(q,Y,A,null,w,v,P,O,k);else break;N--,F--}if(R>N){if(R<=F){const q=F+1,Y=q<K?g[q].el:b;for(;R<=F;)T(null,g[R]=k?Ut(g[R]):gt(g[R]),A,Y,w,v,P,O,k),R++}}else if(R>F)for(;R<=N;)st(u[R],w,v,!0),R++;else{const q=R,Y=R,ie=new Map;for(R=Y;R<=F;R++){const $e=g[R]=k?Ut(g[R]):gt(g[R]);$e.key!=null&&ie.set($e.key,R)}let Z,qe=0;const Fe=F-Y+1;let at=!1,ct=0;const qn=new Array(Fe);for(R=0;R<Fe;R++)qn[R]=0;for(R=q;R<=N;R++){const $e=u[R];if(qe>=Fe){st($e,w,v,!0);continue}let lt;if($e.key!=null)lt=ie.get($e.key);else for(Z=Y;Z<=F;Z++)if(qn[Z-Y]===0&&Gn($e,g[Z])){lt=Z;break}lt===void 0?st($e,w,v,!0):(qn[lt-Y]=R+1,lt>=ct?ct=lt:at=!0,T($e,g[lt],A,null,w,v,P,O,k),qe++)}const Ea=at?Vf(qn):En;for(Z=Ea.length-1,R=Fe-1;R>=0;R--){const $e=Y+R,lt=g[$e],wa=$e+1<K?g[$e+1].el:b;qn[R]===0?T(null,lt,A,wa,w,v,P,O,k):at&&(Z<0||R!==Ea[Z]?Qt(lt,A,wa,2):Z--)}}},Qt=(u,g,A,b,w=null)=>{const{el:v,type:P,transition:O,children:k,shapeFlag:R}=u;if(R&6){Qt(u.component.subTree,g,A,b);return}if(R&128){u.suspense.move(g,A,b);return}if(R&64){P.move(u,g,A,Kn);return}if(P===Ve){r(v,g,A);for(let N=0;N<k.length;N++)Qt(k[N],g,A,b);r(u.anchor,g,A);return}if(P===ci){H(u,g,A);return}if(b!==2&&R&1&&O)if(b===0)O.beforeEnter(v),r(v,g,A),Ge(()=>O.enter(v),w);else{const{leave:N,delayLeave:F,afterLeave:q}=O,Y=()=>r(v,g,A),ie=()=>{N(v,()=>{Y(),q&&q()})};F?F(v,Y,ie):ie()}else r(v,g,A)},st=(u,g,A,b=!1,w=!1)=>{const{type:v,props:P,ref:O,children:k,dynamicChildren:R,shapeFlag:K,patchFlag:N,dirs:F,cacheIndex:q}=u;if(N===-2&&(w=!1),O!=null&&Qr(O,null,A,u,!0),q!=null&&(g.renderCache[q]=void 0),K&256){g.ctx.deactivate(u);return}const Y=K&1&&F,ie=!Jn(u);let Z;if(ie&&(Z=P&&P.onVnodeBeforeUnmount)&&dt(Z,g,u),K&6)Au(u.component,A,b);else{if(K&128){u.suspense.unmount(A,b);return}Y&&Jt(u,null,g,"beforeUnmount"),K&64?u.type.remove(u,g,A,Kn,b):R&&!R.hasOnce&&(v!==Ve||N>0&&N&64)?Bn(R,g,A,!1,!0):(v===Ve&&N&384||!w&&K&16)&&Bn(k,g,A),b&&Ta(u)}(ie&&(Z=P&&P.onVnodeUnmounted)||Y)&&Ge(()=>{Z&&dt(Z,g,u),Y&&Jt(u,null,g,"unmounted")},A)},Ta=u=>{const{type:g,el:A,anchor:b,transition:w}=u;if(g===Ve){Tu(A,b);return}if(g===ci){D(u);return}const v=()=>{o(A),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(u.shapeFlag&1&&w&&!w.persisted){const{leave:P,delayLeave:O}=w,k=()=>P(A,v);O?O(u.el,v,k):k()}else v()},Tu=(u,g)=>{let A;for(;u!==g;)A=f(u),o(u),u=A;o(g)},Au=(u,g,A)=>{const{bum:b,scope:w,job:v,subTree:P,um:O,m:k,a:R}=u;Na(k),Na(R),b&&ti(b),w.stop(),v&&(v.flags|=8,st(P,u,g,A)),O&&Ge(O,g),Ge(()=>{u.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Bn=(u,g,A,b=!1,w=!1,v=0)=>{for(let P=v;P<u.length;P++)st(u[P],g,A,b,w)},br=u=>{if(u.shapeFlag&6)return br(u.component.subTree);if(u.shapeFlag&128)return u.suspense.next();const g=f(u.anchor||u.el),A=g&&g[pf];return A?f(A):g};let Zo=!1;const Aa=(u,g,A)=>{u==null?g._vnode&&st(g._vnode,null,null,!0):T(g._vnode||null,u,g,null,null,null,A),g._vnode=u,Zo||(Zo=!0,va(),gl(),Zo=!1)},Kn={p:T,um:st,m:Qt,r:Ta,mt:Xo,mc:Oe,pc:oe,pbc:it,n:br,o:n};return{render:Aa,hydrate:void 0,createApp:Lf(Aa)}}function ai({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Xt({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function jf(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Nl(n,e,t=!1){const r=n.children,o=e.children;if($(r)&&$(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Ut(o[i]),a.el=s.el),!t&&a.patchFlag!==-2&&Nl(s,a)),a.type===vo&&(a.el=s.el)}}function Vf(n){const e=n.slice(),t=[0];let r,o,i,s,a;const c=n.length;for(r=0;r<c;r++){const d=n[r];if(d!==0){if(o=t[t.length-1],n[o]<d){e[r]=o,t.push(r);continue}for(i=0,s=t.length-1;i<s;)a=i+s>>1,n[t[a]]<d?i=a+1:s=a;d<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}function Ml(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ml(e)}function Na(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Wf=Symbol.for("v-scx"),Yf=()=>Br(Wf);function Zn(n,e,t){return xl(n,e,t)}function xl(n,e,t=ae){const{immediate:r,deep:o,flush:i,once:s}=t,a=He({},t),c=e&&r||!e&&i!=="post";let d;if(lr){if(i==="sync"){const m=Yf();d=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Tt,m.resume=Tt,m.pause=Tt,m}}const l=Le;a.call=(m,y,T)=>_t(m,l,y,T);let h=!1;i==="post"?a.scheduler=m=>{Ge(m,l&&l.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(m,y)=>{y?m():us(m)}),a.augmentJob=m=>{e&&(m.flags|=4),h&&(m.flags|=2,l&&(m.id=l.uid,m.i=l))};const f=lf(n,e,a);return lr&&(d?d.push(f):c&&f()),f}function Qf(n,e,t){const r=this.proxy,o=Te(n)?n.includes(".")?Dl(r,n):()=>r[n]:n.bind(r,r);let i;j(e)?i=e:(i=e.handler,t=e);const s=mr(this),a=xl(o,i.bind(r),t);return s(),a}function Dl(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}const Jf=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${$t(e)}Modifiers`]||n[`${gn(e)}Modifiers`];function Xf(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ae;let o=t;const i=e.startsWith("update:"),s=i&&Jf(r,e.slice(7));s&&(s.trim&&(o=t.map(l=>Te(l)?l.trim():l)),s.number&&(o=t.map(vu)));let a,c=r[a=ei(e)]||r[a=ei($t(e))];!c&&i&&(c=r[a=ei(gn(e))]),c&&_t(c,n,6,o);const d=r[a+"Once"];if(d){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,_t(d,n,6,o)}}function Ll(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let s={},a=!1;if(!j(n)){const c=d=>{const l=Ll(d,e,!0);l&&(a=!0,He(s,l))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!i&&!a?(fe(n)&&r.set(n,null),null):($(i)?i.forEach(c=>s[c]=null):He(s,i),fe(n)&&r.set(n,s),s)}function Io(n,e){return!n||!yo(e)?!1:(e=e.slice(2).replace(/Once$/,""),X(n,e[0].toLowerCase()+e.slice(1))||X(n,gn(e))||X(n,e))}function Ma(n){const{type:e,vnode:t,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:a,emit:c,render:d,renderCache:l,props:h,data:f,setupState:m,ctx:y,inheritAttrs:T}=n,I=Yr(n);let M,L;try{if(t.shapeFlag&4){const D=o||r,V=D;M=gt(d.call(V,D,l,h,m,f,y)),L=a}else{const D=e;M=gt(D.length>1?D(h,{attrs:a,slots:s,emit:c}):D(h,null)),L=e.props?a:Zf(a)}}catch(D){er.length=0,_o(D,n,1),M=At(an)}let H=M;if(L&&T!==!1){const D=Object.keys(L),{shapeFlag:V}=H;D.length&&V&7&&(i&&D.some(es)&&(L=eg(L,i)),H=Pn(H,L,!1,!0))}return t.dirs&&(H=Pn(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(t.dirs):t.dirs),t.transition&&fs(H,t.transition),M=H,Yr(I),M}const Zf=n=>{let e;for(const t in n)(t==="class"||t==="style"||yo(t))&&((e||(e={}))[t]=n[t]);return e},eg=(n,e)=>{const t={};for(const r in n)(!es(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function tg(n,e,t){const{props:r,children:o,component:i}=n,{props:s,children:a,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return r?xa(r,s,d):!!s;if(c&8){const l=e.dynamicProps;for(let h=0;h<l.length;h++){const f=l[h];if(s[f]!==r[f]&&!Io(d,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?xa(r,s,d):!0:!!s;return!1}function xa(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==n[i]&&!Io(t,i))return!0}return!1}function ng({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const Ul=n=>n.__isSuspense;function rg(n,e){e&&e.pendingBranch?$(n)?e.effects.push(...n):e.effects.push(n):ff(n)}const Ve=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),ci=Symbol.for("v-stc"),er=[];let We=null;function he(n=!1){er.push(We=n?null:[])}function og(){er.pop(),We=er[er.length-1]||null}let cr=1;function Da(n,e=!1){cr+=n,n<0&&We&&e&&(We.hasOnce=!0)}function Hl(n){return n.dynamicChildren=cr>0?We||En:null,og(),cr>0&&We&&We.push(n),n}function me(n,e,t,r,o,i){return Hl(re(n,e,t,r,o,i,!0))}function Ri(n,e,t,r,o){return Hl(At(n,e,t,r,o,!0))}function Fl(n){return n?n.__v_isVNode===!0:!1}function Gn(n,e){return n.type===e.type&&n.key===e.key}const Bl=({key:n})=>n??null,Kr=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Te(n)||ke(n)||j(n)?{i:yt,r:n,k:e,f:!!t}:n:null);function re(n,e=null,t=null,r=0,o=null,i=n===Ve?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Bl(e),ref:e&&Kr(e),scopeId:ml,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:yt};return a?(ms(c,t),i&128&&n.normalize(c)):t&&(c.shapeFlag|=Te(t)?8:16),cr>0&&!s&&We&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&We.push(c),c}const At=ig;function ig(n,e=null,t=null,r=0,o=null,i=!1){if((!n||n===Rf)&&(n=an),Fl(n)){const a=Pn(n,e,!0);return t&&ms(a,t),cr>0&&!i&&We&&(a.shapeFlag&6?We[We.indexOf(n)]=a:We.push(a)),a.patchFlag=-2,a}if(mg(n)&&(n=n.__vccOpts),e){e=sg(e);let{class:a,style:c}=e;a&&!Te(a)&&(e.class=Eo(a)),fe(c)&&(hs(c)&&!$(c)&&(c=He({},c)),e.style=rs(c))}const s=Te(n)?1:Ul(n)?128:mf(n)?64:fe(n)?4:j(n)?2:0;return re(n,e,t,r,o,s,i,!0)}function sg(n){return n?hs(n)||Il(n)?He({},n):n:null}function Pn(n,e,t=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:c}=n,d=e?cg(o||{},e):o,l={__v_isVNode:!0,__v_skip:!0,type:n.type,props:d,key:d&&Bl(d),ref:e&&e.ref?t&&i?$(i)?i.concat(Kr(e)):[i,Kr(e)]:Kr(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ve?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Pn(n.ssContent),ssFallback:n.ssFallback&&Pn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&r&&fs(l,c.clone(l)),l}function ag(n=" ",e=0){return At(vo,null,n,e)}function Nt(n="",e=!1){return e?(he(),Ri(an,null,n)):At(an,null,n)}function gt(n){return n==null||typeof n=="boolean"?At(an):$(n)?At(Ve,null,n.slice()):Fl(n)?Ut(n):At(vo,null,String(n))}function Ut(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Pn(n)}function ms(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if($(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),ms(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!Il(e)?e._ctx=yt:o===3&&yt&&(yt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else j(e)?(e={default:e,_ctx:yt},t=32):(e=String(e),r&64?(t=16,e=[ag(e)]):t=8);n.children=e,n.shapeFlag|=t}function cg(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Eo([e.class,r.class]));else if(o==="style")e.style=rs([e.style,r.style]);else if(yo(o)){const i=e[o],s=r[o];s&&i!==s&&!($(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function dt(n,e,t,r=null){_t(n,e,7,[t,r])}const lg=wl();let dg=0;function hg(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||lg,i={uid:dg++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bl(r,o),emitsOptions:Ll(r,o),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:r.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Xf.bind(null,i),n.ce&&n.ce(i),i}let Le=null,Zr,ki;{const n=Ao(),e=(t,r)=>{let o;return(o=n[t])||(o=n[t]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};Zr=e("__VUE_INSTANCE_SETTERS__",t=>Le=t),ki=e("__VUE_SSR_SETTERS__",t=>lr=t)}const mr=n=>{const e=Le;return Zr(n),n.scope.on(),()=>{n.scope.off(),Zr(e)}},La=()=>{Le&&Le.scope.off(),Zr(null)};function Kl(n){return n.vnode.shapeFlag&4}let lr=!1;function ug(n,e=!1,t=!1){e&&ki(e);const{props:r,children:o}=n.vnode,i=Kl(n);Hf(n,r,i,e),qf(n,o,t);const s=i?fg(n,e):void 0;return e&&ki(!1),s}function fg(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,kf);const{setup:r}=t;if(r){jt();const o=n.setupContext=r.length>1?pg(n):null,i=mr(n),s=gr(r,n,0,[n.props,o]),a=qc(s);if(Vt(),i(),(a||n.sp)&&!Jn(n)&&yl(n),a){if(s.then(La,La),e)return s.then(c=>{Ua(n,c)}).catch(c=>{_o(c,n,0)});n.asyncDep=s}else Ua(n,s)}else ql(n)}function Ua(n,e,t){j(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:fe(e)&&(n.setupState=hl(e)),ql(n)}function ql(n,e,t){const r=n.type;n.render||(n.render=r.render||Tt);{const o=mr(n);jt();try{Of(n)}finally{Vt(),o()}}}const gg={get(n,e){return Ie(n,"get",""),n[e]}};function pg(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,gg),slots:n.slots,emit:n.emit,expose:e}}function ys(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(hl(ef(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Xn)return Xn[t](n)},has(e,t){return t in e||t in Xn}})):n.proxy}function mg(n){return j(n)&&"__vccOpts"in n}const dr=(n,e)=>af(n,e,lr),yg="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oi;const Ha=typeof window<"u"&&window.trustedTypes;if(Ha)try{Oi=Ha.createPolicy("vue",{createHTML:n=>n})}catch{}const $l=Oi?n=>Oi.createHTML(n):n=>n,Cg="http://www.w3.org/2000/svg",Tg="http://www.w3.org/1998/Math/MathML",bt=typeof document<"u"?document:null,Fa=bt&&bt.createElement("template"),Ag={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e==="svg"?bt.createElementNS(Cg,n):e==="mathml"?bt.createElementNS(Tg,n):t?bt.createElement(n,{is:t}):bt.createElement(n);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>bt.createTextNode(n),createComment:n=>bt.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>bt.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{Fa.innerHTML=$l(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const a=Fa.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Eg=Symbol("_vtc");function wg(n,e,t){const r=n[Eg];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Ba=Symbol("_vod"),_g=Symbol("_vsh"),Sg=Symbol(""),Ig=/(^|;)\s*display\s*:/;function vg(n,e,t){const r=n.style,o=Te(t);let i=!1;if(t&&!o){if(e)if(Te(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();t[a]==null&&qr(r,a,"")}else for(const s in e)t[s]==null&&qr(r,s,"");for(const s in t)s==="display"&&(i=!0),qr(r,s,t[s])}else if(o){if(e!==t){const s=r[Sg];s&&(t+=";"+s),r.cssText=t,i=Ig.test(t)}}else e&&n.removeAttribute("style");Ba in n&&(n[Ba]=i?r.display:"",n[_g]&&(r.display="none"))}const Ka=/\s*!important$/;function qr(n,e,t){if($(t))t.forEach(r=>qr(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=bg(n,e);Ka.test(t)?n.setProperty(gn(r),t.replace(Ka,""),"important"):n[r]=t}}const qa=["Webkit","Moz","ms"],li={};function bg(n,e){const t=li[e];if(t)return t;let r=$t(e);if(r!=="filter"&&r in n)return li[e]=r;r=zc(r);for(let o=0;o<qa.length;o++){const i=qa[o]+r;if(i in n)return li[e]=i}return e}const $a="http://www.w3.org/1999/xlink";function Ga(n,e,t,r,o,i=Nu(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS($a,e.slice(6,e.length)):n.setAttributeNS($a,e,t):t==null||i&&!Vc(t)?n.removeAttribute(e):n.setAttribute(e,i?"":zt(t)?String(t):t)}function za(n,e,t,r,o){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?$l(t):t);return}const i=n.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?n.getAttribute("value")||"":n.value,c=t==null?n.type==="checkbox"?"on":"":String(t);(a!==c||!("_value"in n))&&(n.value=c),t==null&&n.removeAttribute(e),n._value=t;return}let s=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=Vc(t):t==null&&a==="string"?(t="",s=!0):a==="number"&&(t=0,s=!0)}try{n[e]=t}catch{}s&&n.removeAttribute(o||e)}function Rg(n,e,t,r){n.addEventListener(e,t,r)}function kg(n,e,t,r){n.removeEventListener(e,t,r)}const ja=Symbol("_vei");function Og(n,e,t,r,o=null){const i=n[ja]||(n[ja]={}),s=i[e];if(r&&s)s.value=r;else{const[a,c]=Pg(e);if(r){const d=i[e]=xg(r,o);Rg(n,a,d,c)}else s&&(kg(n,a,s,c),i[e]=void 0)}}const Va=/(?:Once|Passive|Capture)$/;function Pg(n){let e;if(Va.test(n)){e={};let r;for(;r=n.match(Va);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):gn(n.slice(2)),e]}let di=0;const Ng=Promise.resolve(),Mg=()=>di||(Ng.then(()=>di=0),di=Date.now());function xg(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;_t(Dg(r,t.value),e,5,[r])};return t.value=n,t.attached=Mg(),t}function Dg(n,e){if($(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const Wa=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Lg=(n,e,t,r,o,i)=>{const s=o==="svg";e==="class"?wg(n,r,s):e==="style"?vg(n,t,r):yo(e)?es(e)||Og(n,e,t,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ug(n,e,r,s))?(za(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ga(n,e,r,s,i,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Te(r))?za(n,$t(e),r,i,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),Ga(n,e,r,s))};function Ug(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&Wa(e)&&j(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=n.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Wa(e)&&Te(t)?!1:e in n}const Hg=He({patchProp:Lg},Ag);let Ya;function Fg(){return Ya||(Ya=Gf(Hg))}const Bg=(...n)=>{const e=Fg().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=qg(r);if(!o)return;const i=e._component;!j(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=t(o,!1,Kg(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function Kg(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function qg(n){return Te(n)?document.querySelector(n):n}const $g="/assets/fmci-logo-transparent-BkTbEU7D.png",Cs=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},Gg={props:["isAuthenticated","events"],methods:{isPastEvent(n){const e=new Date(n.end.dateTime+"Z");return new Date>e}},setup(n){const e=Ot(null);let t;const r=dr(()=>{const c=new Date,d=c.getDay(),l=new Date(c);l.setDate(c.getDate()-(d===0?6:d-1)),l.setHours(0,0,0,0);const h=new Date(l);return h.setDate(l.getDate()+4),h.setHours(23,59,59,999),n.events.filter(f=>{const m=new Date(f.start.dateTime),y=m>=l&&m<=h,T=f.isCancelled!=="true";return y&&T})}),o=dr(()=>{const c={};r.value.forEach(h=>{const f=new Date(h.start.dateTime).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"});c[f]||(c[f]=[]),c[f].push(h),console.log("Original:",h.start.dateTime),console.log("Dublin time:",a(h.start.dateTime))}),Object.keys(c).forEach(h=>{c[h].sort((f,m)=>new Date(f.start.dateTime)-new Date(m.start.dateTime))});const d=Object.keys(c).sort((h,f)=>new Date(c[h][0].start.dateTime)-new Date(c[f][0].start.dateTime)),l={};return d.forEach(h=>{l[h]=c[h]}),l});Zn(r,c=>{console.log("this week events length: "+c.length),c.length>4&&e.value&&(t&&clearInterval(t),t=setInterval(()=>{e.value&&(e.value.scrollTop+=1,e.value.scrollTop>=e.value.scrollHeight-e.value.clientHeight&&(e.value.scrollTop=0))},50))},{immediate:!0}),pr(()=>{clearInterval(t)});const i=()=>{const c=new Date,d=c.getDay(),l=new Date(c);return l.setDate(c.getDate()-(d===0?6:d-1)),l.toLocaleDateString("en-GB")},s=c=>new Date(c).toLocaleDateString("en-GB",{timeZone:"Europe/Dublin"}),a=c=>new Date(c+"Z").toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",timeZone:"Europe/Dublin"});return{scrollContainer:e,filteredEvents:r,groupedEvents:o,getMonday:i,formatDate:s,formatTime:a}}},zg={key:0,class:"bg-blue-300 p-5 rounded-xl shadow-md max-w-[600px] w-full relative"},jg={class:"text-lg font-medium text-gray-600 mb-4"},Vg={class:"relative w-full h-full"},Wg={key:0,ref:"scrollContainer",class:"overflow-hidden flex flex-col space-y-4 max-h-[600px]"},Yg={class:"bg-blue-100 text-blue-800 font-semibold px-4 py-2 rounded"},Qg={class:"text-lg text-gray-800"},Jg={class:"text-gray-600"},Xg={class:"text-gray-600"},Zg={class:"text-gray-500"},ep={key:1,class:""},tp={key:2,class:"pointer-events-none absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-blue-100 to-transparent"};function np(n,e,t,r,o,i){return t.isAuthenticated?(he(),me("div",zg,[e[1]||(e[1]=re("h2",{class:"text-2xl font-semibold text-gray-700 mb-2"},"This Weeks Schedule",-1)),re("h3",jg,"Week Starting: "+we(r.getMonday()),1),re("div",Vg,[r.groupedEvents?(he(),me("div",Wg,[(he(!0),me(Ve,null,Jr(r.groupedEvents,(s,a)=>(he(),me("div",{key:a,class:"flex flex-col space-y-2"},[re("div",Yg,we(a),1),(he(!0),me(Ve,null,Jr(s,c=>(he(),me("div",{key:c.id,class:Eo(["p-3 rounded-lg shadow w-full",i.isPastEvent(c)?"bg-gray-300 text-gray-500":"bg-gray-100"])},[re("strong",Qg,we(c.subject),1),re("p",Jg,"  "+we(r.formatDate(c.start.dateTime))+"  "+we(r.formatTime(c.start.dateTime))+" - "+we(r.formatTime(c.end.dateTime)),1),re("p",Xg," "+we(c.location.displayName||"No location"),1),re("p",Zg," Created by: "+we(c.organizer.emailAddress.name),1)],2))),128))]))),128))],512)):(he(),me("div",ep,e[0]||(e[0]=[re("p",null," No events this week. ",-1)]))),r.filteredEvents.length>4?(he(),me("div",tp)):Nt("",!0)])])):Nt("",!0)}const rp=Cs(Gg,[["render",np]]),op={props:["isAuthenticated","events"],setup(n){const e=Ot(null);let t;const r=dr(()=>{const c=new Date,d=c.getDay(),l=new Date(c);l.setDate(c.getDate()-(d===0?6:d-1)+7),l.setHours(0,0,0,0);const h=new Date(l);return h.setDate(l.getDate()+4),h.setHours(23,59,59,999),n.events.filter(f=>{const m=new Date(f.start.dateTime),y=m>=l&&m<=h,T=f.isCancelled!=="true";return y&&T})}),o=dr(()=>{const c={};r.value.forEach(h=>{const f=new Date(h.start.dateTime).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"});c[f]||(c[f]=[]),c[f].push(h)}),Object.keys(c).forEach(h=>{c[h].sort((f,m)=>new Date(f.start.dateTime)-new Date(m.start.dateTime))});const d=Object.keys(c).sort((h,f)=>new Date(c[h][0].start.dateTime)-new Date(c[f][0].start.dateTime)),l={};return d.forEach(h=>{l[h]=c[h]}),l});return Zn(r,c=>{console.log("next week events length: "+c.length),c.length>4&&e.value&&(t&&clearInterval(t),t=setInterval(()=>{e.value&&(e.value.scrollTop+=1,e.value.scrollTop>=e.value.scrollHeight-e.value.clientHeight&&(e.value.scrollTop=0))},50))},{immediate:!0}),pr(()=>{clearInterval(t)}),{scrollContainer:e,filteredEvents:r,groupedEvents:o,getNextMonday:()=>{const c=new Date,d=c.getDay(),l=new Date(c);return l.setDate(c.getDate()-(d===0?6:d-1)+7),l.toLocaleDateString("en-GB")},formatDate:c=>new Date(c).toLocaleDateString("en-GB",{timeZone:"Europe/Dublin"}),formatTime:c=>new Date(c+"Z").toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",timeZone:"Europe/Dublin"})}}},ip={key:0,class:"bg-orange-300 p-5 rounded-xl shadow-md max-w-[600px] w-full relative"},sp={class:"text-lg font-medium text-gray-600 mb-4"},ap={class:"relative w-full h-full"},cp={key:0,ref:"scrollContainer",class:"overflow-hidden flex flex-col space-y-4 max-h-[600px]"},lp={class:"bg-orange-100 text-orange-800 font-semibold px-4 py-2 rounded"},dp={class:"text-lg text-gray-800"},hp={class:"text-gray-600"},up={class:"text-gray-600"},fp={class:"text-gray-500"},gp={key:1},pp={key:2,class:"pointer-events-none absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-blue-100 to-transparent"};function mp(n,e,t,r,o,i){return t.isAuthenticated?(he(),me("div",ip,[e[1]||(e[1]=re("h2",{class:"text-2xl font-semibold text-gray-700 mb-2"},"Next Weeks Schedule",-1)),re("h3",sp,"Week Starting: "+we(r.getNextMonday()),1),re("div",ap,[Object.keys(r.groupedEvents).length?(he(),me("div",cp,[(he(!0),me(Ve,null,Jr(r.groupedEvents,(s,a)=>(he(),me("div",{key:a,class:"flex flex-col space-y-2"},[re("div",lp,we(a),1),(he(!0),me(Ve,null,Jr(s,c=>(he(),me("div",{key:c.id,class:"bg-gray-100 p-3 rounded-lg shadow w-full"},[re("strong",dp,we(c.subject),1),re("p",hp,"  "+we(r.formatDate(c.start.dateTime))+"  "+we(r.formatTime(c.start.dateTime))+" - "+we(r.formatTime(c.end.dateTime)),1),re("p",up,"  "+we(c.location.displayName||"No location"),1),re("p",fp,"  Created by: "+we(c.organizer.emailAddress.name),1)]))),128))]))),128))],512)):(he(),me("div",gp,e[0]||(e[0]=[re("p",null,"No events this week.",-1)]))),r.filteredEvents.length>4?(he(),me("div",pp)):Nt("",!0)])])):Nt("",!0)}const yp=Cs(op,[["render",mp]]);/*! @azure/msal-common v15.3.0 2025-03-20 */const E={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Pr={CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},yr=[E.OPENID_SCOPE,E.PROFILE_SCOPE,E.OFFLINE_ACCESS_SCOPE],Qa=[...yr,E.EMAIL_SCOPE],xe={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Ja={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Kt={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Nr={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Ae={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Xa={PLAIN:"plain",S256:"S256"},Cr={QUERY:"query",FRAGMENT:"fragment"},Cp={...Cr},Gl={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Mr={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},be={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},G={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Ts="appmetadata",Tp="client_info",tr="1",eo={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},ze={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Ee={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ne={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},nr={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Za={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},xr={httpSuccess:200,httpBadRequest:400},mn={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},hi={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},en={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Ap={Pop:"pop"},Ep=300;/*! @azure/msal-common v15.3.0 2025-03-20 */const As="unexpected_error",wp="post_request_failed";/*! @azure/msal-common v15.3.0 2025-03-20 */const ec={[As]:"Unexpected error in authentication.",[wp]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class le extends Error{constructor(e,t,r){const o=t?`${e}: ${t}`:e;super(o),Object.setPrototypeOf(this,le.prototype),this.errorCode=e||E.EMPTY_STRING,this.errorMessage=t||E.EMPTY_STRING,this.subError=r||E.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function zl(n,e){return new le(n,e?`${ec[n]} ${e}`:ec[n])}/*! @azure/msal-common v15.3.0 2025-03-20 */const Es="client_info_decoding_error",jl="client_info_empty_error",ws="token_parsing_error",Vl="null_or_empty_token",Rt="endpoints_resolution_error",Wl="network_error",Yl="openid_config_error",Ql="hash_not_deserialized",Nn="invalid_state",Jl="state_mismatch",to="state_not_found",Xl="nonce_mismatch",_s="auth_time_not_found",Zl="max_age_transpired",_p="multiple_matching_tokens",Sp="multiple_matching_accounts",ed="multiple_matching_appMetadata",td="request_cannot_be_made",nd="cannot_remove_empty_scope",rd="cannot_append_scopeset",Pi="empty_input_scopeset",Ip="device_code_polling_cancelled",vp="device_code_expired",bp="device_code_unknown_error",Ss="no_account_in_silent_request",od="invalid_cache_record",Is="invalid_cache_environment",Ni="no_account_found",Mi="no_crypto_object",xi="unexpected_credential_type",Rp="invalid_assertion",kp="invalid_client_credential",qt="token_refresh_required",Op="user_timeout_reached",id="token_claims_cnf_required_for_signedjwt",sd="authorization_code_missing_from_server_response",ad="binding_key_not_removed",cd="end_session_endpoint_not_supported",vs="key_id_missing",Pp="no_network_connectivity",Np="user_canceled",Mp="missing_tenant_id_error",W="method_not_implemented",xp="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.3.0 2025-03-20 */const tc={[Es]:"The client info could not be parsed/decoded correctly",[jl]:"The client info was empty",[ws]:"Token cannot be parsed",[Vl]:"The token is null or empty",[Rt]:"Endpoints cannot be resolved",[Wl]:"Network request failed",[Yl]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Ql]:"The hash parameters could not be deserialized",[Nn]:"State was not the expected format",[Jl]:"State mismatch error",[to]:"State not found",[Xl]:"Nonce mismatch error",[_s]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Zl]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[_p]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Sp]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[ed]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[td]:"Token request cannot be made without authorization code or refresh token.",[nd]:"Cannot remove null or empty scope from ScopeSet",[rd]:"Cannot append ScopeSet",[Pi]:"Empty input ScopeSet cannot be processed",[Ip]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[vp]:"Device code is expired.",[bp]:"Device code stopped polling for unknown reasons.",[Ss]:"Please pass an account object, silent flow is not supported without account information",[od]:"Cache record object was null or undefined.",[Is]:"Invalid environment when attempting to create cache entry",[Ni]:"No account found in cache for given key.",[Mi]:"No crypto object detected.",[xi]:"Unexpected credential type.",[Rp]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[kp]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[qt]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[Op]:"User defined timeout for device code polling reached",[id]:"Cannot generate a POP jwt if the token_claims are not populated",[sd]:"Server response does not contain an authorization code to proceed",[ad]:"Could not remove the credential's binding key from storage.",[cd]:"The provided authority does not support logout",[vs]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Pp]:"No network connectivity. Check your internet connection.",[Np]:"User cancelled the flow.",[Mp]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[W]:"This method has not been implemented",[xp]:"The nested app auth bridge is disabled"};class bs extends le{constructor(e,t){super(e,t?`${tc[e]}: ${t}`:tc[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,bs.prototype)}}function S(n,e){return new bs(n,e)}/*! @azure/msal-common v15.3.0 2025-03-20 */const no={createNewGuid:()=>{throw S(W)},base64Decode:()=>{throw S(W)},base64Encode:()=>{throw S(W)},base64UrlEncode:()=>{throw S(W)},encodeKid:()=>{throw S(W)},async getPublicKeyThumbprint(){throw S(W)},async removeTokenBindingKey(){throw S(W)},async clearKeystore(){throw S(W)},async signJwt(){throw S(W)},async hashString(){throw S(W)}};/*! @azure/msal-common v15.3.0 2025-03-20 */var de;(function(n){n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace"})(de||(de={}));class Gt{constructor(e,t,r){this.level=de.Info;const o=()=>{},i=e||Gt.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||o,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:de.Info,this.correlationId=i.correlationId||E.EMPTY_STRING,this.packageName=t||E.EMPTY_STRING,this.packageVersion=r||E.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:de.Info}}clone(e,t,r){return new Gt({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const i=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${de[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,i,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:de.Error,containsPii:!1,correlationId:t||E.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:de.Error,containsPii:!0,correlationId:t||E.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:de.Warning,containsPii:!1,correlationId:t||E.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:de.Warning,containsPii:!0,correlationId:t||E.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:de.Info,containsPii:!1,correlationId:t||E.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:de.Info,containsPii:!0,correlationId:t||E.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:de.Verbose,containsPii:!1,correlationId:t||E.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:de.Verbose,containsPii:!0,correlationId:t||E.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:de.Trace,containsPii:!1,correlationId:t||E.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:de.Trace,containsPii:!0,correlationId:t||E.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.3.0 2025-03-20 */const ld="@azure/msal-common",Rs="15.3.0";/*! @azure/msal-common v15.3.0 2025-03-20 */const ks={None:"none"};/*! @azure/msal-common v15.3.0 2025-03-20 */function Dn(n,e){const t=Dp(n);try{const r=e(t);return JSON.parse(r)}catch{throw S(ws)}}function Dp(n){if(!n)throw S(Vl);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw S(ws);return t[2]}function dd(n,e){if(e===0||Date.now()-3e5>n+e)throw S(Zl)}/*! @azure/msal-common v15.3.0 2025-03-20 */function Xe(){return Math.round(new Date().getTime()/1e3)}function nc(n){return n.getTime()/1e3}function vn(n){return n?new Date(Number(n)*1e3):new Date}function Di(n,e){const t=Number(n)||0;return Xe()+e>t}function Lp(n){return Number(n)>Xe()}/*! @azure/msal-common v15.3.0 2025-03-20 */function rr(n){return[Bp(n),Kp(n),qp(n),$p(n),Gp(n)].join(be.CACHE_KEY_SEPARATOR).toLowerCase()}function bo(n,e,t,r,o){return{credentialType:G.ID_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t,realm:o}}function Ro(n,e,t,r,o,i,s,a,c,d,l,h,f,m,y){var I,M;const T={homeAccountId:n,credentialType:G.ACCESS_TOKEN,secret:t,cachedAt:Xe().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:o,target:i,tokenType:l||ne.BEARER};if(h&&(T.userAssertionHash=h),d&&(T.refreshOn=d.toString()),m&&(T.requestedClaims=m,T.requestedClaimsHash=y),((I=T.tokenType)==null?void 0:I.toLowerCase())!==ne.BEARER.toLowerCase())switch(T.credentialType=G.ACCESS_TOKEN_WITH_AUTH_SCHEME,T.tokenType){case ne.POP:const L=Dn(t,c);if(!((M=L==null?void 0:L.cnf)!=null&&M.kid))throw S(id);T.keyId=L.cnf.kid;break;case ne.SSH:T.keyId=f}return T}function hd(n,e,t,r,o,i,s){const a={credentialType:G.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t};return i&&(a.userAssertionHash=i),o&&(a.familyId=o),s&&(a.expiresOn=s.toString()),a}function Os(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function Up(n){return n?Os(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===G.ACCESS_TOKEN||n.credentialType===G.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Hp(n){return n?Os(n)&&n.hasOwnProperty("realm")&&n.credentialType===G.ID_TOKEN:!1}function Fp(n){return n?Os(n)&&n.credentialType===G.REFRESH_TOKEN:!1}function Bp(n){return[n.homeAccountId,n.environment].join(be.CACHE_KEY_SEPARATOR).toLowerCase()}function Kp(n){const e=n.credentialType===G.REFRESH_TOKEN&&n.familyId||n.clientId;return[n.credentialType,e,n.realm||""].join(be.CACHE_KEY_SEPARATOR).toLowerCase()}function qp(n){return(n.target||"").toLowerCase()}function $p(n){return(n.requestedClaimsHash||"").toLowerCase()}function Gp(n){return n.tokenType&&n.tokenType.toLowerCase()!==ne.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function zp(n,e){const t=n.indexOf(Ee.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function jp(n,e){let t=!1;n&&(t=n.indexOf(nr.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function Vp({environment:n,clientId:e}){return[Ts,n,e].join(be.CACHE_KEY_SEPARATOR).toLowerCase()}function Wp(n,e){return e?n.indexOf(Ts)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function Yp(n,e){return e?n.indexOf(eo.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function rc(){return Xe()+eo.REFRESH_TIME_SECONDS}function Dr(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function ui(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function oc(n){return n.expiresAt<=Xe()}/*! @azure/msal-common v15.3.0 2025-03-20 */const ud="redirect_uri_empty",Qp="claims_request_parsing_error",fd="authority_uri_insecure",Vn="url_parse_error",gd="empty_url_error",pd="empty_input_scopes_error",md="invalid_prompt_value",ko="invalid_claims",yd="token_request_empty",Cd="logout_request_empty",Td="invalid_code_challenge_method",Oo="pkce_params_missing",Ps="invalid_cloud_discovery_metadata",Ad="invalid_authority_metadata",Ed="untrusted_authority",Po="missing_ssh_jwk",wd="missing_ssh_kid",Jp="missing_nonce_authentication_header",Xp="invalid_authentication_header",_d="cannot_set_OIDCOptions",Sd="cannot_allow_platform_broker",Id="authority_mismatch";/*! @azure/msal-common v15.3.0 2025-03-20 */const Zp={[ud]:"A redirect URI is required for all calls, and none has been set.",[Qp]:"Could not parse the given claims request object.",[fd]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Vn]:"URL could not be parsed into appropriate segments.",[gd]:"URL was empty or null.",[pd]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[md]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[ko]:"Given claims parameter must be a stringified JSON object.",[yd]:"Token request was empty and not found in cache.",[Cd]:"The logout request was null or undefined.",[Td]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Oo]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Ps]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Ad]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Ed]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Po]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[wd]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Jp]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Xp]:"Invalid authentication header provided",[_d]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Sd]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[Id]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class Ns extends le{constructor(e){super(e,Zp[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Ns.prototype)}}function te(n){return new Ns(n)}/*! @azure/msal-common v15.3.0 2025-03-20 */class Et{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},r=e.split("&"),o=i=>decodeURIComponent(i.replace(/\+/g," "));return r.forEach(i=>{if(i.trim()){const[s,a]=i.split(/=(.+)/g,2);s&&a&&(t[o(s)]=o(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v15.3.0 2025-03-20 */class ye{constructor(e){const t=e?Et.trimArrayEntries([...e]):[],r=t?Et.removeEmptyStringsFromArray(t):[];if(!r||!r.length)throw te(pd);this.scopes=new Set,r.forEach(o=>this.scopes.add(o))}static fromString(e){const r=(e||E.EMPTY_STRING).split(" ");return new ye(r)}static createSearchScopes(e){const t=new ye(e);return t.containsOnlyOIDCScopes()?t.removeScope(E.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),r=new ye(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return Qa.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw S(rd)}}removeScope(e){if(!e)throw S(nd);this.scopes.delete(e.trim())}removeOIDCScopes(){Qa.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw S(Pi);const t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw S(Pi);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),r=e.getScopeCount(),o=this.getScopeCount();return t.size<o+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):E.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.3.0 2025-03-20 */function ro(n,e){if(!n)throw S(jl);try{const t=e(n);return JSON.parse(t)}catch{throw S(Es)}}function bn(n){if(!n)throw S(Es);const e=n.split(be.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?E.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.3.0 2025-03-20 */function ic(n,e){return!!n&&!!e&&n===e.split(".")[1]}function Ms(n,e,t,r){if(r){const{oid:o,sub:i,tid:s,name:a,tfp:c,acr:d}=r,l=s||c||d||"";return{tenantId:l,localAccountId:o||i||"",name:a,isHomeTenant:ic(l,n)}}else return{tenantId:t,localAccountId:e,isHomeTenant:ic(t,n)}}function xs(n,e,t,r){let o=n;if(e){const{isHomeTenant:i,...s}=e;o={...n,...s}}if(t){const{isHomeTenant:i,...s}=Ms(n.homeAccountId,n.localAccountId,n.tenantId,t);return o={...o,...s,idTokenClaims:t,idToken:r},o}return o}/*! @azure/msal-common v15.3.0 2025-03-20 */const Ze={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.3.0 2025-03-20 */function vd(n){return n&&(n.tid||n.tfp||n.acr)||null}/*! @azure/msal-common v15.3.0 2025-03-20 */const wt={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v15.3.0 2025-03-20 */class Ue{generateAccountId(){return[this.homeAccountId,this.environment].join(be.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Ue.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(be.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){var d,l,h,f,m,y;const o=new Ue;t.authorityType===Ze.Adfs?o.authorityType=Mr.ADFS_ACCOUNT_TYPE:t.protocolMode===wt.AAD?o.authorityType=Mr.MSSTS_ACCOUNT_TYPE:o.authorityType=Mr.GENERIC_ACCOUNT_TYPE;let i;e.clientInfo&&r&&(i=ro(e.clientInfo,r)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw S(Is);o.environment=s,o.realm=(i==null?void 0:i.utid)||vd(e.idTokenClaims)||"",o.localAccountId=(i==null?void 0:i.uid)||((d=e.idTokenClaims)==null?void 0:d.oid)||((l=e.idTokenClaims)==null?void 0:l.sub)||"";const a=((h=e.idTokenClaims)==null?void 0:h.preferred_username)||((f=e.idTokenClaims)==null?void 0:f.upn),c=(m=e.idTokenClaims)!=null&&m.emails?e.idTokenClaims.emails[0]:null;if(o.username=a||c||"",o.name=((y=e.idTokenClaims)==null?void 0:y.name)||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{const T=Ms(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[T]}return o}static createFromAccountInfo(e,t,r){var i;const o=new Ue;return o.authorityType=e.authorityType||Mr.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=t,o.msGraphHost=r,o.tenantProfiles=Array.from(((i=e.tenantProfiles)==null?void 0:i.values())||[]),o}static generateHomeAccountId(e,t,r,o,i){if(!(t===Ze.Adfs||t===Ze.Dsts)){if(e)try{const s=ro(e,o.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return(i==null?void 0:i.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let o=!0;if(r){const i=e.idTokenClaims||{},s=t.idTokenClaims||{};o=i.iat===s.iat&&i.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&o}}/*! @azure/msal-common v15.3.0 2025-03-20 */function bd(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function oo(n){if(!n||n.indexOf("=")<0)return null;try{const e=bd(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw S(Ql)}return null}function hr(n){const e=new Array;return n.forEach((t,r)=>{e.push(`${r}=${encodeURIComponent(t)}`)}),e.join("&")}/*! @azure/msal-common v15.3.0 2025-03-20 */class Q{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw te(gd);e.includes("#")||(this._urlString=Q.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Et.endsWith(t,"?")?t=t.slice(0,-1):Et.endsWith(t,"?/")&&(t=t.slice(0,-2)),Et.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw te(Vn)}if(!e.HostNameAndPort||!e.PathSegments)throw te(Vn);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw te(fd)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Q.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===Kt.COMMON||r[0]===Kt.ORGANIZATIONS)&&(r[0]=e),Q.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw te(Vn);const r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let o=r.AbsolutePath.split("/");return o=o.filter(i=>i&&i.length>0),r.PathSegments=o,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw te(Vn);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===E.FORWARD_SLASH){const o=new Q(t).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Q(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!oo(e)}}/*! @azure/msal-common v15.3.0 2025-03-20 */const Rd={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},sc=Rd.endpointMetadata,Ds=Rd.instanceDiscoveryMetadata,kd=new Set;Ds.metadata.forEach(n=>{n.aliases.forEach(e=>{kd.add(e)})});function em(n,e){var o;let t;const r=n.canonicalAuthority;if(r){const i=new Q(r).getUrlComponents().HostNameAndPort;t=ac(i,(o=n.cloudDiscoveryMetadata)==null?void 0:o.metadata,ze.CONFIG,e)||ac(i,Ds.metadata,ze.HARDCODED_VALUES,e)||n.knownAuthorities}return t||[]}function ac(n,e,t,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){const o=io(e,n);if(o)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),o.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function tm(n){return io(Ds.metadata,n)}function io(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.3.0 2025-03-20 */const Od="cache_quota_exceeded",Ls="cache_error_unknown";/*! @azure/msal-common v15.3.0 2025-03-20 */const fi={[Od]:"Exceeded cache storage capacity.",[Ls]:"Unexpected error occurred when using cache storage."};class Rn extends Error{constructor(e,t){const r=t||(fi[e]?fi[e]:fi[Ls]);super(`${e}: ${r}`),Object.setPrototypeOf(this,Rn.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}/*! @azure/msal-common v15.3.0 2025-03-20 */class Li{constructor(e,t,r,o){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(ld,Rs),this.staticAuthorityOptions=o}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);return t.length>1?t.sort(o=>o.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t==null?void 0:t.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,o){let i=null,s;if(o&&!this.tenantProfileMatchesFilter(r,o))return null;const a=this.getIdToken(e,t,r.tenantId);return a&&(s=Dn(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,o))?null:(i=xs(e,r,s,a==null?void 0:a.secret),i)}getTenantProfilesFromAccountEntity(e,t,r){const o=e.getAccountInfo();let i=o.tenantProfiles||new Map;const s=this.getTokenKeys();if(t){const c=i.get(t);if(c)i=new Map([[t,c]]);else return[]}const a=[];return i.forEach(c=>{const d=this.getTenantedAccountInfoByFilter(o,s,c,r);d&&a.push(d)}),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,r){var o,i,s,a;if(!e)throw S(od);try{e.account&&await this.setAccount(e.account,t),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(c){throw(o=this.commonLogger)==null||o.error("CacheManager.saveCacheRecord: failed"),c instanceof Error?((i=this.commonLogger)==null||i.errorPii(`CacheManager.saveCacheRecord: ${c.message}`,t),c.name==="QuotaExceededError"||c.name==="NS_ERROR_DOM_QUOTA_REACHED"||c.message.includes("exceeded the quota")?((s=this.commonLogger)==null||s.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new Rn(Od)):new Rn(c.name,c.message)):((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${c}`,t),new Rn(Ls))}}async saveAccessToken(e,t){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),i=ye.fromString(e.target),s=[];o.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,r,!1))return;const c=this.getAccessTokenCredential(a);c&&this.credentialMatchesFilter(c,r)&&ye.fromString(c.target).intersectingScopeSets(i)&&s.push(this.removeAccessToken(a))}),await Promise.all(s),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),r=[];return t.forEach(o=>{var c;if(!this.isAccountKey(o,e.homeAccountId))return;const i=this.getAccount(o,this.commonLogger);if(!i||e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId)||e.username&&!this.matchUsername(i.username,e.username)||e.environment&&!this.matchEnvironment(i,e.environment)||e.realm&&!this.matchRealm(i,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;const s={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},a=(c=i.tenantProfiles)==null?void 0:c.filter(d=>this.tenantProfileMatchesFilter(d,s));a&&a.length===0||r.push(i)}),r}isAccountKey(e,t,r){return!(e.split(be.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(be.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(G.ID_TOKEN.toLowerCase())===-1&&t.indexOf(G.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(G.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(G.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(G.REFRESH_TOKEN.toLowerCase())>-1){const r=`${G.REFRESH_TOKEN}${be.CACHE_KEY_SEPARATOR}${this.clientId}${be.CACHE_KEY_SEPARATOR}`,o=`${G.REFRESH_TOKEN}${be.CACHE_KEY_SEPARATOR}${tr}${be.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(o.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===G.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===ne.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),r={};return t.forEach(o=>{if(!this.isAppMetadata(o))return;const i=this.getAppMetadata(o);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(r[o]=i))}),r}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let r=null;return t.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;const i=this.getAuthorityMetadata(o);i&&i.aliases.indexOf(e)!==-1&&(r=i)}),r}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach(r=>{t.push(this.removeAccount(r))}),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),r=e.generateAccountId(),o=[];t.idToken.forEach(i=>{i.indexOf(r)===0&&this.removeIdToken(i)}),t.accessToken.forEach(i=>{i.indexOf(r)===0&&o.push(this.removeAccessToken(i))}),t.refreshToken.forEach(i=>{i.indexOf(r)===0&&this.removeRefreshToken(i)}),await Promise.all(o)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===G.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===ne.POP){const o=t.keyId;if(o)try{await this.cryptoImpl.removeTokenBindingKey(o)}catch{throw S(ad)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){const t=Ue.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,o,i){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:G.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,t),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let d=a;if(!r){const l=new Map;a.forEach((f,m)=>{f.realm===e.tenantId&&l.set(m,f)});const h=l.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),l.values().next().value;d=l}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((l,h)=>{this.removeIdToken(h)}),o&&i&&o.addFields({multiMatchedID:a.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const r=t&&t.idToken||this.getTokenKeys().idToken,o=new Map;return r.forEach(i=>{if(!this.idTokenKeyMatchesFilter(i,{clientId:this.clientId,...e}))return;const s=this.getIdTokenCredential(i);s&&this.credentialMatchesFilter(s,e)&&o.set(i,s)}),o}idTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,o,i,s){this.commonLogger.trace("CacheManager - getAccessToken called");const a=ye.createSearchScopes(t.scopes),c=t.authenticationScheme||ne.BEARER,d=c.toLowerCase()!==ne.BEARER.toLowerCase()?G.ACCESS_TOKEN_WITH_AUTH_SCHEME:G.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:d,clientId:this.clientId,realm:o||e.tenantId,target:a,tokenType:c,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},h=r&&r.accessToken||this.getTokenKeys().accessToken,f=[];h.forEach(y=>{if(this.accessTokenKeyMatchesFilter(y,l,!0)){const T=this.getAccessTokenCredential(y);T&&this.credentialMatchesFilter(T,l)&&f.push(T)}});const m=f.length;return m<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):m>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),f.forEach(y=>{this.removeAccessToken(rr(y))}),i&&s&&i.addFields({multiMatchedAT:f.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),f[0])}accessTokenKeyMatchesFilter(e,t,r){const o=e.toLowerCase();if(t.clientId&&o.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&o.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&o.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&o.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const i=t.target.asArray();for(let s=0;s<i.length;s++){if(r&&!o.includes(i[s].toLowerCase()))return!1;if(!r&&o.includes(i[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),r=[];return t.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;const i=this.getAccessTokenCredential(o);i&&this.credentialMatchesFilter(i,e)&&r.push(i)}),r}getRefreshToken(e,t,r,o,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=t?tr:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:G.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,d=[];c.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,a)){const f=this.getRefreshTokenCredential(h);f&&this.credentialMatchesFilter(f,a)&&d.push(f)}});const l=d.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&o&&i&&o.addFields({multiMatchedRT:l},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),o=Object.keys(r).map(s=>r[s]),i=o.length;if(i<1)return null;if(i>1)throw S(ed);return o[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===tr)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var r;return t.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,t){return!!(e&&typeof e=="string"&&(t==null?void 0:t.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const o=em(this.staticAuthorityOptions,this.commonLogger);if(o.includes(t)&&o.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==G.ACCESS_TOKEN&&e.credentialType!==G.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:ye.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(Ts)!==-1}isAuthorityMetadata(e){return e.indexOf(eo.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${eo.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const r in t)e[r]=t[r];return e}}class nm extends Li{async setAccount(){throw S(W)}getAccount(){throw S(W)}async setIdTokenCredential(){throw S(W)}getIdTokenCredential(){throw S(W)}async setAccessTokenCredential(){throw S(W)}getAccessTokenCredential(){throw S(W)}async setRefreshTokenCredential(){throw S(W)}getRefreshTokenCredential(){throw S(W)}setAppMetadata(){throw S(W)}getAppMetadata(){throw S(W)}setServerTelemetry(){throw S(W)}getServerTelemetry(){throw S(W)}setAuthorityMetadata(){throw S(W)}getAuthorityMetadata(){throw S(W)}getAuthorityMetadataKeys(){throw S(W)}setThrottlingCache(){throw S(W)}getThrottlingCache(){throw S(W)}removeItem(){throw S(W)}getKeys(){throw S(W)}getAccountKeys(){throw S(W)}getTokenKeys(){throw S(W)}}/*! @azure/msal-common v15.3.0 2025-03-20 */const Pd={tokenRenewalOffsetSeconds:Ep,preventCorsPreflight:!1},rm={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:de.Info,correlationId:E.EMPTY_STRING},om={claimsBasedCachingEnabled:!1},im={async sendGetRequestAsync(){throw S(W)},async sendPostRequestAsync(){throw S(W)}},sm={sku:E.SKU,version:Rs,cpu:E.EMPTY_STRING,os:E.EMPTY_STRING},am={clientSecret:E.EMPTY_STRING,clientAssertion:void 0},cm={azureCloudInstance:ks.None,tenant:`${E.DEFAULT_COMMON_TENANT}`},lm={application:{appName:"",appVersion:""}};function dm({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:o,networkInterface:i,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:d,serverTelemetryManager:l,persistencePlugin:h,serializableCache:f}){const m={...rm,...t};return{authOptions:hm(n),systemOptions:{...Pd,...e},loggerOptions:m,cacheOptions:{...om,...r},storageInterface:o||new nm(n.clientId,no,new Gt(m)),networkInterface:i||im,cryptoInterface:s||no,clientCredentials:a||am,libraryInfo:{...sm,...c},telemetry:{...lm,...d},serverTelemetryManager:l||null,persistencePlugin:h||null,serializableCache:f||null}}function hm(n){return{clientCapabilities:[],azureCloudOptions:cm,skipAuthorityMetadataCache:!1,instanceAware:!1,...n}}function Nd(n){return n.authOptions.authority.options.protocolMode===wt.OIDC}/*! @azure/msal-common v15.3.0 2025-03-20 */const Ye={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.3.0 2025-03-20 */const cn="client_id",Md="redirect_uri",um="response_type",fm="response_mode",gm="grant_type",pm="claims",mm="scope",ym="refresh_token",Cm="state",Tm="nonce",Am="prompt",Em="code",wm="code_challenge",_m="code_challenge_method",Sm="code_verifier",Im="client-request-id",vm="x-client-SKU",bm="x-client-VER",Rm="x-client-OS",km="x-client-CPU",Om="x-client-current-telemetry",Pm="x-client-last-telemetry",Nm="x-ms-lib-capability",Mm="x-app-name",xm="x-app-ver",Dm="post_logout_redirect_uri",Lm="id_token_hint",Um="client_secret",Hm="client_assertion",Fm="client_assertion_type",xd="token_type",Dd="req_cnf",cc="return_spa_code",Bm="nativebroker",Km="logout_hint",qm="sid",$m="login_hint",Gm="domain_hint",zm="x-client-xtra-sku",so="brk_client_id",ao="brk_redirect_uri",lc="instance_aware";/*! @azure/msal-common v15.3.0 2025-03-20 */function No(n,e,t){if(!e)return;const r=n.get(cn);r&&n.has(so)&&(t==null||t.addFields({embeddedClientId:r,embeddedRedirectUri:n.get(Md)},e))}function jm(n){n.set(um,E.CODE_RESPONSE_TYPE)}function Vm(n,e){n.set(fm,e||Cp.QUERY)}function Wm(n){n.set(Bm,"1")}function Us(n,e,t=!0,r=yr){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const o=t?[...e||[],...r]:e||[],i=new ye(o);n.set(mm,i.printScopes())}function Hs(n,e){n.set(cn,e)}function Fs(n,e){n.set(Md,e)}function Ym(n,e){n.set(Dm,e)}function Qm(n,e){n.set(Lm,e)}function Jm(n,e){n.set(Gm,e)}function Lr(n,e){n.set($m,e)}function co(n,e){n.set(xe.CCS_HEADER,`UPN:${e}`)}function or(n,e){n.set(xe.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function dc(n,e){n.set(qm,e)}function Bs(n,e,t){const r=oy(e,t);try{JSON.parse(r)}catch{throw te(ko)}n.set(pm,r)}function Ks(n,e){n.set(Im,e)}function qs(n,e){n.set(vm,e.sku),n.set(bm,e.version),e.os&&n.set(Rm,e.os),e.cpu&&n.set(km,e.cpu)}function $s(n,e){e!=null&&e.appName&&n.set(Mm,e.appName),e!=null&&e.appVersion&&n.set(xm,e.appVersion)}function Xm(n,e){n.set(Am,e)}function Ld(n,e){e&&n.set(Cm,e)}function Zm(n,e){n.set(Tm,e)}function ey(n,e,t){if(e&&t)n.set(wm,e),n.set(_m,t);else throw te(Oo)}function ty(n,e){n.set(Em,e)}function ny(n,e){n.set(ym,e)}function ry(n,e){n.set(Sm,e)}function Ud(n,e){n.set(Um,e)}function Hd(n,e){e&&n.set(Hm,e)}function Fd(n,e){e&&n.set(Fm,e)}function Bd(n,e){n.set(gm,e)}function Gs(n){n.set(Tp,"1")}function Kd(n){n.has(lc)||n.set(lc,"true")}function kn(n,e){Object.entries(e).forEach(([t,r])=>{!n.has(t)&&r&&n.set(t,r)})}function oy(n,e){let t;if(!n)t={};else try{t=JSON.parse(n)}catch{throw te(ko)}return e&&e.length>0&&(t.hasOwnProperty(Nr.ACCESS_TOKEN)||(t[Nr.ACCESS_TOKEN]={}),t[Nr.ACCESS_TOKEN][Nr.XMS_CC]={values:e}),JSON.stringify(t)}function zs(n,e){e&&(n.set(xd,ne.POP),n.set(Dd,e))}function qd(n,e){e&&(n.set(xd,ne.SSH),n.set(Dd,e))}function $d(n,e){n.set(Om,e.generateCurrentRequestHeaderValue()),n.set(Pm,e.generateLastRequestHeaderValue())}function Gd(n){n.set(Nm,nr.X_MS_LIB_CAPABILITY_VALUE)}function iy(n,e){n.set(Km,e)}function Mo(n,e,t){n.has(so)||n.set(so,e),n.has(ao)||n.set(ao,t)}/*! @azure/msal-common v15.3.0 2025-03-20 */function sy(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.3.0 2025-03-20 */function ay(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}/*! @azure/msal-common v15.3.0 2025-03-20 */function cy(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}/*! @azure/msal-common v15.3.0 2025-03-20 */const p={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt"},ly={InProgress:1};/*! @azure/msal-common v15.3.0 2025-03-20 */const xt=(n,e,t,r,o)=>(...i)=>{t.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,o);if(o){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},o)}try{const a=n(...i);return s==null||s.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},_=(n,e,t,r,o)=>(...i)=>{t.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,o);if(o){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},o)}return r==null||r.setPreQueueTime(e,o),n(...i).then(a=>(t.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v15.3.0 2025-03-20 */class xo{constructor(e,t,r,o){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=o}async detectRegion(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(p.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)t.region_source=mn.ENVIRONMENT_VARIABLE;else{const i=xo.IMDS_OPTIONS;try{const s=await _(this.getRegionFromIMDS.bind(this),p.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(E.IMDS_VERSION,i);if(s.status===xr.httpSuccess&&(r=s.body,t.region_source=mn.IMDS),s.status===xr.httpBadRequest){const a=await _(this.getCurrentVersion.bind(this),p.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!a)return t.region_source=mn.FAILED_AUTO_DETECTION,null;const c=await _(this.getRegionFromIMDS.bind(this),p.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,i);c.status===xr.httpSuccess&&(r=c.body,t.region_source=mn.IMDS)}}catch{return t.region_source=mn.FAILED_AUTO_DETECTION,null}}return r||(t.region_source=mn.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,t){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(p.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${E.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,E.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(p.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${E.IMDS_ENDPOINT}?format=json`,e);return r.status===xr.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}xo.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.3.0 2025-03-20 */class Se{constructor(e,t,r,o,i,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new xo(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(E.CIAM_AUTH_URL))return Ze.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case E.ADFS:return Ze.Adfs;case E.DSTS:return Ze.Dsts}return Ze.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Q(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw S(Rt)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw S(Rt)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw S(Rt)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw S(cd);return this.replacePath(this.metadata.end_session_endpoint)}else throw S(Rt)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw S(Rt)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw S(Rt)}canReplaceTenant(e){return e.PathSegments.length===1&&!Se.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Ze.Default&&this.protocolMode===wt.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const o=new Q(this.metadata.canonical_authority).getUrlComponents(),i=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let d=i[c];if(c===0&&this.canReplaceTenant(o)){const l=new Q(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==l&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${l}`),d=l)}a!==d&&(t=t.replace(`/${d}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Ze.Adfs||this.protocolMode!==wt.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var o,i;(o=this.performanceClient)==null||o.addQueueMeasurement(p.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await _(this.updateCloudDiscoveryMetadata.bind(this),p.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await _(this.updateEndpointMetadata.bind(this),p.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),(i=this.performanceClient)==null||i.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:rc(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==ze.CACHE&&(r==null?void 0:r.source)!==ze.CACHE&&(e.expiresAt=rc(),e.canonical_authority=this.canonicalAuthority);const o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){var o,i,s;(o=this.performanceClient)==null||o.addQueueMeasurement(p.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===ze.HARDCODED_VALUES&&(i=this.authorityOptions.azureRegionConfiguration)!=null&&i.azureRegion&&t.metadata){const a=await _(this.updateMetadataWithRegionalInformation.bind(this),p.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);Dr(e,a,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=await _(this.getEndpointMetadataFromNetwork.bind(this),p.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(r=await _(this.updateMetadataWithRegionalInformation.bind(this),p.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Dr(e,r,!0),ze.NETWORK;throw S(Yl,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Dr(e,t,!1),{source:ze.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const o=this.getEndpointMetadataFromHardcodedValues();if(o)return Dr(e,o,!1),{source:ze.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=oc(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:ze.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Q(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw te(Ad)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(p.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const o=await this.networkInterface.sendGetRequestAsync(t,e);return sy(o.body)?o.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(o){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${o}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in sc?sc[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,o,i;(r=this.performanceClient)==null||r.addQueueMeasurement(p.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=(o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.azureRegion;if(t){if(t!==E.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=hi.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,Se.replaceWithRegionalInformation(e,t);const s=await _(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),p.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=hi.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Se.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=hi.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(p.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const r=await _(this.getCloudDiscoveryMetadataFromNetwork.bind(this),p.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return ui(e,r,!0),ze.NETWORK;throw te(Ed)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||E.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||E.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||E.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),ui(e,t,!1),ze.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const o=tm(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),ui(e,o,!1),ze.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=oc(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),ze.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Ze.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Se.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=io(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),te(Ps)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Se.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(p.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${E.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let r=null;try{const i=await this.networkInterface.sendGetRequestAsync(e,t);let s,a;if(ay(i.body))s=i.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(cy(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),s=i.body,s.error===E.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=io(a,this.hostnameAndPort)}catch(i){if(i instanceof le)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{const s=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Se.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&Q.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==ks.None){const o=t.tenant?t.tenant:E.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${o}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return E.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw S(Rt)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return kd.has(e)}static isPublicCloudAuthority(e){return E.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){const o=new Q(e);o.validateAsUri();const i=o.getUrlComponents();let s=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=`${t}.${E.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Q.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,t){const r={...e};return r.authorization_endpoint=Se.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=Se.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=Se.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e;const o=new Q(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(E.CIAM_AUTH_URL)){const i=o.HostNameAndPort.split(".")[0];t=`${t}${i}${E.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}Se.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Kt.COMMON,Kt.CONSUMERS,Kt.ORGANIZATIONS]);function dy(n){var o;const r=(o=new Q(n).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:o.toLowerCase();switch(r){case Kt.COMMON:case Kt.ORGANIZATIONS:case Kt.CONSUMERS:return;default:return r}}function zd(n){return n.endsWith(E.FORWARD_SLASH)?n:`${n}${E.FORWARD_SLASH}`}function hy(n){const e=n.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw te(Ps)}return{canonicalAuthority:n.authority?zd(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v15.3.0 2025-03-20 */async function jd(n,e,t,r,o,i,s){s==null||s.addQueueMeasurement(p.AuthorityFactoryCreateDiscoveredInstance,i);const a=Se.transformCIAMAuthority(zd(n)),c=new Se(a,e,t,r,o,i,s);try{return await _(c.resolveEndpointsAsync.bind(c),p.AuthorityResolveEndpointsAsync,o,s,i)(),c}catch{throw S(Rt)}}/*! @azure/msal-common v15.3.0 2025-03-20 */class Wt extends le{constructor(e,t,r,o,i){super(e,t,r),this.name="ServerError",this.errorNo=o,this.status=i,Object.setPrototypeOf(this,Wt.prototype)}}/*! @azure/msal-common v15.3.0 2025-03-20 */function Do(n,e,t){var r;return{clientId:n,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:t,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.3.0 2025-03-20 */class pt{static generateThrottlingStorageKey(e){return`${nr.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){var i;const r=pt.generateThrottlingStorageKey(t),o=e.getThrottlingCache(r);if(o){if(o.throttleTime<Date.now()){e.removeItem(r);return}throw new Wt(((i=o.errorCodes)==null?void 0:i.join(" "))||E.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,t,r){if(pt.checkResponseStatus(r)||pt.checkResponseForRetryAfter(r)){const o={throttleTime:pt.calculateThrottleTime(parseInt(r.headers[xe.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(pt.generateThrottlingStorageKey(t),o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(xe.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||nr.DEFAULT_THROTTLE_TIME_SECONDS),r+nr.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,o){const i=Do(t,r,o),s=this.generateThrottlingStorageKey(i);e.removeItem(s)}}/*! @azure/msal-common v15.3.0 2025-03-20 */class Lo extends le{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Lo.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}function hc(n,e,t){return new Lo(n,e,t)}/*! @azure/msal-common v15.3.0 2025-03-20 */class js{constructor(e,t){this.config=dm(e),this.logger=new Gt(this.config.loggerOptions,ld,Rs),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[xe.CONTENT_TYPE]=E.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Ye.HOME_ACCOUNT_ID:try{const r=bn(e.credential);t[xe.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Ye.UPN:t[xe.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,r,o,i,s){var c;s&&((c=this.performanceClient)==null||c.addQueueMeasurement(s,i));const a=await this.sendPostRequest(o,e,{body:t,headers:r},i);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,r,o){var s,a,c;pt.preProcess(this.cacheManager,e);let i;try{i=await _(this.networkClient.sendPostRequestAsync.bind(this.networkClient),p.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,o)(t,r);const d=i.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=i.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:d[xe.X_MS_HTTP_VERSION]||"",requestId:d[xe.X_MS_REQUEST_ID]||""},o)}catch(d){if(d instanceof Lo){const l=d.responseHeaders;throw l&&((c=this.performanceClient)==null||c.addFields({httpVerToken:l[xe.X_MS_HTTP_VERSION]||"",requestId:l[xe.X_MS_REQUEST_ID]||"",contentTypeHeader:l[xe.CONTENT_TYPE]||void 0,contentLengthHeader:l[xe.CONTENT_LENGTH]||void 0,httpStatus:d.httpStatus},o)),d.error}throw d instanceof le?d:S(Wl)}return pt.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(p.UpdateTokenEndpointAuthority,t);const r=`https://${e}/${this.authority.tenant}/`,o=await jd(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=o}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&Mo(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&kn(t,e.tokenQueryParameters),Ks(t,e.correlationId),No(t,e.correlationId,this.performanceClient),hr(t)}}/*! @azure/msal-common v15.3.0 2025-03-20 */const lo="no_tokens_found",Vd="native_account_unavailable",Vs="refresh_token_expired",uy="interaction_required",fy="consent_required",gy="login_required",Uo="bad_token";/*! @azure/msal-common v15.3.0 2025-03-20 */const uc=[uy,fy,gy,Uo],py=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],my={[lo]:"No refresh token found in the cache. Please sign-in.",[Vd]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Vs]:"Refresh token has expired.",[Uo]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class nt extends le{constructor(e,t,r,o,i,s,a,c){super(e,t,r),Object.setPrototypeOf(this,nt.prototype),this.timestamp=o||E.EMPTY_STRING,this.traceId=i||E.EMPTY_STRING,this.correlationId=s||E.EMPTY_STRING,this.claims=a||E.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function Wd(n,e,t){const r=!!n&&uc.indexOf(n)>-1,o=!!t&&py.indexOf(t)>-1,i=!!e&&uc.some(s=>e.indexOf(s)>-1);return r||i||o}function Ui(n){return new nt(n,my[n])}/*! @azure/msal-common v15.3.0 2025-03-20 */class tt{static setRequestState(e,t,r){const o=tt.generateLibraryState(e,r);return t?`${o}${E.RESOURCE_DELIM}${t}`:o}static generateLibraryState(e,t){if(!e)throw S(Mi);const r={id:e.createNewGuid()};t&&(r.meta=t);const o=JSON.stringify(r);return e.base64Encode(o)}static parseRequestState(e,t){if(!e)throw S(Mi);if(!t)throw S(Nn);try{const r=t.split(E.RESOURCE_DELIM),o=r[0],i=r.length>1?r.slice(1).join(E.RESOURCE_DELIM):E.EMPTY_STRING,s=e.base64Decode(o),a=JSON.parse(s);return{userRequestState:i||E.EMPTY_STRING,libraryState:a}}catch{throw S(Nn)}}}/*! @azure/msal-common v15.3.0 2025-03-20 */const yy={SW:"sw"};class Mn{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(p.PopTokenGenerateCnf,e.correlationId);const r=await _(this.generateKid.bind(this),p.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:o}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(p.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:yy.SW}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,o){const{resourceRequestMethod:i,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:d}=r,l=s?new Q(s):void 0,h=l==null?void 0:l.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Xe(),m:i==null?void 0:i.toUpperCase(),u:h==null?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:h==null?void 0:h.AbsolutePath,q:h!=null&&h.QueryString?[[],h.QueryString]:void 0,client_claims:a||void 0,...o},t,d,r.correlationId)}}/*! @azure/msal-common v15.3.0 2025-03-20 */class Cy{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.3.0 2025-03-20 */class xn{constructor(e,t,r,o,i,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=o,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,t){var r;if(e.error||e.error_description||e.suberror){const o=`Error(s): ${e.error_codes||E.NOT_AVAILABLE} - Timestamp: ${e.timestamp||E.NOT_AVAILABLE} - Description: ${e.error_description||E.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||E.NOT_AVAILABLE} - Trace ID: ${e.trace_id||E.NOT_AVAILABLE}`,i=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,s=new Wt(e.error,o,e.suberror,i,e.status);if(t&&e.status&&e.status>=Pr.SERVER_ERROR_RANGE_START&&e.status<=Pr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(t&&e.status&&e.status>=Pr.CLIENT_ERROR_RANGE_START&&e.status<=Pr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw Wd(e.error,e.error_description,e.suberror)?new nt(e.error,e.error_description,e.suberror,e.timestamp||E.EMPTY_STRING,e.trace_id||E.EMPTY_STRING,e.correlation_id||E.EMPTY_STRING,e.claims||E.EMPTY_STRING,i):s}}async handleServerTokenResponse(e,t,r,o,i,s,a,c,d){var y;(y=this.performanceClient)==null||y.addQueueMeasurement(p.HandleServerTokenResponse,e.correlation_id);let l;if(e.id_token){if(l=Dn(e.id_token||E.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&l.nonce!==i.nonce)throw S(Xl);if(o.maxAge||o.maxAge===0){const T=l.auth_time;if(!T)throw S(_s);dd(T,o.maxAge)}}this.homeAccountIdentifier=Ue.generateHomeAccountId(e.client_info||E.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,l);let h;i&&i.state&&(h=tt.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||o.sshKid||void 0;const f=this.generateCacheRecord(e,t,r,o,l,s,i);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new Cy(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),a&&!c&&f.account){const T=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(T))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await xn.generateAuthenticationResult(this.cryptoObj,t,f,!1,o,l,h,void 0,d)}await this.cacheStorage.saveCacheRecord(f,o.correlationId,o.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return xn.generateAuthenticationResult(this.cryptoObj,t,f,!1,o,l,h,e,d)}generateCacheRecord(e,t,r,o,i,s,a){const c=t.getPreferredCache();if(!c)throw S(Is);const d=vd(i);let l,h;e.id_token&&i&&(l=bo(this.homeAccountIdentifier,c,e.id_token,this.clientId,d||""),h=Ws(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,c,d,a,void 0,this.logger));let f=null;if(e.access_token){const T=e.scope?ye.fromString(e.scope):new ye(o.scopes||[]),I=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,M=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,L=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,H=r+I,D=H+M,V=L&&L>0?r+L:void 0;f=Ro(this.homeAccountIdentifier,c,e.access_token,this.clientId,d||t.tenant||"",T.printScopes(),H,D,this.cryptoObj.base64Decode,V,e.token_type,s,e.key_id,o.claims,o.requestedClaimsHash)}let m=null;if(e.refresh_token){let T;if(e.refresh_token_expires_in){const I=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;T=r+I}m=hd(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,T)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:h,idToken:l,accessToken:f,refreshToken:m,appMetadata:y}}static async generateAuthenticationResult(e,t,r,o,i,s,a,c,d){var H,D,V,Ce,pe;let l=E.EMPTY_STRING,h=[],f=null,m,y,T=E.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===ne.POP&&!i.popKid){const Oe=new Mn(e),{secret:St,keyId:it}=r.accessToken;if(!it)throw S(vs);l=await Oe.signPopToken(St,it,i)}else l=r.accessToken.secret;h=ye.fromString(r.accessToken.target).asArray(),f=vn(r.accessToken.expiresOn),m=vn(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(y=vn(r.accessToken.refreshOn))}r.appMetadata&&(T=r.appMetadata.familyId===tr?tr:"");const I=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",M=(s==null?void 0:s.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const L=r.account?xs(r.account.getAccountInfo(),void 0,s,(H=r.idToken)==null?void 0:H.secret):null;return{authority:t.canonicalAuthority,uniqueId:I,tenantId:M,scopes:h,account:L,idToken:((D=r==null?void 0:r.idToken)==null?void 0:D.secret)||"",idTokenClaims:s||{},accessToken:l,fromCache:o,expiresOn:f,extExpiresOn:m,refreshOn:y,correlationId:i.correlationId,requestId:d||E.EMPTY_STRING,familyId:T,tokenType:((V=r.accessToken)==null?void 0:V.tokenType)||E.EMPTY_STRING,state:a?a.userRequestState:E.EMPTY_STRING,cloudGraphHostName:((Ce=r.account)==null?void 0:Ce.cloudGraphHostName)||E.EMPTY_STRING,msGraphHost:((pe=r.account)==null?void 0:pe.msGraphHost)||E.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function Ws(n,e,t,r,o,i,s,a,c,d,l){l==null||l.verbose("setCachedAccount called");const f=n.getAccountKeys().find(M=>M.startsWith(t));let m=null;f&&(m=n.getAccount(f));const y=m||Ue.createAccount({homeAccountId:t,idTokenClaims:o,clientInfo:i,environment:s,cloudGraphHostName:c==null?void 0:c.cloud_graph_host_name,msGraphHost:c==null?void 0:c.msgraph_host,nativeAccountId:d},e,r),T=y.tenantProfiles||[],I=a||y.realm;if(I&&!T.find(M=>M.tenantId===I)){const M=Ms(t,y.localAccountId,I,o);T.push(M)}return y.tenantProfiles=T,y}/*! @azure/msal-common v15.3.0 2025-03-20 */class Ty{static validateRedirectUri(e){if(!e)throw te(ud)}static validatePrompt(e){const t=[];for(const r in Ae)t.push(Ae[r]);if(t.indexOf(e)<0)throw te(md)}static validateClaims(e){try{JSON.parse(e)}catch{throw te(ko)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw te(Oo);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([Xa.PLAIN,Xa.S256].indexOf(e)<0)throw te(Td)}}/*! @azure/msal-common v15.3.0 2025-03-20 */async function Yd(n,e,t){return typeof n=="string"?n:n({clientId:e,tokenEndpoint:t})}/*! @azure/msal-common v15.3.0 2025-03-20 */class Qd extends js{constructor(e,t){var r;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,t){var a,c;if((a=this.performanceClient)==null||a.addQueueMeasurement(p.AuthClientAcquireToken,e.correlationId),!e.code)throw S(td);const r=Xe(),o=await _(this.executeTokenRequest.bind(this),p.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=(c=o.headers)==null?void 0:c[xe.X_MS_REQUEST_ID],s=new xn(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(o.body),_(s.handleServerTokenResponse.bind(s),p.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,r,e,t,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw te(Cd);const t=this.createLogoutUrlQueryString(e);return Q.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var d;(d=this.performanceClient)==null||d.addQueueMeasurement(p.AuthClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),o=Q.appendQueryString(e.tokenEndpoint,r),i=await _(this.createTokenRequestBody.bind(this),p.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const l=ro(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${l.uid}${be.CLIENT_INFO_SEPARATOR}${l.utid}`,type:Ye.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}const a=this.createTokenRequestHeaders(s||t.ccsCredential),c=Do(this.config.authOptions.clientId,t);return _(this.executePostToTokenEndpoint.bind(this),p.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(o,i,a,c,t.correlationId,p.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var o,i;(o=this.performanceClient)==null||o.addQueueMeasurement(p.AuthClientCreateTokenRequestBody,e.correlationId);const t=new Map;if(Hs(t,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[cn])||this.config.authOptions.clientId),this.includeRedirectUri?Fs(t,e.redirectUri):Ty.validateRedirectUri(e.redirectUri),Us(t,e.scopes,!0,this.oidcDefaultScopes),ty(t,e.code),qs(t,this.config.libraryInfo),$s(t,this.config.telemetry.application),Gd(t),this.serverTelemetryManager&&!Nd(this.config)&&$d(t,this.serverTelemetryManager),e.codeVerifier&&ry(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&Ud(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;Hd(t,await Yd(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Fd(t,s.assertionType)}if(Bd(t,Gl.AUTHORIZATION_CODE_GRANT),Gs(t),e.authenticationScheme===ne.POP){const s=new Mn(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await _(s.generateCnf.bind(s),p.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,zs(t,a)}else if(e.authenticationScheme===ne.SSH)if(e.sshJwk)qd(t,e.sshJwk);else throw te(Po);(!Et.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Bs(t,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=ro(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${be.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Ye.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Ye.HOME_ACCOUNT_ID:try{const s=bn(r.credential);or(t,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Ye.UPN:co(t,r.credential);break}return e.embeddedClientId&&Mo(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&kn(t,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[cc])&&kn(t,{[cc]:"1"}),No(t,e.correlationId,this.performanceClient),hr(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&Ym(t,e.postLogoutRedirectUri),e.correlationId&&Ks(t,e.correlationId),e.idTokenHint&&Qm(t,e.idTokenHint),e.state&&Ld(t,e.state),e.logoutHint&&iy(t,e.logoutHint),e.extraQueryParameters&&kn(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&Kd(t),hr(t)}}/*! @azure/msal-common v15.3.0 2025-03-20 */const Ay=300;class Ey extends js{constructor(e,t){super(e,t)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(p.RefreshTokenClientAcquireToken,e.correlationId);const t=Xe(),r=await _(this.executeTokenRequest.bind(this),p.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=(a=r.headers)==null?void 0:a[xe.X_MS_REQUEST_ID],i=new xn(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(r.body),_(i.handleServerTokenResponse.bind(i),p.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){var r;if(!e)throw te(yd);if((r=this.performanceClient)==null||r.addQueueMeasurement(p.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw S(Ss);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await _(this.acquireTokenWithCachedRefreshToken.bind(this),p.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(o){const i=o instanceof nt&&o.errorCode===lo,s=o instanceof Wt&&o.errorCode===Za.INVALID_GRANT_ERROR&&o.subError===Za.CLIENT_MISMATCH_ERROR;if(i||s)return _(this.acquireTokenWithCachedRefreshToken.bind(this),p.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw o}return _(this.acquireTokenWithCachedRefreshToken.bind(this),p.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var i,s,a;(i=this.performanceClient)==null||i.addQueueMeasurement(p.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=xt(this.cacheManager.getRefreshToken.bind(this.cacheManager),p.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw Ui(lo);if(r.expiresOn&&Di(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||Ay))throw(s=this.performanceClient)==null||s.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Ui(Vs);const o={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||ne.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Ye.HOME_ACCOUNT_ID}};try{return await _(this.acquireToken.bind(this),p.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(c){if(c instanceof nt&&((a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===Uo)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const d=rr(r);this.cacheManager.removeRefreshToken(d)}throw c}}async executeTokenRequest(e,t){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(p.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),o=Q.appendQueryString(t.tokenEndpoint,r),i=await _(this.createTokenRequestBody.bind(this),p.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=Do(this.config.authOptions.clientId,e);return _(this.executePostToTokenEndpoint.bind(this),p.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,i,s,a,e.correlationId,p.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,o,i;(r=this.performanceClient)==null||r.addQueueMeasurement(p.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=new Map;if(Hs(t,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[cn])||this.config.authOptions.clientId),e.redirectUri&&Fs(t,e.redirectUri),Us(t,e.scopes,!0,(i=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:i.defaultScopes),Bd(t,Gl.REFRESH_TOKEN_GRANT),Gs(t),qs(t,this.config.libraryInfo),$s(t,this.config.telemetry.application),Gd(t),this.serverTelemetryManager&&!Nd(this.config)&&$d(t,this.serverTelemetryManager),ny(t,e.refreshToken),this.config.clientCredentials.clientSecret&&Ud(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;Hd(t,await Yd(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Fd(t,s.assertionType)}if(e.authenticationScheme===ne.POP){const s=new Mn(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await _(s.generateCnf.bind(s),p.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,zs(t,a)}else if(e.authenticationScheme===ne.SSH)if(e.sshJwk)qd(t,e.sshJwk);else throw te(Po);if((!Et.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Bs(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Ye.HOME_ACCOUNT_ID:try{const s=bn(e.ccsCredential.credential);or(t,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Ye.UPN:co(t,e.ccsCredential.credential);break}return e.embeddedClientId&&Mo(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&kn(t,e.tokenBodyParameters),No(t,e.correlationId,this.performanceClient),hr(t)}}/*! @azure/msal-common v15.3.0 2025-03-20 */class wy extends js{constructor(e,t){super(e,t)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(p.SilentFlowClientAcquireCachedToken,e.correlationId);let t=en.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Et.isEmptyObj(e.claims))throw this.setCacheOutcome(en.FORCE_REFRESH_OR_CLAIMS,e.correlationId),S(qt);if(!e.account)throw S(Ss);const r=e.account.tenantId||dy(e.authority),o=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,o,r,this.performanceClient,e.correlationId);if(i){if(Lp(i.cachedAt)||Di(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(en.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),S(qt);i.refreshOn&&Di(i.refreshOn,0)&&(t=en.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(en.NO_CACHED_ACCESS_TOKEN,e.correlationId),S(qt);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,o,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await _(this.generateResultFromCacheRecord.bind(this),p.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){var r,o;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(o=this.performanceClient)==null||o.addFields({cacheOutcome:e},t),e!==en.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(p.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=Dn(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const i=r==null?void 0:r.auth_time;if(!i)throw S(_s);dd(i,t.maxAge)}return xn.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}/*! @azure/msal-common v15.3.0 2025-03-20 */const _y={sendGetRequestAsync:()=>Promise.reject(S(W)),sendPostRequestAsync:()=>Promise.reject(S(W))};/*! @azure/msal-common v15.3.0 2025-03-20 */function Sy(n,e,t,r){var a,c;const o=e.correlationId,i=new Map;Hs(i,e.embeddedClientId||((a=e.extraQueryParameters)==null?void 0:a[cn])||n.clientId);const s=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Us(i,s,!0,(c=n.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),Fs(i,e.redirectUri),Ks(i,o),Vm(i,e.responseMode),Gs(i),e.prompt&&(Xm(i,e.prompt),r==null||r.addFields({prompt:e.prompt},o)),e.domainHint&&(Jm(i,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},o)),e.prompt!==Ae.SELECT_ACCOUNT)if(e.sid&&e.prompt===Ae.NONE)t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),dc(i,e.sid),r==null||r.addFields({sidFromRequest:!0},o);else if(e.account){const d=Ry(e.account);let l=ky(e.account);if(l&&e.domainHint&&(t.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),l=null),l){t.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Lr(i,l),r==null||r.addFields({loginHintFromClaim:!0},o);try{const h=bn(e.account.homeAccountId);or(i,h)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(d&&e.prompt===Ae.NONE){t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),dc(i,d),r==null||r.addFields({sidFromClaim:!0},o);try{const h=bn(e.account.homeAccountId);or(i,h)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)t.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Lr(i,e.loginHint),co(i,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},o);else if(e.account.username){t.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Lr(i,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},o);try{const h=bn(e.account.homeAccountId);or(i,h)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(t.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Lr(i,e.loginHint),co(i,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},o));else t.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&Zm(i,e.nonce),e.state&&Ld(i,e.state),(e.claims||n.clientCapabilities&&n.clientCapabilities.length>0)&&Bs(i,e.claims,n.clientCapabilities),e.embeddedClientId&&Mo(i,n.clientId,n.redirectUri),e.extraQueryParameters&&kn(i,e.extraQueryParameters),n.instanceAware&&Kd(i),i}function Iy(n,e){const t=hr(e);return Q.appendQueryString(n.authorizationEndpoint,t)}function Jd(n,e){if(vy(n,e),!n.code)throw S(sd);return n}function vy(n,e){if(!n.state||!e)throw n.state?S(to,"Cached State"):S(to,"Server State");let t,r;try{t=decodeURIComponent(n.state)}catch{throw S(Nn,n.state)}try{r=decodeURIComponent(e)}catch{throw S(Nn,n.state)}if(t!==r)throw S(Jl);if(n.error||n.error_description||n.suberror){const o=by(n);throw Wd(n.error,n.error_description,n.suberror)?new nt(n.error||"",n.error_description,n.suberror,n.timestamp||"",n.trace_id||"",n.correlation_id||"",n.claims||"",o):new Wt(n.error||"",n.error_description,n.suberror,o)}}function by(n){var r,o;const e="code=",t=(r=n.error_uri)==null?void 0:r.lastIndexOf(e);return t&&t>=0?(o=n.error_uri)==null?void 0:o.substring(t+e.length):void 0}function Ry(n){var e;return((e=n.idTokenClaims)==null?void 0:e.sid)||null}function ky(n){var e;return((e=n.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.3.0 2025-03-20 */const fc=",",Xd="|";function Oy(n){const{skus:e,libraryName:t,libraryVersion:r,extensionName:o,extensionVersion:i}=n,s=new Map([[0,[t,r]],[2,[o,i]]]);let a=[];if(e!=null&&e.length){if(a=e.split(fc),a.length<4)return e}else a=Array.from({length:4},()=>Xd);return s.forEach((c,d)=>{var l,h;c.length===2&&((l=c[0])!=null&&l.length)&&((h=c[1])!=null&&h.length)&&Py({skuArr:a,index:d,skuName:c[0],skuVersion:c[1]})}),a.join(fc)}function Py(n){const{skuArr:e,index:t,skuName:r,skuVersion:o}=n;t>=e.length||(e[t]=[r,o].join(Xd))}class ur{constructor(e,t){this.cacheOutcome=en.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||E.EMPTY_STRING,this.wrapperVer=e.wrapperVer||E.EMPTY_STRING,this.telemetryCacheKey=Ee.CACHE_KEY+be.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Ee.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&t.push(`broker_error=${r}`);const o=t.join(Ee.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),s=[e,i].join(Ee.VALUE_SEPARATOR);return[Ee.SCHEMA_VERSION,s,o].join(Ee.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=ur.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(Ee.VALUE_SEPARATOR),o=e.errors.slice(0,t).join(Ee.VALUE_SEPARATOR),i=e.errors.length,s=t<i?Ee.OVERFLOW_TRUE:Ee.OVERFLOW_FALSE,a=[i,s].join(Ee.VALUE_SEPARATOR);return[Ee.SCHEMA_VERSION,e.cacheHits,r,o,a].join(Ee.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Ee.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof le?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Ee.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=ur.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const o={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o)}}static maxErrorsToSend(e){let t,r=0,o=0;const i=e.errors.length;for(t=0;t<i;t++){const s=e.failedRequests[2*t]||E.EMPTY_STRING,a=e.failedRequests[2*t+1]||E.EMPTY_STRING,c=e.errors[t]||E.EMPTY_STRING;if(o+=s.toString().length+a.toString().length+c.length+3,o<Ee.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||E.EMPTY_STRING),e.push(this.regionSource||E.EMPTY_STRING),e.push(this.regionOutcome||E.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return Oy(e)}}/*! @azure/msal-common v15.3.0 2025-03-20 */const Zd="missing_kid_error",eh="missing_alg_error";/*! @azure/msal-common v15.3.0 2025-03-20 */const Ny={[Zd]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[eh]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Ys extends le{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Ys.prototype)}}function gc(n){return new Ys(n,Ny[n])}/*! @azure/msal-common v15.3.0 2025-03-20 */class Qs{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw gc(Zd);if(!e.alg)throw gc(eh);const t=new Qs({typ:e.typ||Ap.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}/*! @azure/msal-common v15.3.0 2025-03-20 */class pc{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class My{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ly.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new pc}}startPerformanceMeasurement(){return new pc}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v4.8.0 2025-03-20 */const Js="pkce_not_created",Hi="crypto_nonexistent",Ho="empty_navigate_uri",th="hash_empty_error",Xs="no_state_in_hash",nh="hash_does_not_contain_known_properties",rh="unable_to_parse_state",oh="state_interaction_type_mismatch",ih="interaction_in_progress",sh="popup_window_error",ah="empty_window_error",ln="user_cancelled",xy="monitor_popup_timeout",ch="monitor_window_timeout",lh="redirect_in_iframe",dh="block_iframe_reload",hh="block_nested_popups",Dy="iframe_closed_prematurely",Fo="silent_logout_unsupported",uh="no_account_error",Ly="silent_prompt_value_error",fh="no_token_request_cache_error",gh="unable_to_parse_token_request_cache_error",Zs="no_cached_authority_error",Uy="auth_request_not_set_error",Hy="invalid_cache_type",Bo="non_browser_environment",Cn="database_not_open",ho="no_network_connectivity",ph="post_request_failed",mh="get_request_failed",Fi="failed_to_parse_response",yh="unable_to_load_token",ea="crypto_key_not_found",Ch="auth_code_required",Th="auth_code_or_nativeAccountId_required",Ah="spa_code_and_nativeAccountId_present",ta="database_unavailable",Eh="unable_to_acquire_token_from_native_platform",wh="native_handshake_timeout",_h="native_extension_not_installed",Tr="native_connection_not_established",uo="uninitialized_public_client_application",Sh="native_prompt_not_supported",Ih="invalid_base64_string",vh="invalid_pop_token_request",bh="failed_to_build_headers",Rh="failed_to_parse_headers";/*! @azure/msal-browser v4.8.0 2025-03-20 */const vt="For more visit: aka.ms/msaljs/browser-errors",Fy={[Js]:"The PKCE code challenge and verifier could not be generated.",[Hi]:"The crypto object or function is not available.",[Ho]:"Navigation URI is empty. Please check stack trace for more info.",[th]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${vt}`,[Xs]:"Hash does not contain state. Please verify that the request originated from msal.",[nh]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${vt}`,[rh]:"Unable to parse state. Please verify that the request originated from msal.",[oh]:"Hash contains state but the interaction type does not match the caller.",[ih]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${vt}`,[sh]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[ah]:"window.open returned null or undefined window object.",[ln]:"User cancelled the flow.",[xy]:`Token acquisition in popup failed due to timeout.  ${vt}`,[ch]:`Token acquisition in iframe failed due to timeout.  ${vt}`,[lh]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[dh]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${vt}`,[hh]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Dy]:"The iframe being monitored was closed prematurely.",[Fo]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[uh]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Ly]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[fh]:"No token request found in cache.",[gh]:"The cached token request could not be parsed.",[Zs]:"No cached authority found.",[Uy]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Hy]:"Invalid cache type",[Bo]:"Login and token requests are not supported in non-browser environments.",[Cn]:"Database is not open!",[ho]:"No network connectivity. Check your internet connection.",[ph]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[mh]:"Network request failed. Please check the network trace to determine root cause.",[Fi]:"Failed to parse network response. Check network trace.",[yh]:"Error loading token to cache.",[ea]:"Cryptographic Key or Keypair not found in browser storage.",[Ch]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Th]:"An authorization code or nativeAccountId must be provided to this flow.",[Ah]:"Request cannot contain both spa code and native account id.",[ta]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Eh]:`Unable to acquire token from native platform.  ${vt}`,[wh]:"Timed out while attempting to establish connection to browser extension",[_h]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Tr]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${vt}`,[uo]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${vt}`,[Sh]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ih]:"Invalid base64 encoded string.",[vh]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[bh]:"Failed to build request headers object.",[Rh]:"Failed to parse response headers"};class Ar extends le{constructor(e,t){super(e,Fy[e],t),Object.setPrototypeOf(this,Ar.prototype),this.name="BrowserAuthError"}}function x(n,e){return new Ar(n,e)}/*! @azure/msal-browser v4.8.0 2025-03-20 */const Be={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},An={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},tn={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},_e={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},mc={GET:"GET",POST:"POST"},ee={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},Ft={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Ur={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},ce={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var U;(function(n){n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none"})(U||(U={}));const yc={scopes:yr},kh="jwk",Bi="msal.db",By=1,Ky=`${Bi}.keys`,Me={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},qy=[Me.Default,Me.Skip,Me.RefreshTokenAndNetwork],$y="msal.browser.log.level",Gy="msal.browser.log.pii";/*! @azure/msal-browser v4.8.0 2025-03-20 */function Hr(n){return encodeURIComponent(na(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function dn(n){return Oh(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function na(n){return Oh(new TextEncoder().encode(n))}function Oh(n){const e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v4.8.0 2025-03-20 */function Mt(n){return new TextDecoder().decode(fo(n))}function fo(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw x(Ih)}const t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.8.0 2025-03-20 */const zy="RSASSA-PKCS1-v1_5",Ko="AES-GCM",Ph="HKDF",ra="SHA-256",jy=2048,Vy=new Uint8Array([1,0,1]),Cc="0123456789abcdef",Tc=new Uint32Array(1),Nh="raw",Mh="encrypt",xh="decrypt",Wy="deriveKey",Yy="crypto_subtle_undefined",oa={name:zy,hash:ra,modulusLength:jy,publicExponent:Vy};function Qy(n){if(!window)throw x(Bo);if(!window.crypto)throw x(Hi);if(!n&&!window.crypto.subtle)throw x(Hi,Yy)}async function Dh(n,e,t){e==null||e.addQueueMeasurement(p.Sha256Digest,t);const o=new TextEncoder().encode(n);return window.crypto.subtle.digest(ra,o)}function Jy(n){return window.crypto.getRandomValues(n)}function gi(){return window.crypto.getRandomValues(Tc),Tc[0]}function rt(){const n=Date.now(),e=gi()*1024+(gi()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),o=e&2**30-1,i=gi();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/2**16,t[4]=n/2**8,t[5]=n,t[6]=112|r>>>8,t[7]=r,t[8]=128|o>>>24,t[9]=o>>>16,t[10]=o>>>8,t[11]=o,t[12]=i>>>24,t[13]=i>>>16,t[14]=i>>>8,t[15]=i;let s="";for(let a=0;a<t.length;a++)s+=Cc.charAt(t[a]>>>4),s+=Cc.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function Xy(n,e){return window.crypto.subtle.generateKey(oa,n,e)}async function pi(n){return window.crypto.subtle.exportKey(kh,n)}async function Zy(n,e,t){return window.crypto.subtle.importKey(kh,n,oa,e,t)}async function eC(n,e){return window.crypto.subtle.sign(oa,n,e)}async function tC(){const n=await window.crypto.subtle.generateKey({name:Ko,length:256},!0,[Mh,xh]);return window.crypto.subtle.exportKey(Nh,n)}async function Ac(n){return window.crypto.subtle.importKey(Nh,n,Ph,!1,[Wy])}async function Lh(n,e,t){return window.crypto.subtle.deriveKey({name:Ph,salt:e,hash:ra,info:new TextEncoder().encode(t)},n,{name:Ko,length:256},!1,[Mh,xh])}async function nC(n,e,t){const r=new TextEncoder().encode(e),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await Lh(n,o,t),s=await window.crypto.subtle.encrypt({name:Ko,iv:new Uint8Array(12)},i,r);return{data:dn(new Uint8Array(s)),nonce:dn(o)}}async function rC(n,e,t,r){const o=fo(r),i=await Lh(n,fo(e),t),s=await window.crypto.subtle.decrypt({name:Ko,iv:new Uint8Array(12)},i,o);return new TextDecoder().decode(s)}async function Uh(n){const e=await Dh(n),t=new Uint8Array(e);return dn(t)}/*! @azure/msal-browser v4.8.0 2025-03-20 */const qo="storage_not_supported",Hh="stubbed_public_client_application_called",ia="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.8.0 2025-03-20 */const $r={[qo]:"Given storage configuration option was not supported.",[Hh]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[ia]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};$r[qo],$r[Hh],$r[ia];class sa extends le{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,sa.prototype)}}function aa(n){return new sa(n,$r[n])}/*! @azure/msal-browser v4.8.0 2025-03-20 */function oC(n){n.location.hash="",typeof n.history.replaceState=="function"&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function iC(n){const e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function ca(){return window.parent!==window}function sC(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Be.POPUP_NAME_PREFIX}.`)===0}function Pt(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function aC(){const e=new Q(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function cC(){if(Q.hashContainsKnownProperties(window.location.hash)&&ca())throw x(dh)}function lC(n){if(ca()&&!n)throw x(lh)}function dC(){if(sC())throw x(hh)}function Fh(){if(typeof window>"u")throw x(Bo)}function Bh(n){if(!n)throw x(uo)}function la(n){Fh(),cC(),dC(),Bh(n)}function Ec(n,e){if(la(n),lC(e.system.allowRedirectInIframe),e.cache.cacheLocation===_e.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw aa(ia)}function Kh(n){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function hC(){return rt()}/*! @azure/msal-browser v4.8.0 2025-03-20 */class go{navigateInternal(e,t){return go.defaultNavigateWindow(e,t)}navigateExternal(e,t){return go.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class uC{async sendGetRequestAsync(e,t){let r,o={},i=0;const s=wc(t);try{r=await fetch(e,{method:mc.GET,headers:s})}catch{throw x(window.navigator.onLine?mh:ho)}o=_c(r.headers);try{return i=r.status,{headers:o,body:await r.json(),status:i}}catch{throw hc(x(Fi),i,o)}}async sendPostRequestAsync(e,t){const r=t&&t.body||"",o=wc(t);let i,s=0,a={};try{i=await fetch(e,{method:mc.POST,headers:o,body:r})}catch{throw x(window.navigator.onLine?ph:ho)}a=_c(i.headers);try{return s=i.status,{headers:a,body:await i.json(),status:s}}catch{throw hc(x(Fi),s,a)}}}function wc(n){try{const e=new Headers;if(!(n&&n.headers))return e;const t=n.headers;return Object.entries(t).forEach(([r,o])=>{e.append(r,o)}),e}catch{throw x(bh)}}function _c(n){try{const e={};return n.forEach((t,r)=>{e[r]=t}),e}catch{throw x(Rh)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */const fC=6e4,Ki=1e4,gC=3e4,pC=2e3;function mC({auth:n,cache:e,system:t,telemetry:r},o){const i={clientId:E.EMPTY_STRING,authority:`${E.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:E.EMPTY_STRING,authorityMetadata:E.EMPTY_STRING,redirectUri:typeof window<"u"?Pt():"",postLogoutRedirectUri:E.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:wt.AAD,OIDCOptions:{serverResponseType:Cr.FRAGMENT,defaultScopes:[E.OPENID_SCOPE,E.PROFILE_SCOPE,E.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:ks.None,tenant:E.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:_e.SessionStorage,temporaryCacheLocation:_e.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===_e.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:de.Info,piiLoggingEnabled:!1},d={...{...Pd,loggerOptions:a,networkClient:o?new uC:_y,navigationClient:new go,loadFrameTimeout:0,windowHashTimeout:(t==null?void 0:t.loadFrameTimeout)||fC,iframeHashTimeout:(t==null?void 0:t.loadFrameTimeout)||Ki,navigateFrameWait:0,redirectNavigationTimeout:gC,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(t==null?void 0:t.nativeBrokerHandshakeTimeout)||pC,pollIntervalMilliseconds:Be.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:(t==null?void 0:t.loggerOptions)||a},l={application:{appName:E.EMPTY_STRING,appVersion:E.EMPTY_STRING},client:new My};if((n==null?void 0:n.protocolMode)!==wt.OIDC&&(n!=null&&n.OIDCOptions)&&new Gt(d.loggerOptions).warning(JSON.stringify(te(_d))),n!=null&&n.protocolMode&&n.protocolMode!==wt.AAD&&(d!=null&&d.allowPlatformBroker))throw te(Sd);return{auth:{...i,...n,OIDCOptions:{...i.OIDCOptions,...n==null?void 0:n.OIDCOptions}},cache:{...s,...e},system:d,telemetry:{...l,...r}}}/*! @azure/msal-browser v4.8.0 2025-03-20 */const yC="@azure/msal-browser",Er="4.8.0";/*! @azure/msal-browser v4.8.0 2025-03-20 */class da{static loggerCallback(e,t){switch(e){case de.Error:console.error(t);return;case de.Info:console.info(t);return;case de.Verbose:console.debug(t);return;case de.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=mC(e,this.browserEnvironment);let t;try{t=window[_e.SessionStorage]}catch{}const r=t==null?void 0:t.getItem($y),o=(c=t==null?void 0:t.getItem(Gy))==null?void 0:c.toLowerCase(),i=o==="true"?!0:o==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(de).includes(r)?de[r]:void 0;a&&(s.loggerCallback=da.loggerCallback,s.logLevel=a),i!==void 0&&(s.piiLoggingEnabled=i),this.logger=new Gt(s,yC,Er),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class hn extends da{getModuleName(){return hn.MODULE_NAME}getId(){return hn.ID}async initialize(){return this.available=typeof window<"u",this.available}}hn.MODULE_NAME="";hn.ID="StandardOperatingContext";/*! @azure/msal-browser v4.8.0 2025-03-20 */class CC{constructor(){this.dbName=Bi,this.version=By,this.tableName=Ky,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",o=>{o.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",o=>{const i=o;this.db=i.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(x(ta)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(x(Cn));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),t(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((r,o)=>{if(!this.db)return o(x(Cn));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),o(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(x(Cn));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(x(Cn));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();i.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),i.addEventListener("error",s=>{this.closeConnection(),t(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(x(Cn));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),t(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const r=window.indexedDB.deleteDatabase(Bi),o=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(o),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(o),e(!0))),r.addEventListener("error",()=>(clearTimeout(o),t(!1)))})}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class $o{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class TC{constructor(e){this.inMemoryCache=new $o,this.indexedDBCache=new CC,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Ar&&e.errorCode===ta)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class un{constructor(e,t,r){this.logger=e,Qy(r??!1),this.cache=new TC(this.logger),this.performanceClient=t}createNewGuid(){return rt()}base64Encode(e){return na(e)}base64Decode(e){return Mt(e)}base64UrlEncode(e){return Hr(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var l;const t=(l=this.performanceClient)==null?void 0:l.startMeasurement(p.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await Xy(un.EXTRACTABLE,un.POP_KEY_USAGES),o=await pi(r.publicKey),i={e:o.e,kty:o.kty,n:o.n},s=Sc(i),a=await this.hashString(s),c=await pi(r.privateKey),d=await Zy(c,!1,["sign"]);return await this.cache.setItem(a,{privateKey:d,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,r,o){var H;const i=(H=this.performanceClient)==null?void 0:H.startMeasurement(p.CryptoOptsSignJwt,o),s=await this.cache.getItem(t);if(!s)throw x(ea);const a=await pi(s.publicKey),c=Sc(a),d=Hr(JSON.stringify({kid:t})),l=Qs.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:d}),h=Hr(l);e.cnf={jwk:JSON.parse(c)};const f=Hr(JSON.stringify(e)),m=`${h}.${f}`,T=new TextEncoder().encode(m),I=await eC(s.privateKey,T),M=dn(new Uint8Array(I)),L=`${m}.${M}`;return i&&i.end({success:!0}),L}async hashString(e){return Uh(e)}}un.POP_KEY_USAGES=["sign","verify"];un.EXTRACTABLE=!0;function Sc(n){return JSON.stringify(n,Object.keys(n).sort())}/*! @azure/msal-browser v4.8.0 2025-03-20 */const AC=24*60*60*1e3,qi={Lax:"Lax",None:"None"};class qh{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let o=0;o<r.length;o++){const i=r[o],[s,...a]=decodeURIComponent(i).trim().split("="),c=a.join("=");if(s===t)return c}return""}getUserData(){throw S(W)}setItem(e,t,r,o=!0,i=qi.Lax){let s=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${i};`;if(r){const a=EC(r);s+=`expires=${a};`}(o||i===qi.None)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(S(W))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(r=>{const o=decodeURIComponent(r).trim().split("=");t.push(o[0])}),t}containsKey(e){return this.getKeys().includes(e)}}function EC(n){const e=new Date;return new Date(e.getTime()+n*AC).toUTCString()}/*! @azure/msal-browser v4.8.0 2025-03-20 */function $i(n){const e=n.getItem(Ft.ACCOUNT_KEYS);return e?JSON.parse(e):[]}function Gi(n,e){const t=e.getItem(`${Ft.TOKEN_KEYS}.${n}`);if(t){const r=JSON.parse(t);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.8.0 2025-03-20 */const Ic="msal.cache.encryption",wC="msal.broadcast.cache";class _C{constructor(e,t,r){if(!window.localStorage)throw aa(qo);this.memoryStorage=new $o,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=r,this.broadcast=new BroadcastChannel(wC)}async initialize(e){this.initialized=!0;const t=new qh,r=t.getItem(Ic);let o={key:"",id:""};if(r)try{o=JSON.parse(r)}catch{}if(o.key&&o.id){const i=xt(fo,p.Base64Decode,this.logger,this.performanceClient,e)(o.key);this.encryptionCookie={id:o.id,key:await _(Ac,p.GenerateHKDF,this.logger,this.performanceClient,e)(i)},await _(this.importExistingCache.bind(this),p.ImportExistingCache,this.logger,this.performanceClient,e)(e)}else{this.clear();const i=rt(),s=await _(tC,p.GenerateBaseKey,this.logger,this.performanceClient,e)(),a=xt(dn,p.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(s));this.encryptionCookie={id:i,key:await _(Ac,p.GenerateHKDF,this.logger,this.performanceClient,e)(s)};const c={id:i,key:a};t.setItem(Ic,JSON.stringify(c),0,!0,qi.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this))}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw x(uo);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,r){if(!this.initialized||!this.encryptionCookie)throw x(uo);const{data:o,nonce:i}=await _(nC,p.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,t,this.getContext(e)),s={id:this.encryptionCookie.id,nonce:i,data:o};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(s)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),$i(this).forEach(r=>this.removeItem(r));const t=Gi(this.clientId,this);t.idToken.forEach(r=>this.removeItem(r)),t.accessToken.forEach(r=>this.removeItem(r)),t.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(E.CACHE_PREFIX)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let t=$i(this);t=await this.importArray(t,e),this.setItem(Ft.ACCOUNT_KEYS,JSON.stringify(t));const r=Gi(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),this.setItem(`${Ft.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let o;try{o=JSON.parse(r)}catch{return null}return!o.id||!o.nonce||!o.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null):o.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):_(rC,p.Decrypt,this.logger,this.performanceClient,t)(this.encryptionCookie.key,o.nonce,this.getContext(e),o.data)}async importArray(e,t){const r=[],o=[];return e.forEach(i=>{const s=this.getItemFromEncryptedCache(i,t).then(a=>{a?(this.memoryStorage.setItem(i,a),r.push(i)):this.removeItem(i)});o.push(s)}),await Promise.all(o),r}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(p.LocalStorageUpdated);t.add({isBackground:!0});const{key:r,value:o,context:i}=e.data;if(!r){this.logger.error("Broadcast event missing key"),t.end({success:!1,errorCode:"noKey"});return}if(i&&i!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),t.end({success:!1,errorCode:"contextMismatch"});return}o?(this.memoryStorage.setItem(r,o),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),t.end({success:!0})}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class SC{constructor(){if(!window.sessionStorage)throw aa(qo)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */function $h(n,e){if(!e)return null;try{return tt.parseRequestState(n,e).libraryState.meta}catch{throw S(Nn)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */const B={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v4.8.0 2025-03-20 */class zi extends Li{constructor(e,t,r,o,i,s,a){super(e,r,o,a),this.cacheConfig=t,this.logger=o,this.internalStorage=new $o,this.browserStorage=vc(e,t.cacheLocation,o,i),this.temporaryCacheStorage=vc(e,t.temporaryCacheLocation,o,i),this.cookieStorage=new qh,this.performanceClient=i,this.eventHandler=s}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(t);return!r||!Ue.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):Li.toObject(new Ue,r)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey();await _(this.browserStorage.setUserData.bind(this.browserStorage),p.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t);const o=this.addAccountKeyToMap(r);this.cacheConfig.cacheLocation===_e.LocalStorage&&o&&this.eventHandler.emitEvent(B.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return $i(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return t.indexOf(e)===-1?(t.push(e),this.browserStorage.setItem(Ft.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.browserStorage.setItem(Ft.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===_e.LocalStorage&&this.eventHandler.emitEvent(B.ACCOUNT_REMOVED,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,G.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,G.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,G.REFRESH_TOKEN)}getTokenKeys(){return Gi(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(t){case G.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case G.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case G.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),S(xi)}this.browserStorage.setItem(`${Ft.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(t){case G.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const o=r.idToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case G.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const i=r.accessToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case G.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),S(xi)}this.browserStorage.setItem(`${Ft.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,G.ID_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!Hp(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,G.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=rr(e);await _(this.browserStorage.setUserData.bind(this.browserStorage),p.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t),this.addTokenKey(r,G.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,G.ACCESS_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!Up(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,G.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=rr(e);await _(this.browserStorage.setUserData.bind(this.browserStorage),p.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t),this.addTokenKey(r,G.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,G.REFRESH_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!Fp(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,G.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=rr(e);await _(this.browserStorage.setUserData.bind(this.browserStorage),p.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),t),this.addTokenKey(r,G.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!Wp(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=Vp(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!zp(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&Yp(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Ur.WRAPPER_SKU,e),this.internalStorage.setItem(Ur.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(Ur.WRAPPER_SKU)||E.EMPTY_STRING,t=this.internalStorage.getItem(Ur.WRAPPER_VER)||E.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(Ja.ACTIVE_ACCOUNT_FILTERS),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(Ja.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(B.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!jp(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const i=this.cookieStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),i}const o=this.temporaryCacheStorage.getItem(r);if(!o){if(this.cacheConfig.cacheLocation===_e.LocalStorage){const i=this.browserStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o}setTemporaryCache(e,t,r){const o=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(o,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(o,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(E.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(E.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(p.ClearTokensAndKeysWithClaims,t);const r=this.getTokenKeys(),o=[];r.accessToken.forEach(i=>{const s=this.getAccessTokenCredential(i);s!=null&&s.requestedClaimsHash&&i.includes(s.requestedClaimsHash.toLowerCase())&&o.push(this.removeAccessToken(i))}),await Promise.all(o),o.length>0&&this.logger.warning(`${o.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Et.startsWith(e,E.CACHE_PREFIX)?e:`${E.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=tt.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${ee.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=tt.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${ee.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=tt.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${ee.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;const o=this.generateAuthorityKey(r);return this.getTemporaryCache(o)}updateCacheEntries(e,t,r,o,i){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const c=this.generateAuthorityKey(e);if(this.setTemporaryCache(c,r,!1),i){const d={credential:i.homeAccountId,type:Ye.HOME_ACCOUNT_ID};this.setTemporaryCache(ee.CCS_CREDENTIAL,JSON.stringify(d),!0)}else if(o){const d={credential:o,type:Ye.UPN};this.setTemporaryCache(ee.CCS_CREDENTIAL,JSON.stringify(d),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(ee.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(ee.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(ee.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(ee.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(ee.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(ee.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||E.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(ee.REQUEST_STATE)===-1)return;const r=this.temporaryCacheStorage.getItem(t);if(!r)return;const o=$h(this.cryptoImpl,r);o&&o.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=na(JSON.stringify(e));this.setTemporaryCache(ee.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(ee.REQUEST_PARAMS,!0);if(!t)throw x(fh);let r;try{r=JSON.parse(Mt(t))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),x(gh)}if(this.removeTemporaryItem(this.generateCacheKey(ee.REQUEST_PARAMS)),!r.authority){const o=this.generateAuthorityKey(e),i=this.getTemporaryCache(o);if(!i)throw x(Zs);r.authority=i}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(ee.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${E.CACHE_PREFIX}.${ee.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${E.CACHE_PREFIX}.${ee.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw x(ih);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}async hydrateCache(e,t){var a,c,d;const r=bo((a=e.account)==null?void 0:a.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let o;t.claims&&(o=await this.cryptoImpl.hashString(t.claims));const i=Ro((d=e.account)==null?void 0:d.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?nc(e.expiresOn):0,e.extExpiresOn?nc(e.extExpiresOn):0,Mt,void 0,e.tokenType,void 0,t.sshKid,t.claims,o),s={idToken:r,accessToken:i};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,t,r){try{await super.saveCacheRecord(e,t,r)}catch(o){if(o instanceof Rn&&this.performanceClient&&t)try{const i=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:i.refreshToken.length,cacheIdCount:i.idToken.length,cacheAtCount:i.accessToken.length},t)}catch{}throw o}}}function vc(n,e,t,r){try{switch(e){case _e.LocalStorage:return new _C(n,t,r);case _e.SessionStorage:return new SC;case _e.MemoryStorage:default:break}}catch(o){t.error(o)}return new $o}const IC=(n,e,t,r)=>{const o={cacheLocation:_e.MemoryStorage,temporaryCacheLocation:_e.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new zi(n,o,no,e,t,r)};/*! @azure/msal-browser v4.8.0 2025-03-20 */function vC(n,e,t,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r):[]}function bC(n,e,t){if(e.trace("getAccount called"),Object.keys(n).length===0)return e.warning("getAccount: No accountFilter provided"),null;const r=t.getAccountInfoFilteredBy(n);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function RC(n,e,t){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;const r=t.getAccountInfoFilteredBy({username:n});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function kC(n,e,t){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=t.getAccountInfoFilteredBy({homeAccountId:n});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function OC(n,e,t){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=t.getAccountInfoFilteredBy({localAccountId:n});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function PC(n,e){e.setActiveAccount(n)}function NC(n){return n.getActiveAccount()}/*! @azure/msal-browser v4.8.0 2025-03-20 */const MC="msal.broadcast.event";class xC{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Gt({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(MC)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,r){if(typeof window<"u"){const o=r||hC();return this.eventCallbacks.has(o)?(this.logger.error(`Event callback with id: ${o} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(o,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${o}`),o)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,r,o){var s;const i={eventType:e,interactionType:t||null,payload:r||null,error:o||null,timestamp:Date.now()};switch(e){case B.ACCOUNT_ADDED:case B.ACCOUNT_REMOVED:case B.ACTIVE_ACCOUNT_CHANGED:(s=this.broadcastChannel)==null||s.postMessage(i);break;default:this.invokeCallbacks(i);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([t,r],o)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${o}: ${e.eventType}`),t.apply(null,[e]))})}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class Gh{constructor(e,t,r,o,i,s,a,c,d){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=d||rt(),this.logger=o.clone(Be.MSAL_SKU,Er,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){Ue.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Ue.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Q.getAbsoluteUrl(t,Pt())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new ur(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(p.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const o={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,s=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=t&&s?this.config.auth.authority.replace(Q.getDomainFromUrl(i),t.environment):i,c=Se.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),d=await _(jd,p.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,o,this.logger,this.correlationId,this.performanceClient);if(t&&!d.isAlias(t.environment))throw te(Id);return d}}/*! @azure/msal-browser v4.8.0 2025-03-20 */async function ha(n,e,t,r){t.addQueueMeasurement(p.InitializeBaseRequest,n.correlationId);const o=n.authority||e.auth.authority,i=[...n&&n.scopes||[]],s={...n,correlationId:n.correlationId,authority:o,scopes:i};if(!s.authenticationScheme)s.authenticationScheme=ne.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===ne.SSH){if(!n.sshJwk)throw te(Po);if(!n.sshKid)throw te(wd)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&n.claims&&!Et.isEmptyObj(n.claims)&&(s.requestedClaimsHash=await Uh(n.claims)),s}async function DC(n,e,t,r,o){r.addQueueMeasurement(p.InitializeSilentRequest,n.correlationId);const i=await _(ha,p.InitializeBaseRequest,o,r,n.correlationId)(n,t,r,o);return{...n,...i,account:e,forceRefresh:n.forceRefresh||!1}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class Ln extends Gh{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const t={correlationId:this.correlationId||rt(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Q.getAbsoluteUrl(e.postLogoutRedirectUri,Pt())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Q.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Pt())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Q.getAbsoluteUrl(Pt(),Pt())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(p.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await _(this.getClientConfiguration.bind(this),p.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Qd(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:s}=e;this.performanceClient.addQueueMeasurement(p.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await _(this.getDiscoveredAuthority.bind(this),p.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Be.MSAL_SKU,version:Er,cpu:E.EMPTY_STRING,os:E.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(p.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),o={interactionType:t},i=tt.setRequestState(this.browserCrypto,e&&e.state||E.EMPTY_STRING,o),a={...await _(ha,p.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:i,nonce:e.nonce||rt(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return a;const c=e.account||this.browserStorage.getActiveAccount();return c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),a.account=c),a}}/*! @azure/msal-browser v4.8.0 2025-03-20 */const LC="ContentError",zh="user_switch";/*! @azure/msal-browser v4.8.0 2025-03-20 */const UC="USER_INTERACTION_REQUIRED",HC="USER_CANCEL",FC="NO_NETWORK",BC="PERSISTENT_ERROR",KC="DISABLED",qC="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v4.8.0 2025-03-20 */const $C=-2147186943,GC={[zh]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class mt extends le{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,mt.prototype),this.name="NativeAuthError",this.ext=r}}function Tn(n){if(n.ext&&n.ext.status&&(n.ext.status===BC||n.ext.status===KC)||n.ext&&n.ext.error&&n.ext.error===$C)return!0;switch(n.errorCode){case LC:return!0;default:return!1}}function ji(n,e,t){if(t&&t.status)switch(t.status){case qC:return Ui(Vd);case UC:return new nt(n,e);case HC:return x(ln);case FC:return x(ho)}return new mt(n,GC[n]||e,t)}/*! @azure/msal-browser v4.8.0 2025-03-20 */class jh extends Ln{async acquireToken(e){this.performanceClient.addQueueMeasurement(p.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(ce.acquireTokenSilent_silentFlow),r=await _(this.getClientConfiguration.bind(this),p.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),o=new wy(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await _(o.acquireCachedToken.bind(o),p.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(i){throw i instanceof Ar&&i.errorCode===ea&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t==null?void 0:t.account)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class On extends Gh{constructor(e,t,r,o,i,s,a,c,d,l,h,f){var y;super(e,t,r,o,i,s,c,d,f),this.apiId=a,this.accountId=l,this.nativeMessageHandler=d,this.nativeStorageManager=h,this.silentCacheClient=new jh(e,this.nativeStorageManager,r,o,i,s,c,d,f);const m=this.nativeMessageHandler.getExtensionId()===An.PREFERRED_EXTENSION_ID?"chrome":(y=this.nativeMessageHandler.getExtensionId())!=null&&y.length?"unknown":void 0;this.skus=ur.makeExtraSkuString({libraryName:Be.MSAL_SKU,libraryVersion:Er,extensionName:m,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[zm]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(p.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(p.NativeInteractionClientAcquireToken,e.correlationId),o=Xe(),i=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(e);try{const h=await this.acquireTokensFromCache(this.accountId,s);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),h}catch(h){if(t===Me.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),h;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=s,c={method:tn.GetToken,request:a},d=await this.nativeMessageHandler.sendMessage(c),l=this.validateNativeResponse(d);return await this.handleNativeResponse(l,s,o).then(h=>(r.end({success:!0,isNativeBroker:!0,requestId:h.requestId}),i.clearNativeBrokerErrorCode(),h)).catch(h=>{throw r.end({success:!1,errorCode:h.errorCode,subErrorCode:h.subError,isNativeBroker:!0}),h})}catch(s){throw s instanceof mt&&i.setNativeBrokerErrorCode(s.errorCode),s}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:ye.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),S(Ni);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw S(Ni);try{const o=this.createSilentCacheRequest(t,r),i=await this.silentCacheClient.acquireToken(o),s={...r,idTokenClaims:i==null?void 0:i.idTokenClaims,idToken:i==null?void 0:i.idToken};return{...i,account:s}}catch(o){throw o}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const o=await this.initializeNativeRequest(r),i={method:tn.GetToken,request:o};try{const c=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(c)}catch(c){if(c instanceof mt&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(c.errorCode),Tn(c)))throw c}this.browserStorage.setTemporaryCache(ee.NATIVE_REQUEST,JSON.stringify(o),!0);const s={apiId:ce.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(e==null||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:o,...i}=r;o&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ee.NATIVE_REQUEST));const s={method:tn.GetToken,request:i},a=Xe();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const c=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(c);const d=this.handleNativeResponse(c,i,a);this.browserStorage.setInteractionInProgress(!1);const l=await d;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),l}catch(c){throw this.browserStorage.setInteractionInProgress(!1),c}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,r){var l,h;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=Dn(e.id_token,Mt),i=this.createHomeAccountIdentifier(e,o),s=(l=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))==null?void 0:l.homeAccountId;if((h=t.extraParameters)!=null&&h.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==s&&e.account.id!==t.accountId)throw ji(zh);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),c=Ws(this.browserStorage,a,i,Mt,o,e.client_info,void 0,o.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const d=await this.generateAuthenticationResult(e,t,o,c,a.canonicalAuthority,r);return await this.cacheAccount(c),await this.cacheNativeTokens(e,t,i,o,e.access_token,d.tenantId,r),d}createHomeAccountIdentifier(e,t){return Ue.generateHomeAccountId(e.client_info||E.EMPTY_STRING,Ze.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?ye.fromString(e.scope):ye.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===ne.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new Mn(this.browserCrypto),o={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw S(vs);return r.signPopToken(e.access_token,t.keyId,o)}else return e.access_token}async generateAuthenticationResult(e,t,r,o,i,s){const a=this.addTelemetryFromNativeResponse(e),c=e.scope?ye.fromString(e.scope):ye.fromString(t.scope),d=e.account.properties||{},l=d.UID||r.oid||r.sub||E.EMPTY_STRING,h=d.TenantId||r.tid||E.EMPTY_STRING,f=xs(o.getAccountInfo(),void 0,r,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,t),y=t.tokenType===ne.POP?ne.POP:ne.BEARER;return{authority:i,uniqueId:l,tenantId:h,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:r,accessToken:m,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:vn(s+e.expires_in),tokenType:y,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,r,o,i,s,a){const c=bo(r,t.authority,e.id_token||"",t.clientId,o.tid||""),d=t.tokenType===ne.POP?E.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,l=a+d,h=this.generateScopes(e,t),f=Ro(r,t.authority,i,t.clientId,o.tid||s,h.printScopes(),l,0,Mt,void 0,t.tokenType,void 0,t.keyId),m={idToken:c,accessToken:f};return this.nativeStorageManager.saveCacheRecord(m,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw zl(As,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new Q(t);r.validateAsUri();const{scopes:o,...i}=e,s=new ye(o||[]);s.appendScopes(yr);const a=()=>{switch(this.apiId){case ce.ssoSilent:case ce.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Ae.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case Ae.NONE:case Ae.CONSENT:case Ae.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),x(Sh)}},c={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(c.signPopToken&&e.popKid)throw x(vh);if(this.handleExtraBrokerParams(c),c.extraParameters=c.extraParameters||{},c.extraParameters.telemetry=An.MATS_TELEMETRY,e.authenticationScheme===ne.POP){const d={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},l=new Mn(this.browserCrypto);let h;if(c.keyId)h=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:c.keyId})),c.signPopToken=!1;else{const f=await _(l.generateCnf.bind(l),p.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(d,this.logger);h=f.reqCnfString,c.keyId=f.kid,c.signPopToken=!0}c.reqCnf=h}return this.addRequestSKUs(c),c}handleExtraBrokerParams(e){var i;const t=e.extraParameters&&e.extraParameters.hasOwnProperty(so)&&e.extraParameters.hasOwnProperty(ao)&&e.extraParameters.hasOwnProperty(cn);if(!e.embeddedClientId&&!t)return;let r="";const o=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[ao],r=e.extraParameters[cn]),e.extraParameters={child_client_id:r,child_redirect_uri:o},(i=this.performanceClient)==null||i.addFields({embeddedClientId:r,embeddedRedirectUri:o},e.correlationId)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class Ct{constructor(e,t,r,o){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=o,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(p.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:An.CHANNEL_ID,extensionId:this.extensionId,responseId:rt(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((r,o)=>{this.resolvers.set(t.responseId,{resolve:r,reject:o})})}static async createProvider(e,t,r){e.trace("NativeMessageHandler - createProvider called.");try{const o=new Ct(e,t,r,An.PREFERRED_EXTENSION_ID);return await o.sendHandshakeRequest(),o}catch{const i=new Ct(e,t,r);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:An.CHANNEL_ID,extensionId:this.extensionId,responseId:rt(),body:{method:tn.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(x(wh)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==An.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===tn.HandshakeRequest){const r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(x(_h))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,r=this.resolvers.get(t.responseId),o=this.handshakeResolvers.get(t.responseId);try{const i=t.body.method;if(i===tn.Response){if(!r)return;const s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(ji(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(ji(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw zl(As,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(i===tn.HandshakeResponse){if(!o){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),o.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${i}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(i):o&&o.reject(i)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,r,o){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!r)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(o)switch(o){case ne.BEARER:case ne.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class ua{constructor(e,t,r,o,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=o,this.performanceClient=i}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(p.HandleCodeResponse,t.correlationId);let r;try{r=Jd(e,t.state)}catch(o){throw o instanceof Wt&&o.subError===ln?x(ln):o}return _(this.handleCodeResponseFromServer.bind(this),p.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)}async handleCodeResponseFromServer(e,t,r=!0){if(this.performanceClient.addQueueMeasurement(p.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await _(this.authModule.updateAuthority.bind(this.authModule),p.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const i=this.createCcsCredentials(t);i&&(this.authCodeRequest.ccsCredential=i)}return await _(this.authModule.acquireToken.bind(this.authModule),p.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Ye.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Ye.UPN}:null}}/*! @azure/msal-browser v4.8.0 2025-03-20 */function Vh(n,e,t){const r=oo(n);if(!r)throw bd(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),x(nh)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),x(th));return r}function zC(n,e,t){if(!n.state)throw x(Xs);const r=$h(e,n.state);if(!r)throw x(rh);if(r.interactionType!==t)throw x(oh)}/*! @azure/msal-browser v4.8.0 2025-03-20 */async function jC(n,e,t,r,o){const i=Sy({...n.auth,authority:e},t,r,o);if(qs(i,{sku:Be.MSAL_SKU,version:Er,os:"",cpu:""}),n.auth.protocolMode!==wt.OIDC&&$s(i,n.telemetry.application),t.platformBroker&&(Wm(i),t.authenticationScheme===ne.POP)){const s=new un(r,o),a=new Mn(s);let c;t.popKid?c=s.encodeKid(t.popKid):c=(await _(a.generateCnf.bind(a),p.PopTokenGenerateCnf,r,o,t.correlationId)(t,r)).reqCnfString,zs(i,c)}return No(i,t.correlationId,o),i}async function fa(n,e,t,r,o){if(!t.codeChallenge)throw te(Oo);const i=await _(jC,p.GetStandardParams,r,o,t.correlationId)(n,e,t,r,o);return jm(i),ey(i,t.codeChallenge,E.S256_CODE_CHALLENGE_METHOD),Iy(e,i)}/*! @azure/msal-browser v4.8.0 2025-03-20 */const VC=32;async function Go(n,e,t){n.addQueueMeasurement(p.GeneratePkceCodes,t);const r=xt(WC,p.GenerateCodeVerifier,e,n,t)(n,e,t),o=await _(YC,p.GenerateCodeChallengeFromVerifier,e,n,t)(r,n,e,t);return{verifier:r,challenge:o}}function WC(n,e,t){try{const r=new Uint8Array(VC);return xt(Jy,p.GetRandomValues,e,n,t)(r),dn(r)}catch{throw x(Js)}}async function YC(n,e,t,r){e.addQueueMeasurement(p.GenerateCodeChallengeFromVerifier,r);try{const o=await _(Dh,p.Sha256Digest,t,e,r)(n,e,r);return dn(new Uint8Array(o))}catch{throw x(Js)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class QC extends Ln{constructor(e,t,r,o,i,s,a,c,d,l){super(e,t,r,o,i,s,a,d,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c}acquireToken(e,t){try{const o={popupName:this.generatePopupName(e.scopes||yr,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,o,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),o.popup=this.openSizedPopup("about:blank",o),this.acquireTokenPopupAsync(e,o,t))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},o=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,o,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(t,r,o,i))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,r){var a;this.logger.verbose("acquireTokenPopupAsync called");const o=this.initializeServerTelemetryManager(ce.acquireTokenPopup),i=await _(this.initializeAuthorizationRequest.bind(this),p.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,U.Popup),s=r||await _(Go,p.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId);i.codeChallenge=s.challenge,t.popup&&Kh(i.authority);try{const c=await _(this.createAuthCodeClient.bind(this),p.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),d=Ct.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let l;d&&(l=this.performanceClient.startMeasurement(p.FetchAccountIdWithNativeBroker,e.correlationId));const h=await _(fa,p.GetAuthCodeUrl,this.logger,this.performanceClient,i.correlationId)(this.config,c.authority,{...i,platformBroker:d},this.logger,this.performanceClient),f=this.initiateAuthRequest(h,t);this.eventHandler.emitEvent(B.POPUP_OPENED,U.Popup,{popupWindow:f},null);const m=await this.monitorPopupForHash(f,t.popupWindowParent),y=xt(Vh,p.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(pt.removeThrottle(this.browserStorage,this.config.auth.clientId,i),y.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),l&&l.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw x(Tr);const L=new On(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,y.accountId,this.nativeStorage,i.correlationId),{userRequestState:H}=tt.parseRequestState(this.browserCrypto,i.state);return await L.acquireToken({...i,state:H,prompt:void 0})}const T={...i,code:y.code||"",codeVerifier:s.verifier};return await new ua(c,this.browserStorage,T,this.logger,this.performanceClient).handleCodeResponse(y,i)}catch(c){throw(a=t.popup)==null||a.close(),c instanceof le&&(c.setCorrelationId(this.correlationId),o.cacheFailedRequest(c)),c}}async logoutPopupAsync(e,t,r,o){var s,a,c,d;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(B.LOGOUT_START,U.Popup,e);const i=this.initializeServerTelemetryManager(ce.logoutPopup);try{await this.clearCacheOnLogout(e.account);const l=await _(this.createAuthCodeClient.bind(this),p.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:r,account:e.account||void 0});try{l.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===wt.OIDC){if(this.browserStorage.removeAccount((a=e.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(B.LOGOUT_SUCCESS,U.Popup,e),o){const m={apiId:ce.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=Q.getAbsoluteUrl(o,Pt());await this.navigationClient.navigateInternal(y,m)}(c=t.popup)==null||c.close();return}}const h=l.getLogoutUri(e);this.eventHandler.emitEvent(B.LOGOUT_SUCCESS,U.Popup,e);const f=this.openPopup(h,t);if(this.eventHandler.emitEvent(B.POPUP_OPENED,U.Popup,{popupWindow:f},null),await this.monitorPopupForHash(f,t.popupWindowParent).catch(()=>{}),o){const m={apiId:ce.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=Q.getAbsoluteUrl(o,Pt());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${y}`),await this.navigationClient.navigateInternal(y,m)}else this.logger.verbose("No main window navigation requested")}catch(l){throw(d=t.popup)==null||d.close(),l instanceof le&&(l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(B.LOGOUT_FAILURE,U.Popup,null,l),this.eventHandler.emitEvent(B.LOGOUT_END,U.Popup),l}this.eventHandler.emitEvent(B.LOGOUT_END,U.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),x(Ho)}monitorPopupForHash(e,t){return new Promise((r,o)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const i=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(i),o(x(ln));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(i);let a="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===Cr.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t)),!r)throw x(ah);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),x(sh)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:r,popupWindowParent:o}){var m,y,T,I;const i=o.screenLeft?o.screenLeft:o.screenX,s=o.screenTop?o.screenTop:o.screenY,a=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let d=(m=r.popupSize)==null?void 0:m.width,l=(y=r.popupSize)==null?void 0:y.height,h=(T=r.popupPosition)==null?void 0:T.top,f=(I=r.popupPosition)==null?void 0:I.left;return(!d||d<0||d>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=Be.POPUP_WIDTH),(!l||l<0||l>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=Be.POPUP_HEIGHT),(!h||h<0||h>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),h=Math.max(0,c/2-Be.POPUP_HEIGHT/2+s)),(!f||f<0||f>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,a/2-Be.POPUP_WIDTH/2+i)),o.open(e,t,`width=${d}, height=${l}, top=${h}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(U.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Be.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Be.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class bc{constructor(e,t,r,o,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=o,this.performanceClient=i}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(ee.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(ee.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:ce.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await t.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await t.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),x(Ho)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const r=this.browserStorage.generateStateKey(t),o=this.browserStorage.getTemporaryCache(r);if(!o)throw S(to,"Cached State");let i;try{i=Jd(e,o)}catch(d){throw d instanceof Wt&&d.subError===ln?x(ln):d}const s=this.browserStorage.generateNonceKey(o),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=i.code,i.cloud_instance_host_name&&await _(this.authModule.updateAuthority.bind(this.authModule),p.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(i.cloud_instance_host_name,this.authCodeRequest.correlationId),i.nonce=a||void 0,i.state=o,i.client_info)this.authCodeRequest.clientInfo=i.client_info;else{const d=this.checkCcsCredentials();d&&(this.authCodeRequest.ccsCredential=d)}const c=await this.authModule.acquireToken(this.authCodeRequest,i);return this.browserStorage.cleanRequestByState(t),c}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(ee.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v4.8.0 2025-03-20 */function JC(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const n=window.performance.getEntriesByType("navigation"),e=n.length?n[0]:void 0;return e==null?void 0:e.type}class XC extends Ln{constructor(e,t,r,o,i,s,a,c,d,l){super(e,t,r,o,i,s,a,d,l),this.nativeStorage=c}async acquireToken(e){const t=await _(this.initializeAuthorizationRequest.bind(this),p.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,U.Redirect),r=await _(Go,p.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId);t.codeChallenge=r.challenge,this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const o=this.initializeServerTelemetryManager(ce.acquireTokenRedirect),i=s=>{s.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(B.RESTORE_FROM_BFCACHE,U.Redirect))};try{const s=await _(this.createAuthCodeClient.bind(this),p.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a={...t,code:"",codeVerifier:r.verifier},c=new bc(s,this.browserStorage,a,this.logger,this.performanceClient),d=await _(fa,p.GetAuthCodeUrl,this.logger,this.performanceClient,t.correlationId)(this.config,s.authority,{...t,platformBroker:Ct.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)},this.logger,this.performanceClient),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",i),await c.initiateAuthRequest(d,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(s){throw s instanceof le&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),s}}async handleRedirectPromise(e="",t){const r=this.initializeServerTelemetryManager(ce.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[o,i]=this.getRedirectResponse(e||"");if(!o)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(U.Redirect),JC()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(ee.ORIGIN_URI,!0)||E.EMPTY_STRING,a=Q.removeHashFromUrl(s),c=Q.removeHashFromUrl(window.location.href);if(a===c&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&iC(s),await this.handleResponse(o,r);if(this.config.auth.navigateToLoginRequestUrl){if(!ca()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(ee.URL_HASH,i,!0);const d={apiId:ce.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let l=!0;if(!s||s==="null"){const h=aC();this.browserStorage.setTemporaryCache(ee.ORIGIN_URI,h,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),l=await this.navigationClient.navigateInternal(h,d)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),l=await this.navigationClient.navigateInternal(s,d);if(!l)return await this.handleResponse(o,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(o,r);return null}catch(o){throw o instanceof le&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),this.browserStorage.cleanRequestByInteractionType(U.Redirect),o}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===Cr.QUERY?t=window.location.search:t=window.location.hash);let r=oo(t);if(r){try{zC(r,this.browserCrypto,U.Redirect)}catch(i){return i instanceof le&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return oC(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}const o=this.browserStorage.getTemporaryCache(ee.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ee.URL_HASH)),o&&(r=oo(o),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,o]):[null,""]}async handleResponse(e,t){const r=e.state;if(!r)throw x(Xs);const o=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw x(Tr);const c=new On(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,o.correlationId),{userRequestState:d}=tt.parseRequestState(this.browserCrypto,r);return c.acquireToken({...o,state:d,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(r)})}const i=this.browserStorage.getCachedAuthority(r);if(!i)throw x(Zs);const s=await _(this.createAuthCodeClient.bind(this),p.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:i});return pt.removeThrottle(this.browserStorage,this.config.auth.clientId,o),new bc(s,this.browserStorage,o,this.logger,this.performanceClient).handleCodeResponse(e,r)}async logout(e){var o,i;this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(ce.logout);try{this.eventHandler.emitEvent(B.LOGOUT_START,U.Redirect,e),await this.clearCacheOnLogout(t.account);const s={apiId:ce.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await _(this.createAuthCodeClient.bind(this),p.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===wt.OIDC)try{a.authority.endSessionEndpoint}catch{if((o=t.account)!=null&&o.homeAccountId){this.browserStorage.removeAccount((i=t.account)==null?void 0:i.homeAccountId),this.eventHandler.emitEvent(B.LOGOUT_SUCCESS,U.Redirect,t);return}}const c=a.getLogoutUri(t);if(this.eventHandler.emitEvent(B.LOGOUT_SUCCESS,U.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(c)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(c,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(c,s);return}}catch(s){throw s instanceof le&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(B.LOGOUT_FAILURE,U.Redirect,null,s),this.eventHandler.emitEvent(B.LOGOUT_END,U.Redirect),s}this.eventHandler.emitEvent(B.LOGOUT_END,U.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Q.getAbsoluteUrl(t,Pt())}}/*! @azure/msal-browser v4.8.0 2025-03-20 */async function ZC(n,e,t,r,o){if(e.addQueueMeasurement(p.SilentHandlerInitiateAuthRequest,r),!n)throw t.info("Navigate url is empty"),x(Ho);return o?_(tT,p.SilentHandlerLoadFrame,t,e,r)(n,o,e,r):xt(nT,p.SilentHandlerLoadFrameSync,t,e,r)(n)}async function eT(n,e,t,r,o,i,s){return r.addQueueMeasurement(p.SilentHandlerMonitorIframeForHash,i),new Promise((a,c)=>{e<Ki&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Ki}ms). This may result in timeouts.`);const d=window.setTimeout(()=>{window.clearInterval(l),c(x(ch))},e),l=window.setInterval(()=>{let h="";const f=n.contentWindow;try{h=f?f.location.href:""}catch{}if(!h||h==="about:blank")return;let m="";f&&(s===Cr.QUERY?m=f.location.search:m=f.location.hash),window.clearTimeout(d),window.clearInterval(l),a(m)},t)}).finally(()=>{xt(rT,p.RemoveHiddenIframe,o,r,i)(n)})}function tT(n,e,t,r){return t.addQueueMeasurement(p.SilentHandlerLoadFrame,r),new Promise((o,i)=>{const s=Wh();window.setTimeout(()=>{if(!s){i("Unable to load iframe");return}s.src=n,o(s)},e)})}function nT(n){const e=Wh();return e.src=n,e}function Wh(){const n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function rT(n){document.body===n.parentNode&&document.body.removeChild(n)}/*! @azure/msal-browser v4.8.0 2025-03-20 */class oT extends Ln{constructor(e,t,r,o,i,s,a,c,d,l,h){super(e,t,r,o,i,s,c,l,h),this.apiId=a,this.nativeStorage=d}async acquireToken(e){this.performanceClient.addQueueMeasurement(p.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==Ae.NONE&&t.prompt!==Ae.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${Ae.NONE}`),t.prompt=Ae.NONE):t.prompt=Ae.NONE;const r=await _(this.initializeAuthorizationRequest.bind(this),p.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,U.Silent);Kh(r.authority);const o=this.initializeServerTelemetryManager(this.apiId);let i;try{return i=await _(this.createAuthCodeClient.bind(this),p.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:o,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),await _(this.silentTokenHelper.bind(this),p.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(i,r)}catch(s){if(s instanceof le&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),!i||!(s instanceof le)||s.errorCode!==Be.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);const a=await _(this.initializeAuthorizationRequest.bind(this),p.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,U.Silent);return await _(this.silentTokenHelper.bind(this),p.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(i,a)}}logout(){return Promise.reject(x(Fo))}async silentTokenHelper(e,t){const r=t.correlationId;this.performanceClient.addQueueMeasurement(p.SilentIframeClientTokenHelper,r);const o=await _(Go,p.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),i={...t,codeChallenge:o.challenge},s=await _(fa,p.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,{...i,platformBroker:Ct.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,i.authenticationScheme)},this.logger,this.performanceClient),a=await _(ZC,p.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(s,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,d=await _(eT,p.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,c),l=xt(Vh,p.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,c,this.logger);if(l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw x(Tr);const m=new On(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,r),{userRequestState:y}=tt.parseRequestState(this.browserCrypto,i.state);return _(m.acquireToken.bind(m),p.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)({...i,state:y,prompt:i.prompt||Ae.NONE})}const h={...i,code:l.code||"",codeVerifier:o.verifier},f=new ua(e,this.browserStorage,h,this.logger,this.performanceClient);return _(f.handleCodeResponse.bind(f),p.HandleCodeResponse,this.logger,this.performanceClient,r)(l,i)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class iT extends Ln{async acquireToken(e){this.performanceClient.addQueueMeasurement(p.SilentRefreshClientAcquireToken,e.correlationId);const t=await _(ha,p.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...t};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const o=this.initializeServerTelemetryManager(ce.acquireTokenSilent_silentFlow),i=await this.createRefreshTokenClient({serverTelemetryManager:o,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return _(i.acquireTokenByRefreshToken.bind(i),p.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s),s})}logout(){return Promise.reject(x(Fo))}async createRefreshTokenClient(e){const t=await _(this.getClientConfiguration.bind(this),p.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Ey(t,this.performanceClient)}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class sT{constructor(e,t,r,o){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=o}async loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw x(Bo);const o=e.correlationId||rt(),i=t.id_token?Dn(t.id_token,Mt):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Se(Se.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,e.correlationId||rt()):void 0,c=await this.loadAccount(e,r.clientInfo||t.client_info||"",o,i,a),d=await this.loadIdToken(t,c.homeAccountId,c.environment,c.realm,o),l=await this.loadAccessToken(e,t,c.homeAccountId,c.environment,c.realm,r,o),h=await this.loadRefreshToken(t,c.homeAccountId,c.environment,o);return this.generateAuthenticationResult(e,{account:c,idToken:d,accessToken:l,refreshToken:h},i,a)}async loadAccount(e,t,r,o,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const d=Ue.createFromAccountInfo(e.account);return await this.storage.setAccount(d,r),d}else if(!i||!t&&!o)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),x(yh);const s=Ue.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,o),a=o==null?void 0:o.tid,c=Ws(this.storage,i,s,Mt,o,t,i.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(c,r),c}async loadIdToken(e,t,r,o,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=bo(t,r,e.id_token,this.config.auth.clientId,o);return await this.storage.setIdTokenCredential(s,i),s}async loadAccessToken(e,t,r,o,i,s,a){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=t.scope?ye.fromString(t.scope):new ye(e.scopes),d=s.expiresOn||t.expires_in+Xe(),l=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+Xe(),h=Ro(r,o,t.access_token,this.config.auth.clientId,i,c.printScopes(),d,l,Mt);return await this.storage.setAccessTokenCredential(h,a),h}async loadRefreshToken(e,t,r,o){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=hd(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,o),i}generateAuthenticationResult(e,t,r,o){var l,h,f;let i="",s=[],a=null,c;t!=null&&t.accessToken&&(i=t.accessToken.secret,s=ye.fromString(t.accessToken.target).asArray(),a=vn(t.accessToken.expiresOn),c=vn(t.accessToken.extendedExpiresOn));const d=t.account;return{authority:o?o.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:d.getAccountInfo(),idToken:((l=t.idToken)==null?void 0:l.secret)||"",idTokenClaims:r||{},accessToken:i,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((h=t.refreshToken)==null?void 0:h.familyId)||"",tokenType:((f=t==null?void 0:t.accessToken)==null?void 0:f.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class aT extends Qd{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.8.0 2025-03-20 */class cT extends Ln{constructor(e,t,r,o,i,s,a,c,d,l){super(e,t,r,o,i,s,c,d,l),this.apiId=a}async acquireToken(e){if(!e.code)throw x(Ch);const t=await _(this.initializeAuthorizationRequest.bind(this),p.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,U.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const o={...t,code:e.code},i=await _(this.getClientConfiguration.bind(this),p.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new aT(i);this.logger.verbose("Auth code client created");const a=new ua(s,this.browserStorage,o,this.logger,this.performanceClient);return await _(a.handleCodeResponseFromServer.bind(a),p.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(o){throw o instanceof le&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}}logout(){return Promise.reject(x(Fo))}}/*! @azure/msal-browser v4.8.0 2025-03-20 */function ht(n){const e=n==null?void 0:n.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Fr(n,e){try{la(n)}catch(t){throw e.end({success:!1},t),t}}class zo{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new un(this.logger,this.performanceClient):no,this.eventHandler=new xC(this.logger),this.browserStorage=this.isBrowserEnvironment?new zi(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,hy(this.config.auth)):IC(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:_e.MemoryStorage,temporaryCacheLocation:_e.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new zi(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new sT(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const r=new zo(e);return await r.initialize(t),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(B.INITIALIZE_END);return}const t=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(p.InitializeClientApplication,t);if(this.eventHandler.emitEvent(B.INITIALIZE_START),await _(this.browserStorage.initialize.bind(this.browserStorage),p.InitializeCache,this.logger,this.performanceClient,t)(t),r)try{this.nativeExtensionProvider=await Ct.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(i){this.logger.verbose(i)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await _(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),p.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t),this.initialized=!0,this.eventHandler.emitEvent(B.INITIALIZE_END),o.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Bh(this.initialized),this.isBrowserEnvironment){const t=e||"";let r=this.redirectResponse.get(t);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),o=r&&Ct.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,i=o?r==null?void 0:r.correlationId:this.browserStorage.getTemporaryCache(ee.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(p.AcquireTokenRedirect,i);this.eventHandler.emitEvent(B.HANDLE_REDIRECT_START,U.Redirect);let a;if(o&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const c=new On(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=_(c.handleRedirectPromise.bind(c),p.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const c=this.createRedirectClient(i);a=_(c.handleRedirectPromise.bind(c),p.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return a.then(c=>(c?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(B.LOGIN_SUCCESS,U.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_SUCCESS,U.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:ht(c.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(B.HANDLE_REDIRECT_END,U.Redirect),c)).catch(c=>{const d=c;throw t.length>0?this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_FAILURE,U.Redirect,null,d):this.eventHandler.emitEvent(B.LOGIN_FAILURE,U.Redirect,null,d),this.eventHandler.emitEvent(B.HANDLE_REDIRECT_END,U.Redirect),s.end({success:!1},d),c})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const r=this.performanceClient.startMeasurement(p.AcquireTokenPreRedirect,t);r.add({accountType:ht(e.account),scenarioId:e.scenarioId});const o=e.onRedirectNavigate;if(o)e.onRedirectNavigate=s=>{const a=typeof o=="function"?o(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const c=typeof s=="function"?s(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}const i=this.getAllAccounts().length>0;try{Ec(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),i?this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_START,U.Redirect,e):this.eventHandler.emitEvent(B.LOGIN_START,U.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUsePlatformBroker(e)?s=new On(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof mt&&Tn(c))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(c instanceof nt)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),c}):s=this.createRedirectClient(t).acquireToken(e),await s}catch(s){throw r.end({success:!1},s),i?this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_FAILURE,U.Redirect,null,s):this.eventHandler.emitEvent(B.LOGIN_FAILURE,U.Redirect,null,s),s}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(p.AcquireTokenPopup,t);r.add({scenarioId:e.scenarioId,accountType:ht(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Fr(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(a){return Promise.reject(a)}const o=this.getAllAccounts();o.length>0?this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_START,U.Popup,e):this.eventHandler.emitEvent(B.LOGIN_START,U.Popup,e);let i;const s=this.getPreGeneratedPkceCodes(t);return this.canUsePlatformBroker(e)?i=this.acquireTokenNative({...e,correlationId:t},ce.acquireTokenPopup).then(a=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,accountType:ht(a.account)}),a)).catch(a=>{if(a instanceof mt&&Tn(a))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e,s);if(a instanceof nt)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e,s);throw this.browserStorage.setInteractionInProgress(!1),a}):i=this.createPopupClient(t).acquireToken(e,s),i.then(a=>(o.length<this.getAllAccounts().length?this.eventHandler.emitEvent(B.LOGIN_SUCCESS,U.Popup,a):this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_SUCCESS,U.Popup,a),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:ht(a.account)}),a)).catch(a=>(o.length>0?this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_FAILURE,U.Popup,null,a):this.eventHandler.emitEvent(B.LOGIN_FAILURE,U.Popup,null,a),r.end({success:!1},a),Promise.reject(a))).finally(()=>this.config.system.asyncPopups&&this.preGeneratePkceCodes(t))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var i,s;const t=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:t};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(p.SsoSilent,t),(i=this.ssoSilentMeasurement)==null||i.add({scenarioId:e.scenarioId,accountType:ht(e.account)}),Fr(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(B.SSO_SILENT_START,U.Silent,r);let o;return this.canUsePlatformBroker(r)?o=this.acquireTokenNative(r,ce.ssoSilent).catch(a=>{if(a instanceof mt&&Tn(a))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw a}):o=this.createSilentIframeClient(r.correlationId).acquireToken(r),o.then(a=>{var c;return this.eventHandler.emitEvent(B.SSO_SILENT_SUCCESS,U.Silent,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:ht(a.account)}),a}).catch(a=>{var c;throw this.eventHandler.emitEvent(B.SSO_SILENT_FAILURE,U.Silent,null,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const r=this.performanceClient.startMeasurement(p.AcquireTokenByCode,t);Fr(this.initialized,r),this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_START,U.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw x(Ah);if(e.code){const o=e.code;let i=this.hybridAuthCodeResponses.get(o);return i?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(s=>(this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_SUCCESS,U.Silent,s),this.hybridAuthCodeResponses.delete(o),r.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:ht(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(o),this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_FAILURE,U.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(o,i)),await i}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const o=await this.acquireTokenNative({...e,correlationId:t},ce.acquireTokenByCode,e.nativeAccountId).catch(i=>{throw i instanceof mt&&Tn(i)&&(this.nativeExtensionProvider=void 0),i});return r.end({accountType:ht(o.account),success:!0}),o}else throw x(Eh);else throw x(Th)}catch(o){throw this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_BY_CODE_FAILURE,U.Silent,null,o),r.end({success:!1},o),o}}async acquireTokenByCodeAsync(e){var o;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(p.AcquireTokenByCodeAsync,e.correlationId),(o=this.acquireTokenByCodeAsyncMeasurement)==null||o.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:i.fromCache,isNativeBroker:i.fromNativeBroker}),i}).catch(i=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(p.AcquireTokenFromCache,e.correlationId),t){case Me.Default:case Me.AccessToken:case Me.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return _(r.acquireToken.bind(r),p.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw S(qt)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(p.AcquireTokenByRefreshToken,e.correlationId),t){case Me.Default:case Me.AccessTokenAndRefreshToken:case Me.RefreshToken:case Me.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return _(r.acquireToken.bind(r),p.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw S(qt)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(p.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return _(t.acquireToken.bind(t),p.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return Ec(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return la(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return vC(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return bC(e,this.logger,this.browserStorage)}getAccountByUsername(e){return RC(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return kC(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return OC(e,this.logger,this.browserStorage)}setActiveAccount(e){PC(e,this.browserStorage)}getActiveAccount(){return NC(this.browserStorage)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const r=Ue.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,r,o){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw x(Tr);return new On(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,o)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!Ct.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Ae.NONE:case Ae.CONSENT:case Ae.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new QC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new XC(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new oT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new jh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new iT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new cT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ce.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Fh(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==_e.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==_e.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?rt():E.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||yc})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||yc})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(p.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Fr(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);const o=e.account||this.getActiveAccount();if(!o)throw x(uh);return r.add({accountType:ht(o)}),this.acquireTokenSilentDeduped(e,o,t).then(i=>(r.end({success:!0,fromCache:i.fromCache,isNativeBroker:i.fromNativeBroker,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length}),{...i,state:e.state,correlationId:t})).catch(i=>{throw i instanceof le&&i.setCorrelationId(t),r.end({success:!1},i),i})}async acquireTokenSilentDeduped(e,t,r){const o=Do(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},t.homeAccountId),i=JSON.stringify(o),s=this.activeSilentTokenRequests.get(i);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const a=_(this.acquireTokenSilentAsync.bind(this),p.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},t);return this.activeSilentTokenRequests.set(i,a),a.finally(()=>{this.activeSilentTokenRequests.delete(i)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),s}async acquireTokenSilentAsync(e,t){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(p.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_START,U.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const o=await _(DC,p.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||Me.Default;return this.acquireTokenSilentNoIframe(o,i).catch(async a=>{if(lT(a,i))if(this.activeIframeRequest)if(i!==Me.Skip){const[d,l]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${l}`,o.correlationId);const h=this.performanceClient.startMeasurement(p.AwaitConcurrentIframe,o.correlationId);h.add({awaitIframeCorrelationId:l});const f=await d;if(h.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${l} succeeded. Retrying cache and/or RT redemption`,o.correlationId),this.acquireTokenSilentNoIframe(o,i);throw this.logger.info(`Iframe request with correlationId: ${l} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",o.correlationId),_(this.acquireTokenBySilentIframe.bind(this),p.AcquireTokenBySilentIframe,this.logger,this.performanceClient,o.correlationId)(o);else{let d;return this.activeIframeRequest=[new Promise(l=>{d=l}),o.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",o.correlationId),_(this.acquireTokenBySilentIframe.bind(this),p.AcquireTokenBySilentIframe,this.logger,this.performanceClient,o.correlationId)(o).then(l=>(d(!0),l)).catch(l=>{throw d(!1),l}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_SUCCESS,U.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_FAILURE,U.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,t){return Ct.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ce.acquireTokenSilent_silentFlow,e.account.nativeAccountId,t).catch(async r=>{throw r instanceof mt&&Tn(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,S(qt)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Me.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),_(this.acquireTokenFromCache.bind(this),p.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===Me.AccessToken)throw r;return this.eventHandler.emitEvent(B.ACQUIRE_TOKEN_NETWORK_START,U.Silent,e),_(this.acquireTokenByRefreshToken.bind(this),p.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await _(Go,p.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${t?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}}function lT(n,e){const t=!(n instanceof nt&&n.subError!==Uo),r=n.errorCode===Be.INVALID_GRANT_ERROR||n.errorCode===qt,o=t&&r||n.errorCode===lo||n.errorCode===Vs,i=qy.includes(e);return o&&i}/*! @azure/msal-browser v4.8.0 2025-03-20 */async function dT(n,e){const t=new hn(n);return await t.initialize(),zo.createController(t,e)}/*! @azure/msal-browser v4.8.0 2025-03-20 */class ga{static async createPublicClientApplication(e){const t=await dT(e);return new ga(e,t)}constructor(e,t){this.controller=t||new zo(new hn(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const hT={class:"flex justify-center mt-6"},uT={__name:"LoginButton",emits:["auth-changed"],setup(n,{emit:e}){const t=e,r=Ot(!1),o=Ot(null),i={auth:{clientId:"c345bebf-7e3e-4b6d-8e4e-7d99bf4397af",authority:"https://login.microsoftonline.com/common/v2.0",redirectUri:"https://finneas98.github.io/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0}},s=new ga(i);gs(async()=>{await s.initialize(),a()});const a=async()=>{s.getAllAccounts().length>0&&(r.value=!0,await l()),t("auth-changed",{isAuthenticated:r.value,accessToken:o.value})},c=async()=>{try{await s.loginPopup({scopes:["Calendars.Read"]}),r.value=!0,await l(),t("auth-changed",{isAuthenticated:!0,accessToken:o.value})}catch(h){console.error("Login failed",h)}},d=async()=>{await s.logoutPopup(),r.value=!1,o.value=null,t("auth-changed",{isAuthenticated:!1,accessToken:null})},l=async()=>{try{const h=await s.acquireTokenSilent({scopes:["https://graph.microsoft.com/.default"],account:s.getAllAccounts()[0]});o.value=h.accessToken,t("auth-changed",{isAuthenticated:!0,accessToken:o.value})}catch(h){console.error("Error retrieving token",h)}};return(h,f)=>(he(),me("div",hT,[r.value?Nt("",!0):(he(),me("button",{key:0,onClick:c,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-md transition duration-300"}," Login with Microsoft ")),r.value?(he(),me("button",{key:1,onClick:d,class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 text-sm flex items-center gap-2"},f[0]||(f[0]=[re("span",null,"Logout",-1)]))):Nt("",!0)]))}};function Yh(n,e){return function(){return n.apply(e,arguments)}}const{toString:fT}=Object.prototype,{getPrototypeOf:pa}=Object,jo=(n=>e=>{const t=fT.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ot=n=>(n=n.toLowerCase(),e=>jo(e)===n),Vo=n=>e=>typeof e===n,{isArray:Un}=Array,fr=Vo("undefined");function gT(n){return n!==null&&!fr(n)&&n.constructor!==null&&!fr(n.constructor)&&Qe(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Qh=ot("ArrayBuffer");function pT(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Qh(n.buffer),e}const mT=Vo("string"),Qe=Vo("function"),Jh=Vo("number"),Wo=n=>n!==null&&typeof n=="object",yT=n=>n===!0||n===!1,Gr=n=>{if(jo(n)!=="object")return!1;const e=pa(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},CT=ot("Date"),TT=ot("File"),AT=ot("Blob"),ET=ot("FileList"),wT=n=>Wo(n)&&Qe(n.pipe),_T=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Qe(n.append)&&((e=jo(n))==="formdata"||e==="object"&&Qe(n.toString)&&n.toString()==="[object FormData]"))},ST=ot("URLSearchParams"),[IT,vT,bT,RT]=["ReadableStream","Request","Response","Headers"].map(ot),kT=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wr(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),Un(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,n[a],a,n)}}function Xh(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zh=n=>!fr(n)&&n!==nn;function Vi(){const{caseless:n}=Zh(this)&&this||{},e={},t=(r,o)=>{const i=n&&Xh(e,o)||o;Gr(e[i])&&Gr(r)?e[i]=Vi(e[i],r):Gr(r)?e[i]=Vi({},r):Un(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&wr(arguments[r],t);return e}const OT=(n,e,t,{allOwnKeys:r}={})=>(wr(e,(o,i)=>{t&&Qe(o)?n[i]=Yh(o,t):n[i]=o},{allOwnKeys:r}),n),PT=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),NT=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},MT=(n,e,t,r)=>{let o,i,s;const a={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),i=o.length;i-- >0;)s=o[i],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&pa(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},xT=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},DT=n=>{if(!n)return null;if(Un(n))return n;let e=n.length;if(!Jh(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},LT=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&pa(Uint8Array)),UT=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(n,i[0],i[1])}},HT=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},FT=ot("HTMLFormElement"),BT=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),Rc=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),KT=ot("RegExp"),eu=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};wr(t,(o,i)=>{let s;(s=e(o,i,n))!==!1&&(r[i]=s||o)}),Object.defineProperties(n,r)},qT=n=>{eu(n,(e,t)=>{if(Qe(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Qe(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},$T=(n,e)=>{const t={},r=o=>{o.forEach(i=>{t[i]=!0})};return Un(n)?r(n):r(String(n).split(e)),t},GT=()=>{},zT=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function jT(n){return!!(n&&Qe(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const VT=n=>{const e=new Array(10),t=(r,o)=>{if(Wo(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=Un(r)?[]:{};return wr(r,(s,a)=>{const c=t(s,o+1);!fr(c)&&(i[a]=c)}),e[o]=void 0,i}}return r};return t(n,0)},WT=ot("AsyncFunction"),YT=n=>n&&(Wo(n)||Qe(n))&&Qe(n.then)&&Qe(n.catch),tu=((n,e)=>n?setImmediate:e?((t,r)=>(nn.addEventListener("message",({source:o,data:i})=>{o===nn&&i===t&&r.length&&r.shift()()},!1),o=>{r.push(o),nn.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Qe(nn.postMessage)),QT=typeof queueMicrotask<"u"?queueMicrotask.bind(nn):typeof process<"u"&&process.nextTick||tu,C={isArray:Un,isArrayBuffer:Qh,isBuffer:gT,isFormData:_T,isArrayBufferView:pT,isString:mT,isNumber:Jh,isBoolean:yT,isObject:Wo,isPlainObject:Gr,isReadableStream:IT,isRequest:vT,isResponse:bT,isHeaders:RT,isUndefined:fr,isDate:CT,isFile:TT,isBlob:AT,isRegExp:KT,isFunction:Qe,isStream:wT,isURLSearchParams:ST,isTypedArray:LT,isFileList:ET,forEach:wr,merge:Vi,extend:OT,trim:kT,stripBOM:PT,inherits:NT,toFlatObject:MT,kindOf:jo,kindOfTest:ot,endsWith:xT,toArray:DT,forEachEntry:UT,matchAll:HT,isHTMLForm:FT,hasOwnProperty:Rc,hasOwnProp:Rc,reduceDescriptors:eu,freezeMethods:qT,toObjectSet:$T,toCamelCase:BT,noop:GT,toFiniteNumber:zT,findKey:Xh,global:nn,isContextDefined:Zh,isSpecCompliantForm:jT,toJSONObject:VT,isAsyncFn:WT,isThenable:YT,setImmediate:tu,asap:QT};function z(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}C.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const nu=z.prototype,ru={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ru[n]={value:n}});Object.defineProperties(z,ru);Object.defineProperty(nu,"isAxiosError",{value:!0});z.from=(n,e,t,r,o,i)=>{const s=Object.create(nu);return C.toFlatObject(n,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),z.call(s,n.message,e,t,r,o),s.cause=n,s.name=n.name,i&&Object.assign(s,i),s};const JT=null;function Wi(n){return C.isPlainObject(n)||C.isArray(n)}function ou(n){return C.endsWith(n,"[]")?n.slice(0,-2):n}function kc(n,e,t){return n?n.concat(e).map(function(o,i){return o=ou(o),!t&&i?"["+o+"]":o}).join(t?".":""):e}function XT(n){return C.isArray(n)&&!n.some(Wi)}const ZT=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function Yo(n,e,t){if(!C.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=C.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,I){return!C.isUndefined(I[T])});const r=t.metaTokens,o=t.visitor||l,i=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(o))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(C.isDate(y))return y.toISOString();if(!c&&C.isBlob(y))throw new z("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(y)||C.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function l(y,T,I){let M=y;if(y&&!I&&typeof y=="object"){if(C.endsWith(T,"{}"))T=r?T:T.slice(0,-2),y=JSON.stringify(y);else if(C.isArray(y)&&XT(y)||(C.isFileList(y)||C.endsWith(T,"[]"))&&(M=C.toArray(y)))return T=ou(T),M.forEach(function(H,D){!(C.isUndefined(H)||H===null)&&e.append(s===!0?kc([T],D,i):s===null?T:T+"[]",d(H))}),!1}return Wi(y)?!0:(e.append(kc(I,T,i),d(y)),!1)}const h=[],f=Object.assign(ZT,{defaultVisitor:l,convertValue:d,isVisitable:Wi});function m(y,T){if(!C.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+T.join("."));h.push(y),C.forEach(y,function(M,L){(!(C.isUndefined(M)||M===null)&&o.call(e,M,C.isString(L)?L.trim():L,T,f))===!0&&m(M,T?T.concat(L):[L])}),h.pop()}}if(!C.isObject(n))throw new TypeError("data must be an object");return m(n),e}function Oc(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ma(n,e){this._pairs=[],n&&Yo(n,this,e)}const iu=ma.prototype;iu.append=function(e,t){this._pairs.push([e,t])};iu.toString=function(e){const t=e?function(r){return e.call(this,r,Oc)}:Oc;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function eA(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function su(n,e,t){if(!e)return n;const r=t&&t.encode||eA;C.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let i;if(o?i=o(e,t):i=C.isURLSearchParams(e)?e.toString():new ma(e,t).toString(r),i){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class Pc{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const au={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tA=typeof URLSearchParams<"u"?URLSearchParams:ma,nA=typeof FormData<"u"?FormData:null,rA=typeof Blob<"u"?Blob:null,oA={isBrowser:!0,classes:{URLSearchParams:tA,FormData:nA,Blob:rA},protocols:["http","https","file","blob","url","data"]},ya=typeof window<"u"&&typeof document<"u",Yi=typeof navigator=="object"&&navigator||void 0,iA=ya&&(!Yi||["ReactNative","NativeScript","NS"].indexOf(Yi.product)<0),sA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aA=ya&&window.location.href||"http://localhost",cA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ya,hasStandardBrowserEnv:iA,hasStandardBrowserWebWorkerEnv:sA,navigator:Yi,origin:aA},Symbol.toStringTag,{value:"Module"})),Re={...cA,...oA};function lA(n,e){return Yo(n,new Re.classes.URLSearchParams,Object.assign({visitor:function(t,r,o,i){return Re.isNode&&C.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function dA(n){return C.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hA(n){const e={},t=Object.keys(n);let r;const o=t.length;let i;for(r=0;r<o;r++)i=t[r],e[i]=n[i];return e}function cu(n){function e(t,r,o,i){let s=t[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=i>=t.length;return s=!s&&C.isArray(o)?o.length:s,c?(C.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!C.isObject(o[s]))&&(o[s]=[]),e(t,r,o[s],i)&&C.isArray(o[s])&&(o[s]=hA(o[s])),!a)}if(C.isFormData(n)&&C.isFunction(n.entries)){const t={};return C.forEachEntry(n,(r,o)=>{e(dA(r),o,t,0)}),t}return null}function uA(n,e,t){if(C.isString(n))try{return(e||JSON.parse)(n),C.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const _r={transitional:au,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,i=C.isObject(e);if(i&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return o?JSON.stringify(cu(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e)||C.isReadableStream(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lA(e,this.formSerializer).toString();if((a=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Yo(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),uA(e)):e}],transformResponse:[function(e){const t=this.transitional||_r.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(C.isResponse(e)||C.isReadableStream(e))return e;if(e&&C.isString(e)&&(r&&!this.responseType||o)){const s=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?z.from(a,z.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],n=>{_r.headers[n]={}});const fA=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gA=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(s){o=s.indexOf(":"),t=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!t||e[t]&&fA[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Nc=Symbol("internals");function zn(n){return n&&String(n).trim().toLowerCase()}function zr(n){return n===!1||n==null?n:C.isArray(n)?n.map(zr):String(n)}function pA(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const mA=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function mi(n,e,t,r,o){if(C.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function yA(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function CA(n,e){const t=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}let Ke=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function i(a,c,d){const l=zn(c);if(!l)throw new Error("header name must be a non-empty string");const h=C.findKey(o,l);(!h||o[h]===void 0||d===!0||d===void 0&&o[h]!==!1)&&(o[h||c]=zr(a))}const s=(a,c)=>C.forEach(a,(d,l)=>i(d,l,c));if(C.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(C.isString(e)&&(e=e.trim())&&!mA(e))s(gA(e),t);else if(C.isHeaders(e))for(const[a,c]of e.entries())i(c,a,r);else e!=null&&i(t,e,r);return this}get(e,t){if(e=zn(e),e){const r=C.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return pA(o);if(C.isFunction(t))return t.call(this,o,r);if(C.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=zn(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||mi(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function i(s){if(s=zn(s),s){const a=C.findKey(r,s);a&&(!t||mi(r,r[a],a,t))&&(delete r[a],o=!0)}}return C.isArray(e)?e.forEach(i):i(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const i=t[r];(!e||mi(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const t=this,r={};return C.forEach(this,(o,i)=>{const s=C.findKey(r,i);if(s){t[s]=zr(o),delete t[i];return}const a=e?yA(i):String(i).trim();a!==i&&delete t[i],t[a]=zr(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return C.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&C.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Nc]=this[Nc]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=zn(s);r[a]||(CA(o,s),r[a]=!0)}return C.isArray(e)?e.forEach(i):i(e),this}};Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Ke.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});C.freezeMethods(Ke);function yi(n,e){const t=this||_r,r=e||t,o=Ke.from(r.headers);let i=r.data;return C.forEach(n,function(a){i=a.call(t,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function lu(n){return!!(n&&n.__CANCEL__)}function Hn(n,e,t){z.call(this,n??"canceled",z.ERR_CANCELED,e,t),this.name="CanceledError"}C.inherits(Hn,z,{__CANCEL__:!0});function du(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new z("Request failed with status code "+t.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function TA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function AA(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),l=r[i];s||(s=d),t[o]=c,r[o]=d;let h=i,f=0;for(;h!==o;)f+=t[h++],h=h%n;if(o=(o+1)%n,o===i&&(i=(i+1)%n),d-s<e)return;const m=l&&d-l;return m?Math.round(f*1e3/m):void 0}}function EA(n,e){let t=0,r=1e3/e,o,i;const s=(d,l=Date.now())=>{t=l,o=null,i&&(clearTimeout(i),i=null),n.apply(null,d)};return[(...d)=>{const l=Date.now(),h=l-t;h>=r?s(d,l):(o=d,i||(i=setTimeout(()=>{i=null,s(o)},r-h)))},()=>o&&s(o)]}const po=(n,e,t=3)=>{let r=0;const o=AA(50,250);return EA(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,c=s-r,d=o(c),l=s<=a;r=s;const h={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&l?(a-s)/d:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},Mc=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},xc=n=>(...e)=>C.asap(()=>n(...e)),wA=Re.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Re.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Re.origin),Re.navigator&&/(msie|trident)/i.test(Re.navigator.userAgent)):()=>!0,_A=Re.hasStandardBrowserEnv?{write(n,e,t,r,o,i){const s=[n+"="+encodeURIComponent(e)];C.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),C.isString(r)&&s.push("path="+r),C.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function IA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function hu(n,e,t){let r=!SA(e);return n&&(r||t==!1)?IA(n,e):e}const Dc=n=>n instanceof Ke?{...n}:n;function fn(n,e){e=e||{};const t={};function r(d,l,h,f){return C.isPlainObject(d)&&C.isPlainObject(l)?C.merge.call({caseless:f},d,l):C.isPlainObject(l)?C.merge({},l):C.isArray(l)?l.slice():l}function o(d,l,h,f){if(C.isUndefined(l)){if(!C.isUndefined(d))return r(void 0,d,h,f)}else return r(d,l,h,f)}function i(d,l){if(!C.isUndefined(l))return r(void 0,l)}function s(d,l){if(C.isUndefined(l)){if(!C.isUndefined(d))return r(void 0,d)}else return r(void 0,l)}function a(d,l,h){if(h in e)return r(d,l);if(h in n)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(d,l,h)=>o(Dc(d),Dc(l),h,!0)};return C.forEach(Object.keys(Object.assign({},n,e)),function(l){const h=c[l]||o,f=h(n[l],e[l],l);C.isUndefined(f)&&h!==a||(t[l]=f)}),t}const uu=n=>{const e=fn({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=e;e.headers=s=Ke.from(s),e.url=su(hu(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(C.isFormData(t)){if(Re.hasStandardBrowserEnv||Re.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...l]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...l].join("; "))}}if(Re.hasStandardBrowserEnv&&(r&&C.isFunction(r)&&(r=r(e)),r||r!==!1&&wA(e.url))){const d=o&&i&&_A.read(i);d&&s.set(o,d)}return e},vA=typeof XMLHttpRequest<"u",bA=vA&&function(n){return new Promise(function(t,r){const o=uu(n);let i=o.data;const s=Ke.from(o.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:d}=o,l,h,f,m,y;function T(){m&&m(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(l),o.signal&&o.signal.removeEventListener("abort",l)}let I=new XMLHttpRequest;I.open(o.method.toUpperCase(),o.url,!0),I.timeout=o.timeout;function M(){if(!I)return;const H=Ke.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:H,config:n,request:I};du(function(pe){t(pe),T()},function(pe){r(pe),T()},V),I=null}"onloadend"in I?I.onloadend=M:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(M)},I.onabort=function(){I&&(r(new z("Request aborted",z.ECONNABORTED,n,I)),I=null)},I.onerror=function(){r(new z("Network Error",z.ERR_NETWORK,n,I)),I=null},I.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const V=o.transitional||au;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),r(new z(D,V.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,n,I)),I=null},i===void 0&&s.setContentType(null),"setRequestHeader"in I&&C.forEach(s.toJSON(),function(D,V){I.setRequestHeader(V,D)}),C.isUndefined(o.withCredentials)||(I.withCredentials=!!o.withCredentials),a&&a!=="json"&&(I.responseType=o.responseType),d&&([f,y]=po(d,!0),I.addEventListener("progress",f)),c&&I.upload&&([h,m]=po(c),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",m)),(o.cancelToken||o.signal)&&(l=H=>{I&&(r(!H||H.type?new Hn(null,n,I):H),I.abort(),I=null)},o.cancelToken&&o.cancelToken.subscribe(l),o.signal&&(o.signal.aborted?l():o.signal.addEventListener("abort",l)));const L=TA(o.url);if(L&&Re.protocols.indexOf(L)===-1){r(new z("Unsupported protocol "+L+":",z.ERR_BAD_REQUEST,n));return}I.send(i||null)})},RA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const i=function(d){if(!o){o=!0,a();const l=d instanceof Error?d:this.reason;r.abort(l instanceof z?l:new Hn(l instanceof Error?l.message:l))}};let s=e&&setTimeout(()=>{s=null,i(new z(`timeout ${e} of ms exceeded`,z.ETIMEDOUT))},e);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),n=null)};n.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>C.asap(a),c}},kA=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},OA=async function*(n,e){for await(const t of PA(n))yield*kA(t,e)},PA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Lc=(n,e,t,r)=>{const o=OA(n,e);let i=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:l}=await o.next();if(d){a(),c.close();return}let h=l.byteLength;if(t){let f=i+=h;t(f)}c.enqueue(new Uint8Array(l))}catch(d){throw a(d),d}},cancel(c){return a(c),o.return()}},{highWaterMark:2})},Qo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fu=Qo&&typeof ReadableStream=="function",NA=Qo&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),gu=(n,...e)=>{try{return!!n(...e)}catch{return!1}},MA=fu&&gu(()=>{let n=!1;const e=new Request(Re.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Uc=64*1024,Qi=fu&&gu(()=>C.isReadableStream(new Response("").body)),mo={stream:Qi&&(n=>n.body)};Qo&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!mo[e]&&(mo[e]=C.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new z(`Response type '${e}' is not supported`,z.ERR_NOT_SUPPORT,r)})})})(new Response);const xA=async n=>{if(n==null)return 0;if(C.isBlob(n))return n.size;if(C.isSpecCompliantForm(n))return(await new Request(Re.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(C.isArrayBufferView(n)||C.isArrayBuffer(n))return n.byteLength;if(C.isURLSearchParams(n)&&(n=n+""),C.isString(n))return(await NA(n)).byteLength},DA=async(n,e)=>{const t=C.toFiniteNumber(n.getContentLength());return t??xA(e)},LA=Qo&&(async n=>{let{url:e,method:t,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:d,headers:l,withCredentials:h="same-origin",fetchOptions:f}=uu(n);d=d?(d+"").toLowerCase():"text";let m=RA([o,i&&i.toAbortSignal()],s),y;const T=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let I;try{if(c&&MA&&t!=="get"&&t!=="head"&&(I=await DA(l,r))!==0){let V=new Request(e,{method:"POST",body:r,duplex:"half"}),Ce;if(C.isFormData(r)&&(Ce=V.headers.get("content-type"))&&l.setContentType(Ce),V.body){const[pe,Oe]=Mc(I,po(xc(c)));r=Lc(V.body,Uc,pe,Oe)}}C.isString(h)||(h=h?"include":"omit");const M="credentials"in Request.prototype;y=new Request(e,{...f,signal:m,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:M?h:void 0});let L=await fetch(y);const H=Qi&&(d==="stream"||d==="response");if(Qi&&(a||H&&T)){const V={};["status","statusText","headers"].forEach(St=>{V[St]=L[St]});const Ce=C.toFiniteNumber(L.headers.get("content-length")),[pe,Oe]=a&&Mc(Ce,po(xc(a),!0))||[];L=new Response(Lc(L.body,Uc,pe,()=>{Oe&&Oe(),T&&T()}),V)}d=d||"text";let D=await mo[C.findKey(mo,d)||"text"](L,n);return!H&&T&&T(),await new Promise((V,Ce)=>{du(V,Ce,{data:D,headers:Ke.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:y})})}catch(M){throw T&&T(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,n,y),{cause:M.cause||M}):z.from(M,M&&M.code,n,y)}}),Ji={http:JT,xhr:bA,fetch:LA};C.forEach(Ji,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Hc=n=>`- ${n}`,UA=n=>C.isFunction(n)||n===null||n===!1,pu={getAdapter:n=>{n=C.isArray(n)?n:[n];const{length:e}=n;let t,r;const o={};for(let i=0;i<e;i++){t=n[i];let s;if(r=t,!UA(t)&&(r=Ji[(s=String(t)).toLowerCase()],r===void 0))throw new z(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(Hc).join(`
`):" "+Hc(i[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Ji};function Ci(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Hn(null,n)}function Fc(n){return Ci(n),n.headers=Ke.from(n.headers),n.data=yi.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),pu.getAdapter(n.adapter||_r.adapter)(n).then(function(r){return Ci(n),r.data=yi.call(n,n.transformResponse,r),r.headers=Ke.from(r.headers),r},function(r){return lu(r)||(Ci(n),r&&r.response&&(r.response.data=yi.call(n,n.transformResponse,r.response),r.response.headers=Ke.from(r.response.headers))),Promise.reject(r)})}const mu="1.8.4",Jo={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Jo[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Bc={};Jo.transitional=function(e,t,r){function o(i,s){return"[Axios v"+mu+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new z(o(s," has been removed"+(t?" in "+t:"")),z.ERR_DEPRECATED);return t&&!Bc[s]&&(Bc[s]=!0,console.warn(o(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,a):!0}};Jo.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function HA(n,e,t){if(typeof n!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=n[i],c=a===void 0||s(a,i,n);if(c!==!0)throw new z("option "+i+" must be "+c,z.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new z("Unknown option "+i,z.ERR_BAD_OPTION)}}const jr={assertOptions:HA,validators:Jo},ut=jr.validators;let on=class{constructor(e){this.defaults=e,this.interceptors={request:new Pc,response:new Pc}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fn(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:i}=t;r!==void 0&&jr.assertOptions(r,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),o!=null&&(C.isFunction(o)?t.paramsSerializer={serialize:o}:jr.assertOptions(o,{encode:ut.function,serialize:ut.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),jr.assertOptions(t,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&C.merge(i.common,i[t.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),t.headers=Ke.concat(s,i);const a=[];let c=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(c=c&&T.synchronous,a.unshift(T.fulfilled,T.rejected))});const d=[];this.interceptors.response.forEach(function(T){d.push(T.fulfilled,T.rejected)});let l,h=0,f;if(!c){const y=[Fc.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,d),f=y.length,l=Promise.resolve(t);h<f;)l=l.then(y[h++],y[h++]);return l}f=a.length;let m=t;for(h=0;h<f;){const y=a[h++],T=a[h++];try{m=y(m)}catch(I){T.call(this,I);break}}try{l=Fc.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,f=d.length;h<f;)l=l.then(d[h++],d[h++]);return l}getUri(e){e=fn(this.defaults,e);const t=hu(e.baseURL,e.url,e.allowAbsoluteUrls);return su(t,e.params,e.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(e){on.prototype[e]=function(t,r){return this.request(fn(r||{},{method:e,url:t,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function t(r){return function(i,s,a){return this.request(fn(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}on.prototype[e]=t(),on.prototype[e+"Form"]=t(!0)});let FA=class yu{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new Hn(i,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new yu(function(o){e=o}),cancel:e}}};function BA(n){return function(t){return n.apply(null,t)}}function KA(n){return C.isObject(n)&&n.isAxiosError===!0}const Xi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xi).forEach(([n,e])=>{Xi[e]=n});function Cu(n){const e=new on(n),t=Yh(on.prototype.request,e);return C.extend(t,on.prototype,e,{allOwnKeys:!0}),C.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Cu(fn(n,o))},t}const ge=Cu(_r);ge.Axios=on;ge.CanceledError=Hn;ge.CancelToken=FA;ge.isCancel=lu;ge.VERSION=mu;ge.toFormData=Yo;ge.AxiosError=z;ge.Cancel=ge.CanceledError;ge.all=function(e){return Promise.all(e)};ge.spread=BA;ge.isAxiosError=KA;ge.mergeConfig=fn;ge.AxiosHeaders=Ke;ge.formToJSON=n=>cu(C.isHTMLForm(n)?new FormData(n):n);ge.getAdapter=pu.getAdapter;ge.HttpStatusCode=Xi;ge.default=ge;const{Axios:ZA,AxiosError:eE,CanceledError:tE,isCancel:nE,CancelToken:rE,VERSION:oE,all:iE,Cancel:sE,isAxiosError:aE,spread:cE,toFormData:lE,AxiosHeaders:dE,HttpStatusCode:hE,formToJSON:uE,getAdapter:fE,mergeConfig:gE}=ge,qA={class:"flex flex-col min-h-screen w-full px-4 py-6 space-y-6"},$A={class:"flex justify-between items-center w-full"},GA={key:0,class:"flex items-center space-x-4"},zA={class:"flex flex-row justify-center items-start w-full gap-10"},jA={class:"flex flex-col items-center w-3/8"},VA={class:"flex flex-col items-center w-3/8"},WA={__name:"App",setup(n){const e=Ot([]),t=Ot([]),r=Ot(!1),o=Ot(null),i=Ot(!0),s=async()=>{if(o.value)try{const l=new Date,h=l.getDay(),f=new Date(l);f.setDate(l.getDate()-(h===0?6:h-1)),f.setHours(0,0,0,0);const m=new Date(f);m.setDate(f.getDate()+4),m.setHours(23,59,59,999);const y=await ge.get(`https://graph.microsoft.com/v1.0/me/calendarView?startDateTime=${f.toISOString()}&endDateTime=${m.toISOString()}`,{headers:{Authorization:`Bearer ${o.value}`}});e.value=y.data.value;const T=new Date(l);T.setDate(l.getDate()-(h===0?6:h-1)+7),T.setHours(0,0,0,0);const I=new Date(T);I.setDate(T.getDate()+4),I.setHours(23,59,59,999);const M=await ge.get(`https://graph.microsoft.com/v1.0/me/calendarView?startDateTime=${T.toISOString()}&endDateTime=${I.toISOString()}`,{headers:{Authorization:`Bearer ${o.value}`}});t.value=M.data.value}catch(l){console.error("Error fetching events",l)}};let a;gs(()=>{a=setInterval(s,6e4)}),pr(()=>{clearInterval(a)});const c=({isAuthenticated:l,accessToken:h})=>{r.value=l,o.value=h,l&&h&&s()},d=()=>{i.value=!1};return(l,h)=>(he(),me("div",qA,[re("div",$A,[h[0]||(h[0]=re("img",{alt:"FMCI logo",class:"h-12 w-auto",src:$g},null,-1)),i.value?(he(),me("div",GA,[At(uT,{onAuthChanged:c}),re("button",{class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:d}," Hide Login Button ")])):Nt("",!0)]),re("div",zA,[re("div",jA,[r.value?(he(),Ri(rp,{key:0,isAuthenticated:r.value,accessToken:o.value,events:e.value},null,8,["isAuthenticated","accessToken","events"])):Nt("",!0)]),re("div",VA,[r.value?(he(),Ri(yp,{key:0,isAuthenticated:r.value,accessToken:o.value,events:t.value},null,8,["isAuthenticated","accessToken","events"])):Nt("",!0)])])]))}},YA=Cs(WA,[["__scopeId","data-v-a5a69a6b"]]);Bg(YA).mount("#app");
